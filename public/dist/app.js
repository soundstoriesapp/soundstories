/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */

/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */

/*!
 * CanJS - 2.1.4
 * http://canjs.us/
 * Copyright (c) 2014 Bitovi
 * Fri, 21 Nov 2014 22:25:48 GMT
 * Licensed MIT
 * Includes: CanJS default build
 * Download from: http://canjs.us/
 */

/**
 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*
 *  Sugar Library v1.4.1
 *
 *  Freely distributable and licensed under the MIT-style license.
 *  Copyright (c) 2013 Andrew Plummer
 *  http://sugarjs.com/
 *
 * ---------------------------- */

/***
     * @method codes([fn])
     * @returns Array
     * @short Runs callback [fn] against each character code in the string. Returns an array of character codes.
     * @example
     *
     *   'jumpy'.codes() -> [106,117,109,112,121]
     *   'jumpy'.codes(function(c) {
     *     // Called 5 times: 106, 117, 109, 112, 121
     *   });
     *
     ***/

/***
     * @method chars([fn])
     * @returns Array
     * @short Runs callback [fn] against each character in the string. Returns an array of characters.
     * @example
     *
     *   'jumpy'.chars() -> ['j','u','m','p','y']
     *   'jumpy'.chars(function(c) {
     *     // Called 5 times: "j","u","m","p","y"
     *   });
     *
     ***/

/*
 * jPlayer Plugin for jQuery JavaScript Library
 * http://www.jplayer.org
 *
 * Copyright (c) 2009 - 2014 Happyworm Ltd
 * Licensed under the MIT license.
 * http://opensource.org/licenses/MIT
 *
 * Author: Mark J Panaghiston
 * Version: 2.7.0
 * Date: 1st September 2014
 */

!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(oe.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return W.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t=fe[e]={};return Z.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function s(){K.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Z.ready()}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+o.uid++}function u(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(we,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?Z.parseJSON(n):n}catch(r){}ye.set(e,t,n)}else n=void 0;return n}function c(){return!0}function l(){return!1}function d(){try{return K.activeElement}catch(e){}}function h(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,i=e.length;i>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,i,r,a,s,o,u,c;if(1===t.nodeType){if(ve.hasData(e)&&(a=ve.access(e),s=ve.set(t,a),c=a.events)){delete s.handle,s.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)Z.event.add(t,r,c[r][n])}ye.hasData(e)&&(o=ye.access(e),u=Z.extend({},o),ye.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&je.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var i,r=Z(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:Z.css(r[0],"display");return r.detach(),a}function w(e){var t=K,n=$e[e];return n||(n=b(e,t),"none"!==n&&n||(He=(He||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=He[0].contentDocument,t.write(),t.close(),n=b(e,t),He.detach()),$e[e]=n),n}function _(e,t,n){var i,r,a,s,o=e.style;return n=n||Ie(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Z.contains(e.ownerDocument,e)||(s=Z.style(e,t)),ze.test(s)&&Be.test(t)&&(i=o.width,r=o.minWidth,a=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=i,o.minWidth=r,o.maxWidth=a)),void 0!==s?s+"":s}function x(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Je.length;r--;)if(t=Je[r]+n,t in e)return t;return i}function j(e,t,n){var i=Ue.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function C(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>a;a+=2)"margin"===n&&(s+=Z.css(e,n+xe[a],!0,r)),i?("content"===n&&(s-=Z.css(e,"padding"+xe[a],!0,r)),"margin"!==n&&(s-=Z.css(e,"border"+xe[a]+"Width",!0,r))):(s+=Z.css(e,"padding"+xe[a],!0,r),"padding"!==n&&(s+=Z.css(e,"border"+xe[a]+"Width",!0,r)));return s}function T(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=Ie(e),s="border-box"===Z.css(e,"boxSizing",!1,a);if(0>=r||null==r){if(r=_(e,t,a),(0>r||null==r)&&(r=e.style[t]),ze.test(r))return r;i=s&&(Y.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+C(e,t,n||(s?"border":"content"),i,a)+"px"}function P(e,t){for(var n,i,r,a=[],s=0,o=e.length;o>s;s++)i=e[s],i.style&&(a[s]=ve.get(i,"olddisplay"),n=i.style.display,t?(a[s]||"none"!==n||(i.style.display=""),""===i.style.display&&ke(i)&&(a[s]=ve.access(i,"olddisplay",w(i.nodeName)))):(r=ke(i),"none"===n&&r||ve.set(i,"olddisplay",r?n:Z.css(i,"display"))));for(s=0;o>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[s]||"":"none"));return e}function S(e,t,n,i,r){return new S.prototype.init(e,t,n,i,r)}function A(){return setTimeout(function(){Ye=void 0}),Ye=Z.now()}function E(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=xe[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var i,r=(nt[t]||[]).concat(nt["*"]),a=0,s=r.length;s>a;a++)if(i=r[a].call(n,t,e))return i}function N(e,t,n){var i,r,a,s,o,u,c,l,d=this,h={},p=e.style,f=e.nodeType&&ke(e),m=ve.get(e,"fxshow");n.queue||(o=Z._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,u=o.empty.fire,o.empty.fire=function(){o.unqueued||u()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,Z.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=Z.css(e,"display"),l="none"===c?ve.get(e,"olddisplay")||w(e.nodeName):c,"inline"===l&&"none"===Z.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Qe.exec(r)){if(delete t[i],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}h[i]=m&&m[i]||Z.style(e,i)}else c=void 0;if(Z.isEmptyObject(h))"inline"===("none"===c?w(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=ve.access(e,"fxshow",{}),a&&(m.hidden=!f),f?Z(e).show():d.done(function(){Z(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in h)Z.style(e,t,h[t])});for(i in h)s=M(f?m[i]:0,i,d),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function O(e,t){var n,i,r,a,s;for(n in e)if(i=Z.camelCase(n),r=t[i],a=e[n],Z.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),s=Z.cssHooks[i],s&&"expand"in s){a=s.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=r)}else t[i]=r}function F(e,t,n){var i,r,a=0,s=tt.length,o=Z.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=Ye||A(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,a=1-i,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(a);return o.notifyWith(e,[c,a,n]),1>a&&u?n:(o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ye||A(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Z.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?o.resolveWith(e,[c,t]):o.rejectWith(e,[c,t]),this}}),l=c.props;for(O(l,c.opts.specialEasing);s>a;a++)if(i=tt[a].call(c,e,l,c.opts))return i;return Z.map(l,M,c),Z.isFunction(c.opts.start)&&c.opts.start.call(e,c),Z.fx.timer(Z.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(pe)||[];if(Z.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function q(e,t,n,i){function r(o){var u;return a[o]=!0,Z.each(e[o]||[],function(e,o){var c=o(t,n,i);return"string"!=typeof c||s||a[c]?s?!(u=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),u}var a={},s=e===bt;return r(t.dataTypes[0])||!a["*"]&&r("*")}function R(e,t){var n,i,r=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&Z.extend(!0,e,i),e}function D(e,t,n){for(var i,r,a,s,o=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){u.unshift(r);break}if(u[0]in n)a=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){a=r;break}s||(s=r)}a=a||s}return a?(a!==u[0]&&u.unshift(a),n[a]):void 0}function H(e,t,n,i){var r,a,s,o,u,c={},l=e.dataTypes.slice();if(l[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(a=l.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=l.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(s=c[u+" "+a]||c["* "+a],!s)for(r in c)if(o=r.split(" "),o[1]===a&&(s=c[u+" "+o[0]]||c["* "+o[0]])){s===!0?s=c[r]:c[r]!==!0&&(a=o[0],l.unshift(o[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}function $(e,t,n,i){var r;if(Z.isArray(t))Z.each(t,function(t,r){n||jt.test(e)?i(e,r):$(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(r in t)$(e+"["+r+"]",t[r],n,i)}function B(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var z=[],I=z.slice,V=z.concat,U=z.push,W=z.indexOf,X={},G=X.toString,J=X.hasOwnProperty,Y={},K=e.document,Q="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ie=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return I.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:I.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(I.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:z.sort,splice:z.splice},Z.extend=Z.fn.extend=function(){var e,t,n,i,r,a,s=arguments[0]||{},o=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[o]||{},o++),"object"==typeof s||Z.isFunction(s)||(s={}),o===u&&(s=this,o--);u>o;o++)if(null!=(e=arguments[o]))for(t in e)n=s[t],i=e[t],s!==i&&(c&&i&&(Z.isPlainObject(i)||(r=Z.isArray(i)))?(r?(r=!1,a=n&&Z.isArray(n)?n:[]):a=n&&Z.isPlainObject(n)?n:{},s[t]=Z.extend(c,a,i)):void 0!==i&&(s[t]=i));return s},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!J.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?X[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ie)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,a=0,s=e.length,o=n(e);if(i){if(o)for(;s>a&&(r=t.apply(e[a],i),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],i),r===!1)break}else if(o)for(;s>a&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?Z.merge(i,"string"==typeof e?[e]:e):U.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:W.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],a=0,s=e.length,o=!n;s>a;a++)i=!t(e[a],a),i!==o&&r.push(e[a]);return r},map:function(e,t,i){var r,a=0,s=e.length,o=n(e),u=[];if(o)for(;s>a;a++)r=t(e[a],a,i),null!=r&&u.push(r);else for(a in e)r=t(e[a],a,i),null!=r&&u.push(r);return V.apply([],u)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(i=I.call(arguments,2),r=function(){return e.apply(t||this,i.concat(I.call(arguments)))},r.guid=e.guid=e.guid||Z.guid++,r):void 0},now:Date.now,support:Y}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()});var re=function(e){function t(e,t,n,i){var r,a,s,o,u,c,d,p,f,m;if((t?t.ownerDocument||t:$)!==N&&M(t),t=t||N,n=n||[],o=t.nodeType,"string"!=typeof e||!e||1!==o&&9!==o&&11!==o)return n;if(!i&&F){if(11!==o&&(r=ye.exec(e)))if(s=r[1]){if(9===o){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&D(t,a)&&a.id===s)return n.push(a),n}else{if(r[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&_.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(s)),n}if(_.qsa&&(!L||!L.test(e))){if(p=d=H,f=t,m=1!==o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(c=C(e),(d=t.getAttribute("id"))?p=d.replace(we,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=c.length;u--;)c[u]=p+h(c[u]);f=be.test(e)&&l(t.parentNode)||t,m=c.join(",")}if(m)try{return Q.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return P(e.replace(ue,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[H]=!0,e}function r(e){var t=N.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)x.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,a=e([],n.length,t),s=a.length;s--;)n[r=a[s]]&&(n[r]=!(i[r]=n[r]))})})}function l(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=z++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,s){var o,u,c=[B,a];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[H]||(t[H]={}),(o=u[i])&&o[0]===B&&o[1]===a)return c[2]=o[2];if(u[i]=c,c[2]=e(t,n,s))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,a=n.length;a>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var a,s=[],o=0,u=e.length,c=null!=t;u>o;o++)(a=e[o])&&(!n||n(a,i,r))&&(s.push(a),c&&t.push(o));return s}function v(e,t,n,r,a,s){return r&&!r[H]&&(r=v(r)),a&&!a[H]&&(a=v(a,s)),i(function(i,s,o,u){var c,l,d,h=[],p=[],f=s.length,v=i||m(t||"*",o.nodeType?[o]:o,[]),y=!e||!i&&t?v:g(v,h,e,o,u),b=n?a||(i?e:f||r)?[]:s:y;if(n&&n(y,b,o,u),r)for(c=g(b,p),r(c,[],o,u),l=c.length;l--;)(d=c[l])&&(b[p[l]]=!(y[p[l]]=d));if(i){if(a||e){if(a){for(c=[],l=b.length;l--;)(d=b[l])&&c.push(y[l]=d);a(null,b=[],c,u)}for(l=b.length;l--;)(d=b[l])&&(c=a?ee(i,d):h[l])>-1&&(i[c]=!(s[c]=d))}}else b=g(b===s?b.splice(f,b.length):b),a?a(null,s,b,u):Q.apply(s,b)})}function y(e){for(var t,n,i,r=e.length,a=x.relative[e[0].type],s=a||x.relative[" "],o=a?1:0,u=p(function(e){return e===t},s,!0),c=p(function(e){return ee(t,e)>-1},s,!0),l=[function(e,n,i){var r=!a&&(i||n!==S)||((t=n).nodeType?u(e,n,i):c(e,n,i));return t=null,r}];r>o;o++)if(n=x.relative[e[o].type])l=[p(f(l),n)];else{if(n=x.filter[e[o].type].apply(null,e[o].matches),n[H]){for(i=++o;r>i&&!x.relative[e[i].type];i++);return v(o>1&&f(l),o>1&&h(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(ue,"$1"),n,i>o&&y(e.slice(o,i)),r>i&&y(e=e.slice(i)),r>i&&h(e))}l.push(n)}return f(l)}function b(e,n){var r=n.length>0,a=e.length>0,s=function(i,s,o,u,c){var l,d,h,p=0,f="0",m=i&&[],v=[],y=S,b=i||a&&x.find.TAG("*",c),w=B+=null==y?1:Math.random()||.1,_=b.length;for(c&&(S=s!==N&&s);f!==_&&null!=(l=b[f]);f++){if(a&&l){for(d=0;h=e[d++];)if(h(l,s,o)){u.push(l);break}c&&(B=w)}r&&((l=!h&&l)&&p--,i&&m.push(l))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(m,v,s,o);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Y.call(u));v=g(v)}Q.apply(u,v),c&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return c&&(B=w,S=y),m};return r?i(s):s}var w,_,x,k,j,C,T,P,S,A,E,M,N,O,F,L,q,R,D,H="sizzle"+1*new Date,$=e.document,B=0,z=0,I=n(),V=n(),U=n(),W=function(e,t){return e===t&&(E=!0),0},X=1<<31,G={}.hasOwnProperty,J=[],Y=J.pop,K=J.push,Q=J.push,Z=J.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),ae="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",oe=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(se),pe=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ke=function(){M()};try{Q.apply(J=Z.call($.childNodes),$.childNodes),J[$.childNodes.length].nodeType}catch(je){Q={apply:J.length?function(e,t){K.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}_=t.support={},j=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},M=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:$;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,O=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),F=!j(i),_.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ve.test(i.getElementsByClassName),_.getById=r(function(e){return O.appendChild(e).id=H,!i.getElementsByName||!i.getElementsByName(H).length}),_.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&F){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(_e,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(_e,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},x.find.CLASS=_.getElementsByClassName&&function(e,t){return F?t.getElementsByClassName(e):void 0},q=[],L=[],(_.qsa=ve.test(i.querySelectorAll))&&(r(function(e){O.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||L.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(_.matchesSelector=ve.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){_.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),q.push("!=",se)}),L=L.length&&new RegExp(L.join("|")),q=q.length&&new RegExp(q.join("|")),t=ve.test(O.compareDocumentPosition),D=t||ve.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return E=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===$&&D($,e)?-1:t===i||t.ownerDocument===$&&D($,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return E=!0,0;var n,r=0,a=e.parentNode,o=t.parentNode,u=[e],c=[t];if(!a||!o)return e===i?-1:t===i?1:a?-1:o?1:A?ee(A,e)-ee(A,t):0;if(a===o)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;u[r]===c[r];)r++;return r?s(u[r],c[r]):u[r]===$?-1:c[r]===$?1:0},i):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&M(e),n=n.replace(de,"='$1']"),_.matchesSelector&&F&&(!q||!q.test(n))&&(!L||!L.test(n)))try{var i=R.call(e,n);if(i||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&M(e),D(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&M(e);var n=x.attrHandle[t.toLowerCase()],i=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!F):void 0;return void 0!==i?i:_.attributes||!F?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(E=!_.detectDuplicates,A=!_.sortStable&&e.slice(0),e.sort(W),E){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return A=null,e},k=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=k(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=I[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&I(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var a=t.attr(r,e);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(oe," ")+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,h,p,f,m=a!==s?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),y=!u&&!o;if(g){if(a){for(;m;){for(d=t;d=d[m];)if(o?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(l=g[H]||(g[H]={}),c=l[e]||[],p=c[0]===B&&c[1],h=c[0]===B&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){l[e]=[B,p,h];break}}else if(y&&(c=(t[H]||(t[H]={}))[e])&&c[0]===B)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((o?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[H]||(d[H]={}))[e]=[B,h]),d!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[H]?a(n):a.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=a(e,n),s=r.length;s--;)i=ee(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return a(e,0,r)}):a}},pseudos:{not:i(function(e){var t=[],n=[],r=T(e.replace(ue,"$1"));return r[H]?i(function(e,t,n,i){for(var a,s=r(e,null,i,[]),o=e.length;o--;)(a=s[o])&&(e[o]=!(t[o]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(_e,xe),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,xe).toLowerCase(),function(t){var n;do if(n=F?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=o(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=u(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,C=t.tokenize=function(e,n){var i,r,a,s,o,u,c,l=V[e+" "];if(l)return n?0:l.slice(0);for(o=e,u=[],c=x.preFilter;o;){(!i||(r=ce.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),u.push(a=[])),i=!1,(r=le.exec(o))&&(i=r.shift(),a.push({value:i,type:r[0].replace(ue," ")}),o=o.slice(i.length));for(s in x.filter)!(r=fe[s].exec(o))||c[s]&&!(r=c[s](r))||(i=r.shift(),a.push({value:i,type:s,matches:r}),o=o.slice(i.length));if(!i)break}return n?o.length:o?t.error(e):V(e,u).slice(0)},T=t.compile=function(e,t){var n,i=[],r=[],a=U[e+" "];if(!a){for(t||(t=C(e)),n=t.length;n--;)a=y(t[n]),a[H]?i.push(a):r.push(a);a=U(e,b(r,i)),a.selector=e}return a},P=t.select=function(e,t,n,i){var r,a,s,o,u,c="function"==typeof e&&e,d=!i&&C(e=c.selector||e);if(n=n||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(s=a[0]).type&&_.getById&&9===t.nodeType&&F&&x.relative[a[1].type]){if(t=(x.find.ID(s.matches[0].replace(_e,xe),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=fe.needsContext.test(e)?0:a.length;r--&&(s=a[r],!x.relative[o=s.type]);)if((u=x.find[o])&&(i=u(s.matches[0].replace(_e,xe),be.test(a[0].type)&&l(t.parentNode)||t))){if(a.splice(r,1),e=i.length&&h(a),!e)return Q.apply(n,i),n;break}}return(c||T(e,d))(i,t,!F,n,be.test(e)&&l(t.parentNode)||t),n},_.sortStable=H.split("").sort(W).join("")===H,_.detectDuplicates=!!E,M(),_.sortDetached=r(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||a(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);Z.find=re,Z.expr=re.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=re.uniqueSort,Z.text=re.getText,Z.isXMLDoc=re.isXML,Z.contains=re.contains;var ae=Z.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Z.find.matchesSelector(i,e)?[i]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;
if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(r[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,r[t],i);return i=this.pushStack(n>1?Z.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ae.test(e)?Z(e):e||[],!1).length}});var ue,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,le=Z.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ce.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),se.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=K.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};le.prototype=Z.fn,ue=Z(K);var de=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&Z(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,a=[],s=ae.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?Z.unique(a):a)},index:function(e){return e?"string"==typeof e?W.call(Z(e),this[0]):W.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var r=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),this.length>1&&(he[e]||Z.unique(r),de.test(e)&&r.reverse()),this.pushStack(r)}});var pe=/\S+/g,fe={};Z.Callbacks=function(e){e="string"==typeof e?fe[e]||a(e):Z.extend({},e);var t,n,i,r,s,o,u=[],c=!e.once&&[],l=function(a){for(t=e.memory&&a,n=!0,o=r||0,r=0,s=u.length,i=!0;u&&s>o;o++)if(u[o].apply(a[0],a[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,u&&(c?c.length&&l(c.shift()):t?u=[]:d.disable())},d={add:function(){if(u){var n=u.length;!function a(t){Z.each(t,function(t,n){var i=Z.type(n);"function"===i?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==i&&a(n)})}(arguments),i?s=u.length:t&&(r=n,l(t))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),i&&(s>=n&&s--,o>=n&&o--)}),this},has:function(e){return e?Z.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=c=t=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,t||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!u||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):l(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,a){var s=Z.isFunction(e[t])&&e[t];r[a[1]](function(){var e=s&&s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},r={};return i.pipe=i.then,Z.each(t,function(e,a){var s=a[2],o=a[3];i[a[1]]=s.add,o&&s.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=I.call(arguments),s=a.length,o=1!==s||e&&Z.isFunction(e.promise)?s:0,u=1===o?e:Z.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?I.call(arguments):r,i===t?u.notifyWith(n,i):--o||u.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)a[r]&&Z.isFunction(a[r].promise)?a[r].promise().done(c(r,i,a)).fail(u.reject).progress(c(r,n,t)):--o;return o||u.resolveWith(i,a),u.promise()}});var me;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(me.resolveWith(K,[Z]),Z.fn.triggerHandler&&(Z(K).triggerHandler("ready"),Z(K).off("ready"))))}}),Z.ready.promise=function(t){return me||(me=Z.Deferred(),"complete"===K.readyState?setTimeout(Z.ready):(K.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),me.promise(t)},Z.ready.promise();var ge=Z.access=function(e,t,n,i,r,a,s){var o=0,u=e.length,c=null==n;if("object"===Z.type(n)){r=!0;for(o in n)Z.access(e,t,o,n[o],!0,a,s)}else if(void 0!==i&&(r=!0,Z.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(Z(e),n)})),t))for(;u>o;o++)t(e[o],n,s?i:i.call(e[o],o,t(e[o],n)));return r?e:c?t.call(e):u?t(e[0],n):a};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},o.uid=1,o.accepts=Z.acceptData,o.prototype={key:function(e){if(!o.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=o.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),a=this.cache[r];if("string"==typeof t)a[t]=n;else if(Z.isEmptyObject(a))Z.extend(this.cache[r],t);else for(i in t)a[i]=t[i];return a},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,a=this.key(e),s=this.cache[a];if(void 0===t)this.cache[a]={};else{Z.isArray(t)?i=t.concat(t.map(Z.camelCase)):(r=Z.camelCase(t),t in s?i=[t,r]:(i=r,i=i in s?[i]:i.match(pe)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new o,ye=new o,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;Z.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,i,r,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(r=ye.get(a),1===a.nodeType&&!ve.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=Z.camelCase(i.slice(5)),u(a,i,r[i])));ve.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ye.set(this,e)}):ge(this,function(t){var n,i=Z.camelCase(e);if(a&&void 0===t){if(n=ye.get(a,e),void 0!==n)return n;if(n=ye.get(a,i),void 0!==n)return n;if(n=u(a,i,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,i);ye.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ve.get(e,t),n&&(!i||Z.isArray(n)?i=ve.access(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,r=n.shift(),a=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,s,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=Z.Deferred(),a=this,s=this.length,o=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ve.get(a[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(t)}});var _e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},je=/^(?:checkbox|radio)$/i;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div")),n=K.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Y.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ce="undefined";Y.focusinBubbles="onfocusin"in e;var Te=/^key/,Pe=/^(?:mouse|pointer|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,Ae=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,i,r){var a,s,o,u,c,l,d,h,p,f,m,g=ve.get(e);if(g)for(n.handler&&(a=n,n=a.handler,r=a.selector),n.guid||(n.guid=Z.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(t){return typeof Z!==Ce&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pe)||[""],c=t.length;c--;)o=Ae.exec(t[c])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(d=Z.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=Z.event.special[p]||{},l=Z.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:f.join(".")},a),(h=u[p])||(h=u[p]=[],h.delegateCount=0,d.setup&&d.setup.call(e,i,f,s)!==!1||e.addEventListener&&e.addEventListener(p,s,!1)),d.add&&(d.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,l):h.push(l),Z.event.global[p]=!0)},remove:function(e,t,n,i,r){var a,s,o,u,c,l,d,h,p,f,m,g=ve.hasData(e)&&ve.get(e);if(g&&(u=g.events)){for(t=(t||"").match(pe)||[""],c=t.length;c--;)if(o=Ae.exec(t[c])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p){for(d=Z.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=u[p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=a=h.length;a--;)l=h[a],!r&&m!==l.origType||n&&n.guid!==l.guid||o&&!o.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(h.splice(a,1),l.selector&&h.delegateCount--,d.remove&&d.remove.call(e,l));s&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||Z.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)Z.event.remove(e,p+t[c],n,i,!0);Z.isEmptyObject(u)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,i,r){var a,s,o,u,c,l,d,h=[i||K],p=J.call(t,"type")?t.type:t,f=J.call(t,"namespace")?t.namespace.split("."):[];if(s=o=i=i||K,3!==i.nodeType&&8!==i.nodeType&&!Se.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[Z.expando]?t:new Z.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:Z.makeArray(n,[t]),d=Z.event.special[p]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!Z.isWindow(i)){for(u=d.delegateType||p,Se.test(u+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),o=s;o===(i.ownerDocument||K)&&h.push(o.defaultView||o.parentWindow||e)}for(a=0;(s=h[a++])&&!t.isPropagationStopped();)t.type=a>1?u:d.bindType||p,l=(ve.get(s,"events")||{})[t.type]&&ve.get(s,"handle"),l&&l.apply(s,n),l=c&&s[c],l&&l.apply&&Z.acceptData(s)&&(t.result=l.apply(s,n),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!Z.acceptData(i)||c&&Z.isFunction(i[p])&&!Z.isWindow(i)&&(o=i[c],o&&(i[c]=null),Z.event.triggered=p,i[p](),Z.event.triggered=void 0,o&&(i[c]=o)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,i,r,a,s=[],o=I.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],c=Z.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=Z.event.handlers.call(this,e,u),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((Z.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,o),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,a,s=[],o=t.delegateCount,u=e.target;if(o&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(i=[],n=0;o>n;n++)a=t[n],r=a.selector+" ",void 0===i[r]&&(i[r]=a.needsContext?Z(r,this).index(u)>=0:Z.find(r,this,null,[u]).length),i[r]&&i.push(a);i.length&&s.push({elem:u,handlers:i})}return o<t.length&&s.push({elem:this,handlers:t.slice(o)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,a=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||K,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i,r=e.type,a=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Pe.test(r)?this.mouseHooks:Te.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new Z.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,t):Z.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:l):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return(!r||r!==i&&!Z.contains(i,r))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),Y.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ve.access(i,t);r||i.addEventListener(e,n,!0),ve.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ve.access(i,t)-1;r?ve.access(i,t,r):(i.removeEventListener(e,n,!0),ve.remove(i,t))}}}),Z.fn.extend({on:function(e,t,n,i,r){var a,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=l;else if(!i)return this;return 1===r&&(a=i,i=function(e){return Z().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Z(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=l),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var Ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Me=/<([\w:]+)/,Ne=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Fe=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^$|\/(?:java|ecma)script/i,qe=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,De={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};De.optgroup=De.option,De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td,Z.extend({clone:function(e,t,n){var i,r,a,s,o=e.cloneNode(!0),u=Z.contains(e.ownerDocument,e);if(!(Y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(s=v(o),a=v(e),i=0,r=a.length;r>i;i++)y(a[i],s[i]);if(t)if(n)for(a=a||v(e),s=s||v(o),i=0,r=a.length;r>i;i++)g(a[i],s[i]);else g(e,o);return s=v(o,"script"),s.length>0&&m(s,!u&&v(e,"script")),o},buildFragment:function(e,t,n,i){for(var r,a,s,o,u,c,l=t.createDocumentFragment(),d=[],h=0,p=e.length;p>h;h++)if(r=e[h],r||0===r)if("object"===Z.type(r))Z.merge(d,r.nodeType?[r]:r);else if(Ne.test(r)){for(a=a||l.appendChild(t.createElement("div")),s=(Me.exec(r)||["",""])[1].toLowerCase(),o=De[s]||De._default,a.innerHTML=o[1]+r.replace(Ee,"<$1></$2>")+o[2],c=o[0];c--;)a=a.lastChild;Z.merge(d,a.childNodes),a=l.firstChild,a.textContent=""}else d.push(t.createTextNode(r));for(l.textContent="",h=0;r=d[h++];)if((!i||-1===Z.inArray(r,i))&&(u=Z.contains(r.ownerDocument,r),a=v(l.appendChild(r),"script"),u&&m(a),n))for(c=0;r=a[c++];)Le.test(r.type||"")&&n.push(r);return l},cleanData:function(e){for(var t,n,i,r,a=Z.event.special,s=0;void 0!==(n=e[s]);s++){if(Z.acceptData(n)&&(r=n[ve.expando],r&&(t=ve.cache[r]))){if(t.events)for(i in t.events)a[i]?Z.event.remove(n,i):Z.removeEvent(n,i,t.handle);ve.cache[r]&&delete ve.cache[r]}delete ye.cache[n[ye.expando]]}}}),Z.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?Z.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!De[(Me.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ee,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=V.apply([],e);var n,i,r,a,s,o,u=0,c=this.length,l=this,d=c-1,h=e[0],m=Z.isFunction(h);if(m||c>1&&"string"==typeof h&&!Y.checkClone&&Fe.test(h))return this.each(function(n){var i=l.eq(n);m&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Z.map(v(n,"script"),p),a=r.length;c>u;u++)s=n,u!==d&&(s=Z.clone(s,!0,!0),a&&Z.merge(r,v(s,"script"))),t.call(this[u],s,u);if(a)for(o=r[r.length-1].ownerDocument,Z.map(r,f),u=0;a>u;u++)s=r[u],Le.test(s.type||"")&&!ve.access(s,"globalEval")&&Z.contains(o,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Re,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,i=[],r=Z(e),a=r.length-1,s=0;a>=s;s++)n=s===a?this:this.clone(!0),Z(r[s])[t](n),U.apply(i,n.get());return this.pushStack(i)}});var He,$e={},Be=/^margin/,ze=new RegExp("^("+_e+")(?!px)[a-z%]+$","i"),Ie=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(a);var t=e.getComputedStyle(s,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(a)}var n,i,r=K.documentElement,a=K.createElement("div"),s=K.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",a.appendChild(s),e.getComputedStyle&&Z.extend(Y,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=s.appendChild(K.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",r.appendChild(a),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(a),s.removeChild(n),t}}))}(),Z.swap=function(e,t,n,i){var r,a,s={};for(a in t)s[a]=e.style[a],e.style[a]=t[a];r=n.apply(e,i||[]);for(a in t)e.style[a]=s[a];return r};var Ve=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+_e+")(.*)$","i"),We=new RegExp("^([+-])=("+_e+")","i"),Xe={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Je=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,s,o=Z.camelCase(t),u=e.style;return t=Z.cssProps[o]||(Z.cssProps[o]=k(u,o)),s=Z.cssHooks[t]||Z.cssHooks[o],void 0===n?s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:u[t]:(a=typeof n,"string"===a&&(r=We.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Z.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||Z.cssNumber[o]||(n+="px"),Y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(u[t]=n)),void 0)}},css:function(e,t,n,i){var r,a,s,o=Z.camelCase(t);return t=Z.cssProps[o]||(Z.cssProps[o]=k(e.style,o)),s=Z.cssHooks[t]||Z.cssHooks[o],s&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=_(e,t,i)),"normal"===r&&t in Ge&&(r=Ge[t]),""===n||n?(a=parseFloat(r),n===!0||Z.isNumeric(a)?a||0:r):r}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?Ve.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Xe,function(){return T(e,t,i)}):T(e,t,i):void 0},set:function(e,n,i){var r=i&&Ie(e);return j(e,n,i?C(e,t,i,"border-box"===Z.css(e,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=x(Y.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},_,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+xe[i]+t]=a[i]||a[i-2]||a[0];return r}},Be.test(e)||(Z.cssHooks[e+t].set=j)}),Z.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var i,r,a={},s=0;if(Z.isArray(t)){for(i=Ie(e),r=t.length;r>s;s++)a[t[s]]=Z.css(e,t[s],!1,i);return a}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=S,S.prototype={constructor:S,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(Z.cssNumber[n]?"":"px")},cur:function(){var e=S.propHooks[this.prop];return e&&e.get?e.get(this):S.propHooks._default.get(this)},run:function(e){var t,n=S.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=S.prototype.init,Z.fx.step={};var Ye,Ke,Qe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+_e+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[N],nt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Ze.exec(t),a=r&&r[3]||(Z.cssNumber[e]?"":"px"),s=(Z.cssNumber[e]||"px"!==a&&+i)&&Ze.exec(Z.css(n.elem,e)),o=1,u=20;if(s&&s[3]!==a){a=a||s[3],r=r||[],s=+i||1;do o=o||".5",s/=o,Z.style(n.elem,e,s+a);while(o!==(o=n.cur()/i)&&1!==o&&--u)}return r&&(s=n.start=+s||+i||0,n.unit=a,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};Z.Animation=Z.extend(F,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Z.isEmptyObject(e),a=Z.speed(t,n,i),s=function(){var t=F(this,Z.extend({},e),a);(r||ve.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||a.queue===!1?this.each(s):this.queue(a.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=Z.timers,s=ve.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&et.test(r)&&i(s[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(n),t=!1,a.splice(r,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=Z.timers,s=i?i.length:0;for(n.finish=!0,Z.queue(this,e,[]),
r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(E(t,!0),e,i,r)}}),Z.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Ye=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Ye=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Ke||(Ke=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Ke),Ke=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),n=t.appendChild(K.createElement("option"));e.type="checkbox",Y.checkOn=""!==e.value,Y.optSelected=n.selected,t.disabled=!0,Y.optDisabled=!n.disabled,e=K.createElement("input"),e.value="t",e.type="radio",Y.radioValue="t"===e.value}();var it,rt,at=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return ge(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Ce?Z.prop(e,t,n):(1===a&&Z.isXMLDoc(e)||(t=t.toLowerCase(),i=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?rt:it)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Z.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(pe);if(a&&1===e.nodeType)for(;n=a[r++];)i=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Y.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),rt={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=at[t]||Z.find.attr;at[t]=function(e,t,i){var r,a;return i||(a=at[t],at[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,at[t]=a),r}});var st=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return ge(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!Z.isXMLDoc(e),a&&(t=Z.propFix[t]||t,r=Z.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||st.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Y.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var ot=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,i,r,a,s,o="string"==typeof e&&e,u=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(pe)||[];c>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ot," "):" ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=Z.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,a,s,o=0===arguments.length||"string"==typeof e&&e,u=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(pe)||[];c>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ot," "):"")){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?Z.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=Z(this),a=e.match(pe)||[];t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Ce||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ot," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Z.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=Z.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,Z(this).val()):e,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,s=a?null:[],o=a?r+1:i.length,u=0>r?o:a?r:0;o>u;u++)if(n=i[u],(n.selected||u===r)&&(Y.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,a=Z.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=Z.inArray(i.value,a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},Y.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ct=Z.now(),lt=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var dt=/#.*$/,ht=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},bt={},wt="*/".concat("*"),_t=e.location.href,xt=vt.exec(_t.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:ft.test(xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Z.ajaxSettings),t):R(Z.ajaxSettings,e)},ajaxPrefilter:L(yt),ajaxTransport:L(bt),ajax:function(e,t){function n(e,t,n,s){var u,l,v,y,w,x=t;2!==b&&(b=2,o&&clearTimeout(o),i=void 0,a=s||"",_.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=D(d,_,n)),y=H(d,y,_,u),u?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(Z.lastModified[r]=w),w=_.getResponseHeader("etag"),w&&(Z.etag[r]=w)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=y.state,l=y.data,v=y.error,u=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),_.status=e,_.statusText=(t||x)+"",u?f.resolveWith(h,[l,x,_]):f.rejectWith(h,[_,x,v]),_.statusCode(g),g=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[_,d,u?l:v]),m.fireWith(h,[_,x]),c&&(p.trigger("ajaxComplete",[_,d]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,a,s,o,u,c,l,d=Z.ajaxSetup({},t),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?Z(h):Z.event,f=Z.Deferred(),m=Z.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=pt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),n(0,t),this}};if(f.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||_t)+"").replace(dt,"").replace(gt,xt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Z.trim(d.dataType||"*").toLowerCase().match(pe)||[""],null==d.crossDomain&&(u=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!u||u[1]===xt[1]&&u[2]===xt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(xt[3]||("http:"===xt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Z.param(d.data,d.traditional)),q(yt,d,t,_),2===b)return _;c=Z.event&&d.global,c&&0===Z.active++&&Z.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mt.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(lt.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ht.test(r)?r.replace(ht,"$1_="+ct++):r+(lt.test(r)?"&":"?")+"_="+ct++)),d.ifModified&&(Z.lastModified[r]&&_.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&_.setRequestHeader("If-None-Match",Z.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+wt+"; q=0.01":""):d.accepts["*"]);for(l in d.headers)_.setRequestHeader(l,d.headers[l]);if(d.beforeSend&&(d.beforeSend.call(h,_,d)===!1||2===b))return _.abort();w="abort";for(l in{success:1,error:1,complete:1})_[l](d[l]);if(i=q(bt,d,t,_)){_.readyState=1,c&&p.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(o=setTimeout(function(){_.abort("timeout")},d.timeout));try{b=1,i.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return _},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,i,r){return Z.isFunction(n)&&(r=r||i,i=n,n=void 0),Z.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var kt=/%20/g,jt=/\[\]$/,Ct=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,i=[],r=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){r(this.name,this.value)});else for(n in e)$(n,e[n],t,r);return i.join("&").replace(kt,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Pt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:n.replace(Ct,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var St=0,At={},Et={0:200,1223:204},Mt=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in At)At[e]()}),Y.cors=!!Mt&&"withCredentials"in Mt,Y.ajax=Mt=!!Mt,Z.ajaxTransport(function(e){var t;return Y.cors||Mt&&!e.crossDomain?{send:function(n,i){var r,a=e.xhr(),s=++St;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)a.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete At[s],t=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?i(a.status,a.statusText):i(Et[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=t(),a.onerror=t("error"),t=At[s]=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(o){if(t)throw o}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Nt=[],Ot=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Nt.pop()||Z.expando+"_"+ct++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,i){var r,a,s,o=t.jsonp!==!1&&(Ot.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Ot,"$1"+r):t.jsonp!==!1&&(t.url+=(lt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||Z.error(r+" was not called"),s[0]},t.dataTypes[0]="json",a=e[r],e[r]=function(){s=arguments},i.always(function(){e[r]=a,t[r]&&(t.jsonpCallback=n.jsonpCallback,Nt.push(r)),s&&Z.isFunction(a)&&a(s[0]),s=a=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||K;var i=se.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,r),r&&r.length&&Z(r).remove(),Z.merge([],i.childNodes))};var Ft=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Ft)return Ft.apply(this,arguments);var i,r,a,s=this,o=e.indexOf(" ");return o>=0&&(i=Z.trim(e.slice(o)),e=e.slice(0,o)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&Z.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){a=arguments,s.html(i?Z("<div>").append(Z.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,a||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Lt=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var i,r,a,s,o,u,c,l=Z.css(e,"position"),d=Z(e),h={};"static"===l&&(e.style.position="relative"),o=d.offset(),a=Z.css(e,"top"),u=Z.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(a+u).indexOf("auto")>-1,c?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(a)||0,r=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(h.top=t.top-o.top+s),null!=t.left&&(h.left=t.left-o.left+r),"using"in t?t.using.call(e,h):d.css(h)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;if(a)return t=a.documentElement,Z.contains(t,i)?(typeof i.getBoundingClientRect!==Ce&&(r=i.getBoundingClientRect()),n=B(a),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(i=e.offset()),i.top+=Z.css(e[0],"borderTopWidth",!0),i.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Z.css(n,"marginTop",!0),left:t.left-i.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Lt;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Lt})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Z.fn[t]=function(r){return ge(this,function(t,r,a){var s=B(t);return void 0===a?s?s[n]:t[r]:void(s?s.scrollTo(i?e.pageXOffset:a,i?a:e.pageYOffset):t[r]=a)},t,r,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=x(Y.pixelPosition,function(e,n){return n?(n=_(e,t),ze.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Z.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return ge(this,function(t,n,i){var r;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?Z.css(t,n,s):Z.style(t,n,i,s)},t,a?i:void 0,a,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var qt=e.jQuery,Rt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Rt),t&&e.jQuery===Z&&(e.jQuery=qt),Z},typeof t===Ce&&(e.jQuery=e.$=Z),Z}),define("can/util/can",[],function(){var e=window.can||{};("undefined"==typeof GLOBALCAN||GLOBALCAN!==!1)&&(window.can=e),e.k=function(){},e.isDeferred=function(e){return e&&"function"==typeof e.then&&"function"==typeof e.pipe};var t=0;return e.cid=function(e,n){return e._cid||(t++,e._cid=(n||"")+t),e._cid},e.VERSION="2.1.4",e.simpleExtend=function(e,t){for(var n in t)e[n]=t[n];return e},e.frag=function(t){var n;return t&&"string"!=typeof t?11===t.nodeType?t:"number"==typeof t.nodeType?(n=document.createDocumentFragment(),n.appendChild(t),n):"number"==typeof t.length?(n=document.createDocumentFragment(),e.each(t,function(t){n.appendChild(e.frag(t))}),n):(n=e.buildFragment(""+t,document.body),n.childNodes.length||n.appendChild(document.createTextNode("")),n):(n=e.buildFragment(null==t?"":""+t,document.body),n.childNodes.length||n.appendChild(document.createTextNode("")),n)},e.__reading=function(){},e}),define("can/util/attr",["can/util/can"],function(e){var t=window.setImmediate||function(e){return setTimeout(e,0)},n={MutationObserver:window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,map:{"class":"className",value:"value",innerText:"innerText",textContent:"textContent",checked:!0,disabled:!0,readonly:!0,required:!0,src:function(e,t){return null==t||""===t?(e.removeAttribute("src"),null):(e.setAttribute("src",t),t)},style:function(e,t){return e.style.cssText=t||""}},defaultValue:["input","textarea"],set:function(t,i,r){var a;n.MutationObserver||(a=n.get(t,i));var s,o=t.nodeName.toString().toLowerCase(),u=n.map[i];"function"==typeof u?s=u(t,r):u===!0?(s=t[i]=!0,"checked"===i&&"radio"===t.type&&e.inArray(o,n.defaultValue)>=0&&(t.defaultChecked=!0)):u?(s=t[u]=r,"value"===u&&e.inArray(o,n.defaultValue)>=0&&(t.defaultValue=r)):(t.setAttribute(i,r),s=r),n.MutationObserver||s===a||n.trigger(t,i,a)},trigger:function(n,i,r){return e.data(e.$(n),"canHasAttributesBindings")?t(function(){e.trigger(n,{type:"attributes",attributeName:i,target:n,oldValue:r,bubbles:!1},[])}):void 0},get:function(e,t){var i=n.map[t];return"string"==typeof i&&e[i]?e[i]:e.getAttribute(t)},remove:function(e,t){var i;n.MutationObserver||(i=n.get(e,t));var r=n.map[t];"function"==typeof r&&r(e,void 0),r===!0?e[t]=!1:"string"==typeof r?e[r]="":e.removeAttribute(t),n.MutationObserver||null==i||n.trigger(e,t,i)},has:function(){var e=document.createElement("div");return e.hasAttribute?function(e,t){return e.hasAttribute(t)}:function(e,t){return null!==e.getAttribute(t)}}()};return n}),define("can/event",["can/util/can"],function(e){return e.addEvent=function(e,t){var n=this.__bindEvents||(this.__bindEvents={}),i=n[e]||(n[e]=[]);return i.push({handler:t,name:e}),this},e.listenTo=function(t,n,i){var r=this.__listenToEvents;r||(r=this.__listenToEvents={});var a=e.cid(t),s=r[a];s||(s=r[a]={obj:t,events:{}});var o=s.events[n];o||(o=s.events[n]=[]),o.push(i),e.bind.call(t,n,i)},e.stopListening=function(t,n,i){var r=this.__listenToEvents,a=r,s=0;if(!r)return this;if(t){var o=e.cid(t);if((a={})[o]=r[o],!r[o])return this}for(var u in a){var c,l=a[u];t=r[u].obj,n?(c={})[n]=l.events[n]:c=l.events;for(var d in c){var h=c[d]||[];for(s=0;s<h.length;)i&&i===h[s]||!i?(e.unbind.call(t,d,h[s]),h.splice(s,1)):s++;h.length||delete l.events[d]}e.isEmptyObject(l.events)&&delete r[u]}return this},e.removeEvent=function(e,t,n){if(!this.__bindEvents)return this;for(var i,r=this.__bindEvents[e]||[],a=0,s="function"==typeof t;a<r.length;)i=r[a],(n?n(i,e,t):s&&i.handler===t||!s&&(i.cid===t||!t))?r.splice(a,1):a++;return this},e.dispatch=function(e,t){var n=this.__bindEvents;if(n){"string"==typeof e&&(e={type:e});var i=e.type,r=(n[i]||[]).slice(0),a=[e];t&&a.push.apply(a,t);for(var s=0,o=r.length;o>s;s++)r[s].handler.apply(this,a);return e}},e.one=function(t,n){var i=function(){return e.unbind.call(this,t,i),n.apply(this,arguments)};return e.bind.call(this,t,i),this},e.event={on:function(){return 0===arguments.length&&e.Control&&this instanceof e.Control?e.Control.prototype.on.call(this):e.addEvent.apply(this,arguments)},off:function(){return 0===arguments.length&&e.Control&&this instanceof e.Control?e.Control.prototype.off.call(this):e.removeEvent.apply(this,arguments)},bind:e.addEvent,unbind:e.removeEvent,delegate:function(t,n,i){return e.addEvent.call(this,n,i)},undelegate:function(t,n,i){return e.removeEvent.call(this,n,i)},trigger:e.dispatch,one:e.one,addEvent:e.addEvent,removeEvent:e.removeEvent,listenTo:e.listenTo,stopListening:e.stopListening,dispatch:e.dispatch},e.event}),define("can/util/array/each",["can/util/can"],function(e){var t=function(e){var t=e.length;return"function"!=typeof arr&&(0===t||"number"==typeof t&&t>0&&t-1 in e)};return e.each=function(n,i,r){var a,s,o,u=0;if(n)if(t(n))if(e.List&&n instanceof e.List)for(s=n.attr("length");s>u&&(o=n.attr(u),i.call(r||o,o,u,n)!==!1);u++);else for(s=n.length;s>u&&(o=n[u],i.call(r||o,o,u,n)!==!1);u++);else if("object"==typeof n)if(e.Map&&n instanceof e.Map||n===e.route){var c=e.Map.keys(n);for(u=0,s=c.length;s>u&&(a=c[u],o=n.attr(a),i.call(r||o,o,a,n)!==!1);u++);}else for(a in n)if(n.hasOwnProperty(a)&&i.call(r||n[a],n[a],a,n)===!1)break;return n},e}),define("can/util/inserted",["can/util/can"],function(e){e.inserted=function(t){t=e.makeArray(t);for(var n,i,r=!1,a=e.$(document.contains?document:document.body),s=0;void 0!==(i=t[s]);s++){if(!r){if(!i.getElementsByTagName)continue;if(!e.has(a,i).length)return;r=!0}if(r&&i.getElementsByTagName){n=e.makeArray(i.getElementsByTagName("*")),e.trigger(i,"inserted",[],!1);for(var o,u=0;void 0!==(o=n[u]);u++)e.trigger(o,"inserted",[],!1)}}},e.appendChild=function(t,n){var i;i=11===n.nodeType?e.makeArray(n.childNodes):[n],t.appendChild(n),e.inserted(i)},e.insertBefore=function(t,n,i){var r;r=11===n.nodeType?e.makeArray(n.childNodes):[n],t.insertBefore(n,i),e.inserted(r)}}),define("can/util/jquery",["jquery","can/util/can","can/util/attr","can/event","can/util/array/each","can/util/inserted"],function(e,t,n,i){var r=function(e){return e.nodeName&&(1===e.nodeType||9===e.nodeType)||e==window};e.extend(t,e,{trigger:function(n,i,a,s){r(n)?e.event.trigger(i,a,n,!s):n.trigger?n.trigger(i,a):("string"==typeof i&&(i={type:i}),i.target=i.target||n,a&&(a.length&&"string"==typeof a?a=[a]:a.length||(a=[a])),a||(a=[]),t.dispatch.call(n,i,a))},event:t.event,addEvent:t.addEvent,removeEvent:t.removeEvent,buildFragment:function(t,n){var i;return t=[t],n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,i=e.buildFragment(t,n),i.cacheable?e.clone(i.fragment):i.fragment||i},$:e,each:t.each,bind:function(n,i){return this.bind&&this.bind!==t.bind?this.bind(n,i):r(this)?e.event.add(this,n,i):t.addEvent.call(this,n,i),this},unbind:function(n,i){return this.unbind&&this.unbind!==t.unbind?this.unbind(n,i):r(this)?e.event.remove(this,n,i):t.removeEvent.call(this,n,i),this},delegate:function(n,i,a){return this.delegate?this.delegate(n,i,a):r(this)?e(this).delegate(n,i,a):t.bind.call(this,i,a),this},undelegate:function(n,i,a){return this.undelegate?this.undelegate(n,i,a):r(this)?e(this).undelegate(n,i,a):t.unbind.call(this,i,a),this},proxy:function(e,t){return function(){return e.apply(t,arguments)}},attr:n}),t.on=t.bind,t.off=t.unbind,e.each(["append","filter","addClass","remove","data","get","has"],function(e,n){t[n]=function(e){return e[n].apply(e,t.makeArray(arguments).slice(1))}});var a=e.cleanData;e.cleanData=function(n){e.each(n,function(e,n){n&&t.trigger(n,"removed",[],!1)}),a(n)};var s,o=e.fn.domManip;if(e.fn.domManip=function(e,t,n){for(var i=1;i<arguments.length;i++)if("function"==typeof arguments[i]){s=i;break}return o.apply(this,arguments)},e(document.createElement("div")).append(document.createElement("div")),e.fn.domManip=2===s?function(e,n,i){return o.call(this,e,n,function(e){var n;11===e.nodeType&&(n=t.makeArray(e.childNodes));var r=i.apply(this,arguments);return t.inserted(n?n:[e]),r})}:function(e,n){return o.call(this,e,function(e){var i;11===e.nodeType&&(i=t.makeArray(e.childNodes));var r=n.apply(this,arguments);return t.inserted(i?i:[e]),r})},t.attr.MutationObserver)e.event.special.attributes={setup:function(){var e=this,n=new t.attr.MutationObserver(function(n){n.forEach(function(n){var i=t.simpleExtend({},n);t.trigger(e,i,[])})});n.observe(this,{attributes:!0,attributeOldValue:!0}),t.data(t.$(this),"canAttributesObserver",n)},teardown:function(){t.data(t.$(this),"canAttributesObserver").disconnect(),e.removeData(this,"canAttributesObserver")}};else{var u=e.attr;e.attr=function(e,n){var i,r;arguments.length>=3&&(i=u.call(this,e,n));var a=u.apply(this,arguments);return arguments.length>=3&&(r=u.call(this,e,n)),r!==i&&t.attr.trigger(e,n,i),a};var c=e.removeAttr;e.removeAttr=function(e,n){var i=u.call(this,e,n),r=c.apply(this,arguments);return null!=i&&t.attr.trigger(e,n,i),r},e.event.special.attributes={setup:function(){t.data(t.$(this),"canHasAttributesBindings",!0)},teardown:function(){e.removeData(this,"canHasAttributesBindings")}}}return function(){var e="<-\n>",n=t.buildFragment(e,document);if(e!==n.childNodes[0].nodeValue){var i=t.buildFragment;t.buildFragment=function(e,t){var n=i(e,t);return 1===n.childNodes.length&&3===n.childNodes[0].nodeType&&(n.childNodes[0].nodeValue=e),n}}}(),e.event.special.inserted={},e.event.special.removed={},t}),define("can/util/library",["can/util/jquery"],function(e){return e}),define("can/util/bind",["can/util/library"],function(e){return e.bindAndSetup=function(){return e.addEvent.apply(this,arguments),this._init||(this._bindings?this._bindings++:(this._bindings=1,this._bindsetup&&this._bindsetup())),this},e.unbindAndTeardown=function(t,n){return e.removeEvent.apply(this,arguments),null===this._bindings?this._bindings=0:this._bindings--,!this._bindings&&this._bindteardown&&this._bindteardown(),this},e}),define("can/map/bubble",["can/util/library"],function(e){var t=e.bubble={event:function(e,t){return e.constructor._bubbleRule(t,e)},childrenOf:function(e,n){e._each(function(i,r){i&&i.bind&&t.toParent(i,e,r,n)})},teardownChildrenFrom:function(e,n){e._each(function(i){t.teardownFromParent(e,i,n)})},toParent:function(t,n,i,r){e.listenTo.call(n,t,r,function(){var r=e.makeArray(arguments),a=r.shift();r[0]=(e.List&&n instanceof e.List?n.indexOf(t):i)+(r[0]?"."+r[0]:""),a.triggeredNS=a.triggeredNS||{},a.triggeredNS[n._cid]||(a.triggeredNS[n._cid]=!0,e.trigger(n,a,r))})},teardownFromParent:function(t,n,i){n&&n.unbind&&e.stopListening.call(t,n,i)},isBubbling:function(e,t){return e._bubbleBindings&&e._bubbleBindings[t]},bind:function(e,n){if(!e._init){var i=t.event(e,n);i&&(e._bubbleBindings||(e._bubbleBindings={}),e._bubbleBindings[i]?e._bubbleBindings[i]++:(e._bubbleBindings[i]=1,t.childrenOf(e,i)))}},unbind:function(n,i){var r=t.event(n,i);r&&(n._bubbleBindings&&n._bubbleBindings[r]--,n._bubbleBindings&&!n._bubbleBindings[r]&&(delete n._bubbleBindings[r],t.teardownChildrenFrom(n,r),e.isEmptyObject(n._bubbleBindings)&&delete n._bubbleBindings))},add:function(n,i,r){if(i instanceof e.Map&&n._bubbleBindings)for(var a in n._bubbleBindings)n._bubbleBindings[a]&&(t.teardownFromParent(n,i,a),t.toParent(i,n,r,a))},removeMany:function(e,n){for(var i=0,r=n.length;r>i;i++)t.remove(e,n[i])},remove:function(n,i){if(i instanceof e.Map&&n._bubbleBindings)for(var r in n._bubbleBindings)n._bubbleBindings[r]&&t.teardownFromParent(n,i,r)},set:function(n,i,r,a){return e.Map.helpers.isObservable(r)&&t.add(n,r,i),e.Map.helpers.isObservable(a)&&t.remove(n,a),r}};return t}),define("can/util/string",["can/util/library"],function(e){var t=/_|-/,n=/\=\=/,i=/([A-Z]+)([A-Z][a-z])/g,r=/([a-z\d])([A-Z])/g,a=/([a-z\d])([A-Z])/g,s=/\{([^\}]+)\}/g,o=/"/g,u=/'/g,c=/-+(.)?/g,l=/[a-z][A-Z]/g,d=function(e,t,n){var i=e[t];return void 0===i&&n===!0&&(i=e[t]={}),i},h=function(e){return/^f|^o/.test(typeof e);
},p=function(e){var t=null===e||void 0===e||isNaN(e)&&""+e=="NaN";return""+(t?"":e)};return e.extend(e,{esc:function(e){return p(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(o,"&#34;").replace(u,"&#39;")},getObject:function(t,n,i){var r,a,s,o,u=t?t.split("."):[],c=u.length,l=0;if(n=e.isArray(n)?n:[n||window],o=n.length,!c)return n[0];for(l;o>l;l++){for(r=n[l],s=void 0,a=0;c>a&&h(r);a++)s=r,r=d(s,u[a]);if(void 0!==s&&void 0!==r)break}if(i===!1&&void 0!==r&&delete s[u[a-1]],i===!0&&void 0===r)for(r=n[0],a=0;c>a&&h(r);a++)r=d(r,u[a],!0);return r},capitalize:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return p(e).replace(c,function(e,t){return t?t.toUpperCase():""})},hyphenate:function(e){return p(e).replace(l,function(e,t){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},underscore:function(e){return e.replace(n,"/").replace(i,"$1_$2").replace(r,"$1_$2").replace(a,"_").toLowerCase()},sub:function(t,n,i){var r=[];return t=t||"",r.push(t.replace(s,function(t,a){var s=e.getObject(a,n,i===!0?!1:void 0);return void 0===s||null===s?(r=null,""):h(s)&&r?(r.push(s),""):""+s})),null===r?r:r.length<=1?r[0]:r},replacer:s,undHash:t}),e}),define("can/construct",["can/util/string"],function(e){var t=0,n=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return n&&(n.get||n.set)?n:null},i=function(t,i,r){r=r||t;var a;for(var s in t)(a=n(t,s))?this._defineProperty(r,i,s,a):e.Construct._overwrite(r,i,s,t[s])},r=function(t,n,i){i=i||t;for(var r in t)e.Construct._overwrite(i,n,r,t[r])};return e.Construct=function(){return arguments.length?e.Construct.extend.apply(e.Construct,arguments):void 0},e.extend(e.Construct,{constructorExtends:!0,newInstance:function(){var e,t=this.instance();return t.setup&&(e=t.setup.apply(t,arguments)),t.init&&t.init.apply(t,e||arguments),t},_inherit:Object.getOwnPropertyDescriptor?i:r,_defineProperty:function(e,t,n,i){Object.defineProperty(e,n,i)},_overwrite:function(e,t,n,i){e[n]=i},setup:function(t,n){this.defaults=e.extend(!0,{},t.defaults,this.defaults)},instance:function(){t=1;var e=new this;return t=0,e},extend:function(n,i,r){function a(){return t?void 0:this.constructor!==a&&arguments.length&&a.constructorExtends?a.extend.apply(a,arguments):a.newInstance.apply(a,arguments)}var s=n,o=i,u=r;"string"!=typeof s&&(u=o,o=s,s=null),u||(u=o,o=null),u=u||{};var c,l,d,h,p,f,m,g,v=this,y=this.prototype;g=this.instance(),e.Construct._inherit(u,y,g);for(p in v)v.hasOwnProperty(p)&&(a[p]=v[p]);e.Construct._inherit(o,v,a),s&&(c=s.split("."),f=c.pop(),l=e.getObject(c.join("."),window,!0),m=l,d=e.underscore(s.replace(/\./g,"_")),h=e.underscore(f),l[f]=a),e.extend(a,{constructor:a,prototype:g,namespace:m,_shortName:h,fullName:s,_fullName:d}),void 0!==f&&(a.shortName=f),a.prototype.constructor=a;var b=[v].concat(e.makeArray(arguments)),w=a.setup.apply(a,b);return a.init&&a.init.apply(a,w||b),a}}),e.Construct.prototype.setup=function(){},e.Construct.prototype.init=function(){},e.Construct}),define("can/util/batch",["can/util/can"],function(e){var t=1,n=0,i=[],r=[];e.batch={start:function(e){n++,e&&r.push(e)},stop:function(a,s){if(a?n=0:n--,0===n){var o,u,c=i.slice(0),l=r.slice(0);for(i=[],r=[],t++,s&&e.batch.start(),o=0,u=c.length;u>o;o++)e.dispatch.apply(c[o][0],c[o][1]);for(o=0,u=l.length;o<l.length;o++)l[o]()}},trigger:function(r,a,s){if(!r._init){if(0===n)return e.dispatch.call(r,a,s);a="string"==typeof a?{type:a}:a,a.batchNum=t,i.push([r,[a,s]])}}}}),define("can/map",["can/util/library","can/util/bind","can/map/bubble","can/construct","can/util/batch"],function(e,t,n){var i=null,r=function(){for(var e in i)i[e].added&&delete i[e].obj._cid;i=null},a=function(e){return i&&i[e._cid]&&i[e._cid].instance},s=null,o=e.Map=e.Construct.extend({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Map){this.defaults||(this.defaults={}),this._computes=[];for(var t in this.prototype)"define"!==t&&"constructor"!==t&&("function"!=typeof this.prototype[t]||this.prototype[t].prototype instanceof e.Construct)?this.defaults[t]=this.prototype[t]:this.prototype[t].isComputed&&this._computes.push(t);this.helpers.define&&this.helpers.define(this)}!e.List||this.prototype instanceof e.List||(this.List=o.List.extend({Map:this},{}))},_bubble:n,_bubbleRule:function(e){return("change"===e||e.indexOf(".")>=0)&&"change"},_computes:[],bind:e.bindAndSetup,on:e.bindAndSetup,unbind:e.unbindAndTeardown,off:e.unbindAndTeardown,id:"id",helpers:{define:null,attrParts:function(e,t){return t?[e]:"object"==typeof e?e:(""+e).split(".")},addToMap:function(t,n){var a;i||(a=r,i={});var s=t._cid,o=e.cid(t);return i[o]||(i[o]={obj:t,instance:n,added:!s}),a},isObservable:function(t){return t instanceof e.Map||t&&t===e.route},canMakeObserve:function(t){return t&&!e.isDeferred(t)&&(e.isArray(t)||e.isPlainObject(t))},serialize:function(t,n,i){var r=e.cid(t),a=!1;return s||(a=!0,s={attr:{},serialize:{}}),s[n][r]=i,t.each(function(r,a){var u,c=o.helpers.isObservable(r),l=c&&s[n][e.cid(r)];u=l?l:"serialize"===n?o.helpers._serialize(t,a,r):o.helpers._getValue(t,a,r,n),void 0!==u&&(i[a]=u)}),e.__reading(t,"__keys"),a&&(s=null),i},_serialize:function(e,t,n){return o.helpers._getValue(e,t,n,"serialize")},_getValue:function(e,t,n,i){return o.helpers.isObservable(n)?n[i]():n}},keys:function(t){var n=[];e.__reading(t,"__keys");for(var i in t._data)n.push(i);return n}},{setup:function(t){t instanceof e.Map&&(t=t.serialize()),this._data={},e.cid(this,".map"),this._init=1,this._computedBindings={};var n=this._setupDefaults(t);this._setupComputes(n);var i=t&&e.Map.helpers.addToMap(t,this),r=e.extend(e.extend(!0,{},n),t);this.attr(r),i&&i(),this.bind("change",e.proxy(this._changes,this)),delete this._init},_setupComputes:function(){for(var e,t=this.constructor._computes,n=0,i=t.length;i>n;n++)e=t[n],this[e]=this[e].clone(this),this._computedBindings[e]={count:0}},_setupDefaults:function(){return this.constructor.defaults||{}},_bindsetup:function(){},_bindteardown:function(){},_changes:function(t,n,i,r,a){e.batch.trigger(this,{type:n,batchNum:t.batchNum,target:t.target},[r,a])},_triggerChange:function(t,i,r,a){n.isBubbling(this,"change")?e.batch.trigger(this,{type:"change",target:this},[t,i,r,a]):e.batch.trigger(this,t,[r,a]),("remove"===i||"add"===i)&&e.batch.trigger(this,{type:"__keys",target:this})},_each:function(e){var t=this.__get();for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},attr:function(t,n){var i=typeof t;return"string"!==i&&"number"!==i?this._attrs(t,n):1===arguments.length?(e.__reading(this,t),this._get(t)):(this._set(t,n),this)},each:function(){return e.each.apply(void 0,[this].concat(e.makeArray(arguments)))},removeAttr:function(t){var n=e.List&&this instanceof e.List,i=e.Map.helpers.attrParts(t),r=i.shift(),a=n?this[r]:this._data[r];return i.length&&a?a.removeAttr(i):("string"==typeof t&&~t.indexOf(".")&&(r=t),this._remove(r,a),a)},_remove:function(e,t){e in this._data&&(delete this._data[e],e in this.constructor.prototype||delete this[e],this._triggerChange(e,"remove",void 0,t))},_get:function(e){e=""+e;var t=e.indexOf(".");if(t>=0){var n=this.__get(e);if(void 0!==n)return n;var i=e.substr(0,t),r=e.substr(t+1),a=this.__get(i);return a&&a._get?a._get(r):void 0}return this.__get(e)},__get:function(e){return e?this._computedBindings[e]?this[e]():this._data[e]:this._data},__type:function(t,n){if(!(t instanceof e.Map)&&e.Map.helpers.canMakeObserve(t)){var i=a(t);if(i)return i;if(e.isArray(t)){var r=e.List;return new r(t)}var s=this.constructor.Map||e.Map;return new s(t)}return t},_set:function(e,t,n){e=""+e;var i,r=e.indexOf(".");if(!n&&r>=0){var a=e.substr(0,r),s=e.substr(r+1);if(i=this._init?void 0:this.__get(a),!o.helpers.isObservable(i))throw"can.Map: Object does not exist";i._set(s,t)}else this.__convert&&(t=this.__convert(e,t)),i=this._init?void 0:this.__get(e),this.__set(e,this.__type(t,e),i)},__set:function(e,t,n){if(t!==n){var i=void 0!==n||this.__get().hasOwnProperty(e)?"set":"add";this.___set(e,this.constructor._bubble.set(this,e,t,n)),this._triggerChange(e,i,t,n),n&&this.constructor._bubble.teardownFromParent(this,n)}},___set:function(e,t){this._computedBindings[e]?this[e](t):this._data[e]=t,"function"==typeof this.constructor.prototype[e]||this._computedBindings[e]||(this[e]=t)},bind:function(t,n){var i=this._computedBindings&&this._computedBindings[t];if(i)if(i.count)i.count++;else{i.count=1;var r=this;i.handler=function(n,i,a){e.batch.trigger(r,{type:t,batchNum:n.batchNum,target:r},[i,a])},this[t].bind("change",i.handler)}return this.constructor._bubble.bind(this,t),e.bindAndSetup.apply(this,arguments)},unbind:function(t,n){var i=this._computedBindings&&this._computedBindings[t];return i&&(1===i.count?(i.count=0,this[t].unbind("change",i.handler),delete i.handler):i.count--),this.constructor._bubble.unbind(this,t),e.unbindAndTeardown.apply(this,arguments)},serialize:function(){return e.Map.helpers.serialize(this,"serialize",{})},_attrs:function(t,n){if(void 0===t)return o.helpers.serialize(this,"attr",{});t=e.simpleExtend({},t);var i,r,a=this;e.batch.start(),this.each(function(e,i){if("_cid"!==i){if(r=t[i],void 0===r)return void(n&&a.removeAttr(i));a.__convert&&(r=a.__convert(i,r)),o.helpers.isObservable(r)?a.__set(i,a.__type(r,i),e):o.helpers.isObservable(e)&&o.helpers.canMakeObserve(r)?e.attr(r,n):e!==r&&a.__set(i,a.__type(r,i),e),delete t[i]}});for(i in t)"_cid"!==i&&(r=t[i],this._set(i,r,!0));return e.batch.stop(),this},compute:function(t){if(e.isFunction(this.constructor.prototype[t]))return e.compute(this[t],this);var n=t.split("."),i=n.length-1,r={args:[]};return e.compute(function(t){return arguments.length?void e.compute.read(this,n.slice(0,i)).value.attr(n[i],t):e.compute.read(this,n,r).value},this)}});return o.prototype.on=o.prototype.bind,o.prototype.off=o.prototype.unbind,o}),define("can/list",["can/util/library","can/map","can/map/bubble"],function(e,t,n){var i=[].splice,r=function(){var e={0:"a",length:1};return i.call(e,0,1),!e[0]}(),a=t.extend({Map:t},{setup:function(t,n){this.length=0,e.cid(this,".map"),this._init=1,this._computedBindings={},this._setupComputes(),t=t||[];var i;e.isDeferred(t)?this.replace(t):(i=t.length&&e.Map.helpers.addToMap(t,this),this.push.apply(this,e.makeArray(t||[]))),i&&i(),this.bind("change",e.proxy(this._changes,this)),e.simpleExtend(this,n),delete this._init},_triggerChange:function(n,i,r,a){t.prototype._triggerChange.apply(this,arguments);var s=+n;~n.indexOf(".")||isNaN(s)||("add"===i?(e.batch.trigger(this,i,[r,s]),e.batch.trigger(this,"length",[this.length])):"remove"===i?(e.batch.trigger(this,i,[a,s]),e.batch.trigger(this,"length",[this.length])):e.batch.trigger(this,i,[r,s]))},__get:function(t){return t?this[t]&&this[t].isComputed&&e.isFunction(this.constructor.prototype[t])?this[t]():this[t]:this},___set:function(e,t){this[e]=t,+e>=this.length&&(this.length=+e+1)},_remove:function(e,t){isNaN(+e)?(delete this[e],this._triggerChange(e,"remove",void 0,t)):this.splice(e,1)},_each:function(e){for(var t=this.__get(),n=0;n<t.length;n++)e(t[n],n)},serialize:function(){return t.helpers.serialize(this,"serialize",[])},splice:function(t,a){var s,o,u=e.makeArray(arguments),c=[];for(s=2,o=u.length;o>s;s++)u[s]=this.__type(u[s],s),c.push(u[s]);void 0===a&&(a=u[1]=this.length-t);var l=i.apply(this,u);if(!r)for(s=this.length;s<l.length+this.length;s++)delete this[s];if(e.batch.start(),a>0&&(n.removeMany(this,l),this._triggerChange(""+t,"remove",void 0,l)),u.length>2){for(s=0,o=c.length;o>s;s++)n.set(this,s,c[s]);this._triggerChange(""+t,"add",c,l)}return e.batch.stop(),l},_attrs:function(n,i){return void 0===n?t.helpers.serialize(this,"attr",[]):(n=e.makeArray(n),e.batch.start(),this._updateAttrs(n,i),void e.batch.stop())},_updateAttrs:function(e,n){for(var i=Math.min(e.length,this.length),r=0;i>r;r++){var a=this[r],s=e[r];t.helpers.isObservable(a)&&t.helpers.canMakeObserve(s)?a.attr(s,n):a!==s&&this._set(r,s)}e.length>this.length?this.push.apply(this,e.slice(this.length)):e.length<this.length&&n&&this.splice(e.length)}}),s=function(t){return t[0]&&e.isArray(t[0])?t[0]:e.makeArray(t)};return e.each({push:"length",unshift:0},function(e,t){var i=[][t];a.prototype[t]=function(){for(var t,r,a=[],s=e?this.length:0,o=arguments.length;o--;)r=arguments[o],a[o]=n.set(this,o,this.__type(r,o));return t=i.apply(this,a),(!this.comparator||a.length)&&this._triggerChange(""+s,"add",a,void 0),t}}),e.each({pop:"length",shift:0},function(e,t){a.prototype[t]=function(){var i=s(arguments),r=e&&this.length?this.length-1:0,a=[][t].apply(this,i);return this._triggerChange(""+r,"remove",void 0,[a]),a&&a.unbind&&n.remove(this,a),a}}),e.extend(a.prototype,{indexOf:function(t,n){return this.attr("length"),e.inArray(t,this,n)},join:function(){return[].join.apply(this.attr(),arguments)},reverse:function(){var t=e.makeArray([].reverse.call(this));this.replace(t)},slice:function(){var e=Array.prototype.slice.apply(this,arguments);return new this.constructor(e)},concat:function(){var t=[];return e.each(e.makeArray(arguments),function(n,i){t[i]=n instanceof e.List?n.serialize():n}),new this.constructor(Array.prototype.concat.apply(this.serialize(),t))},forEach:function(t,n){return e.each(this,t,n||this)},replace:function(t){return e.isDeferred(t)?t.then(e.proxy(this.replace,this)):this.splice.apply(this,[0,this.length].concat(e.makeArray(t||[]))),this},filter:function(t,n){var i,r=new e.List,a=this;return this.each(function(e,s,o){i=t.call(n|a,e,s,a),i&&r.push(e)}),r}}),e.List=t.List=a,e.List}),define("can/util/string/deparam",["can/util/library","can/util/string"],function(e){var t=/^\d+$/,n=/([^\[\]]+)|(\[\])/g,i=/([^?#]*)(#.*)?$/,r=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return e.extend(e,{deparam:function(a){var s,o,u={};return a&&i.test(a)&&(s=a.split("&"),e.each(s,function(e){var i=e.split("="),a=r(i.shift()),s=r(i.join("=")),c=u;if(a){i=a.match(n);for(var l=0,d=i.length-1;d>l;l++)c[i[l]]||(c[i[l]]=t.test(i[l+1])||"[]"===i[l+1]?[]:{}),c=c[i[l]];o=i.pop(),"[]"===o?c.push(s):c[o]=s}})),u}}),e}),define("can/route",["can/util/library","can/map","can/list","can/util/string/deparam"],function(e){var t,n,i,r,a=/\:([\w\.]+)/g,s=/^(?:&[^=]+=[^&]*)+/,o=function(t){var n=[];return e.each(t,function(t,i){n.push(("className"===i?"class":i)+'="'+("href"===i?t:e.esc(t))+'"')}),n.join(" ")},u=function(e,t){var n=0,i=0,r={};for(var a in e.defaults)e.defaults[a]===t[a]&&(r[a]=1,n++);for(;i<e.names.length;i++){if(!t.hasOwnProperty(e.names[i]))return-1;r[e.names[i]]||n++}return n},c=window.location,l=function(e){return(e+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},d=e.each,h=e.extend,p=function(t){return t&&"object"==typeof t?(t=t instanceof e.Map?t.attr():e.isFunction(t.slice)?t.slice():e.extend({},t),e.each(t,function(e,n){t[n]=p(e)})):void 0!==t&&null!==t&&e.isFunction(t.toString)&&(t=t.toString()),t},f=function(e){return e.replace(/\\/g,"")},m=function(n,a,s,o){r=1,clearTimeout(t),t=setTimeout(function(){r=0;var t=e.route.data.serialize(),n=e.route.param(t,!0);e.route._call("setURL",n),e.batch.trigger(g,"__url",[n,i]),i=n},10)},g=e.extend({},e.event);e.route=function(t,n){var i=e.route._call("root");i.lastIndexOf("/")===i.length-1&&0===t.indexOf("/")&&(t=t.substr(1)),n=n||{};for(var r,s,o=[],u="",c=a.lastIndex=0,d=e.route._call("querySeparator"),h=e.route._call("matchSlashes");r=a.exec(t);)o.push(r[1]),u+=f(t.substring(c,a.lastIndex-r[0].length)),s="\\"+(f(t.substr(a.lastIndex,1))||d+(h?"":"|/")),u+="([^"+s+"]"+(n[r[1]]?"*":"+")+")",c=a.lastIndex;return u+=t.substr(c).replace("\\",""),e.route.routes[t]={test:new RegExp("^"+u+"($|"+l(d)+")"),route:t,names:o,defaults:n,length:t.split("/").length},e.route},h(e.route,{param:function(t,n){var i,r,s=0,o=t.route,c=0;if(delete t.route,d(t,function(){c++}),d(e.route.routes,function(e,n){return r=u(e,t),r>s&&(i=e,s=r),r>=c?!1:void 0}),e.route.routes[o]&&u(e.route.routes[o],t)===s&&(i=e.route.routes[o]),i){var l,p=h({},t),f=i.route.replace(a,function(e,n){return delete p[n],t[n]===i.defaults[n]?"":encodeURIComponent(t[n])}).replace("\\","");return d(i.defaults,function(e,t){p[t]===e&&delete p[t]}),l=e.param(p),n&&e.route.attr("route",i.route),f+(l?e.route._call("querySeparator")+l:"")}return e.isEmptyObject(t)?"":e.route._call("querySeparator")+e.param(t)},deparam:function(t){var n=e.route._call("root");n.lastIndexOf("/")===n.length-1&&0===t.indexOf("/")&&(t=t.substr(1));var i={length:-1},r=e.route._call("querySeparator"),a=e.route._call("paramsMatcher");if(d(e.route.routes,function(e,n){e.test.test(t)&&e.length>i.length&&(i=e)}),i.length>-1){var s=t.match(i.test),o=s.shift(),u=t.substr(o.length-(s[s.length-1]===r?1:0)),c=u&&a.test(u)?e.deparam(u.slice(1)):{};return c=h(!0,{},i.defaults,c),d(s,function(e,t){e&&e!==r&&(c[i.names[t]]=decodeURIComponent(e))}),c.route=i.route,c}return t.charAt(0)!==r&&(t=r+t),a.test(t)?e.deparam(t.slice(1)):{}},data:new e.Map({}),map:function(t){var n;n=t.prototype instanceof e.Map?new t:t,e.route.data=n},routes:{},ready:function(t){return t!==!0&&(e.route._setup(),e.route.setState()),e.route},url:function(t,n){return n&&(t=e.extend({},e.route.deparam(e.route._call("matchingPartOfURL")),t)),e.route._call("root")+e.route.param(t)},link:function(t,n,i,r){return"<a "+o(h({href:e.route.url(n,r)},i))+">"+t+"</a>"},current:function(t){return e.__reading(g,"__url"),this._call("matchingPartOfURL")===e.route.param(t)},bindings:{hashchange:{paramsMatcher:s,querySeparator:"&",matchSlashes:!1,bind:function(){e.bind.call(window,"hashchange",v)},unbind:function(){e.unbind.call(window,"hashchange",v)},matchingPartOfURL:function(){return c.href.split(/#!?/)[1]||""},setURL:function(e){return c.hash="#!"+e,e},root:"#!"}},defaultBinding:"hashchange",currentBinding:null,_setup:function(){e.route.currentBinding||(e.route._call("bind"),e.route.bind("change",m),e.route.currentBinding=e.route.defaultBinding)},_teardown:function(){e.route.currentBinding&&(e.route._call("unbind"),e.route.unbind("change",m),e.route.currentBinding=null),clearTimeout(t),r=0},_call:function(){var t=e.makeArray(arguments),n=t.shift(),i=e.route.bindings[e.route.currentBinding||e.route.defaultBinding],r=i[n];return r.apply?r.apply(i,t):r}}),d(["bind","unbind","on","off","delegate","undelegate","removeAttr","compute","_get","__get","each"],function(t){e.route[t]=function(){return e.route.data[t]?e.route.data[t].apply(e.route.data,arguments):void 0}}),e.route.attr=function(t,n){var i,r=typeof t;return i=void 0===n?arguments:"string"!==r&&"number"!==r?[p(t),n]:[t,p(n)],e.route.data.attr.apply(e.route.data,i)};var v=e.route.setState=function(){var t=e.route._call("matchingPartOfURL"),a=n;if(n=e.route.deparam(t),!r||t!==i){e.batch.start();for(var s in a)n[s]||e.route.removeAttr(s);e.route.attr(n),e.batch.trigger(g,"__url",[t,i]),e.batch.stop()}};return e.route}),define("can/control",["can/util/library","can/construct"],function(e){var t,n=function(t,n,i){return e.bind.call(t,n,i),function(){e.unbind.call(t,n,i)}},i=e.isFunction,r=e.extend,a=e.each,s=[].slice,o=/\{([^\}]+)\}/g,u=e.getObject("$.event.special",[e])||{},c=function(t,n,i,r){return e.delegate.call(t,n,i,r),function(){e.undelegate.call(t,n,i,r)}},l=function(t,i,r,a){return a?c(t,e.trim(a),i,r):n(t,i,r)},d=e.Control=e.Construct({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Control){var t,n=this;n.actions={};for(t in n.prototype)n._isAction(t)&&(n.actions[t]=n._action(t))}},_shifter:function(t,n){var r="string"==typeof n?t[n]:n;return i(r)||(r=t[r]),function(){return t.called=n,r.apply(t,[this.nodeName?e.$(this):this].concat(s.call(arguments,0)))}},_isAction:function(e){var t=this.prototype[e],n=typeof t;return"constructor"!==e&&("function"===n||"string"===n&&i(this.prototype[t]))&&!!(u[e]||h[e]||/[^\w]/.test(e))},_action:function(n,i){if(o.lastIndex=0,i||!o.test(n)){var r=i?e.sub(n,this._lookup(i)):n;if(!r)return null;var a=e.isArray(r),s=a?r[1]:r,u=s.split(/\s+/g),c=u.pop();return{processor:h[c]||t,parts:[s,u.join(" "),c],delegate:a?r[0]:void 0}}},_lookup:function(e){return[e,window]},processors:{},defaults:{}},{setup:function(t,n){var i,a=this.constructor,s=a.pluginName||a._fullName;return this.element=e.$(t),s&&"can_control"!==s&&this.element.addClass(s),i=e.data(this.element,"controls"),i||(i=[],e.data(this.element,"controls",i)),i.push(this),this.options=r({},a.defaults,n),this.on(),[this.element,this.options]},on:function(t,n,i,r){if(!t){this.off();var a,s,o=this.constructor,u=this._bindings,c=o.actions,d=this.element,h=e.Control._shifter(this,"destroy");for(a in c)c.hasOwnProperty(a)&&(s=c[a]||o._action(a,this.options,this),s&&(u.control[a]=s.processor(s.delegate||d,s.parts[2],s.parts[1],a,this)));return e.bind.call(d,"removed",h),u.user.push(function(t){e.unbind.call(t,"removed",h)}),u.user.length}return"string"==typeof t&&(r=i,i=n,n=t,t=this.element),void 0===r&&(r=i,i=n,n=null),"string"==typeof r&&(r=e.Control._shifter(this,r)),this._bindings.user.push(l(t,i,r,n)),this._bindings.user.length},off:function(){var e=this.element[0],t=this._bindings;t&&(a(t.user||[],function(t){t(e)}),a(t.control||{},function(t){t(e)})),this._bindings={user:[],control:{}}},destroy:function(){if(null!==this.element){var t,n=this.constructor,i=n.pluginName||n._fullName;this.off(),i&&"can_control"!==i&&this.element.removeClass(i),t=e.data(this.element,"controls"),t.splice(e.inArray(this,t),1),e.trigger(this,"destroyed"),this.element=null}}}),h=e.Control.processors;return t=function(t,n,i,r,a){return l(t,n,e.Control._shifter(a,r),i)},a(["change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed"],function(e){h[e]=t}),d}),define("can/control/route",["can/util/library","can/route","can/control"],function(e){return e.Control.processors.route=function(t,n,i,r,a){i=i||"",e.route.routes[i]||("/"===i[0]&&(i=i.substring(1)),e.route(i));var s,o=function(t,n,o){if(e.route.attr("route")===i&&(void 0===t.batchNum||t.batchNum!==s)){s=t.batchNum;var u=e.route.attr();delete u.route,e.isFunction(a[r])?a[r](u):a[a[r]](u)}};return e.route.bind("change",o),function(){e.route.unbind("change",o)}},e}),define("can/model",["can/util/library","can/map","can/list"],function(e){var t=function(t,n,i){var r=new e.Deferred;return t.then(function(){var t=e.makeArray(arguments),a=!0;try{t[0]=i.apply(n,t)}catch(s){a=!1,r.rejectWith(r,[s].concat(t))}a&&r.resolveWith(r,t)},function(){r.rejectWith(this,arguments)}),"function"==typeof t.abort&&(r.abort=function(){return t.abort()}),r},n=0,i=function(t){return e.__reading(t,t.constructor.id),t.__get(t.constructor.id)},r=function(t,n,i,r,a,s){var o={};if("string"==typeof t){var u=t.split(/\s+/);o.url=u.pop(),u.length&&(o.type=u.pop())}else e.extend(o,t);return o.data="object"!=typeof n||e.isArray(n)?n:e.extend(o.data||{},n),o.url=e.sub(o.url,o.data,!0),e.ajax(e.extend({type:i||"post",dataType:r||"json",success:a,error:s},o))},a=function(n,r,a,s,o){var u;e.isArray(n)?(u=n[1],n=n[0]):u=n.serialize(),u=[u];var c,l,d=n.constructor;return("update"===r||"destroy"===r)&&u.unshift(i(n)),l=d[r].apply(d,u),c=t(l,n,function(e){return n[o||r+"d"](e,l),n}),l.abort&&(c.abort=function(){l.abort()}),c.then(a,s),c},s={models:function(t,n,i){if(e.Model._reqs++,t){if(t instanceof this.List)return t;var r=this,a=[],s=r.List||f,o=n instanceof e.List?n:new s,u=t instanceof f,c=u?t.serialize():t;if(c=r.parseModels(c,i),c.data&&(t=c,c=c.data),"undefined"==typeof c)throw new Error("Could not get any raw data while converting using .models");return o.length&&o.splice(0),e.each(c,function(e){a.push(r.model(e,i))}),o.push.apply(o,a),e.isArray(t)||e.each(t,function(e,t){"data"!==t&&o.attr(t,e)}),setTimeout(e.proxy(this._clean,this),1),o}},model:function(t,n,i){if(t){t="function"==typeof t.serialize?t.serialize():this.parseModel(t,i);var r=t[this.id];(r||0===r)&&this.store[r]&&(n=this.store[r]);var a=n&&e.isFunction(n.attr)?n.attr(t,this.removeAttr||!1):new this(t);return a}}},o={parseModel:function(t){return function(n){return t?e.getObject(t,n):n}},parseModels:function(t){return function(n){if(e.isArray(n))return n;t=t||"data";var i=e.getObject(t,n);if(!e.isArray(i))throw new Error("Could not get any raw data while converting using .models");return i}}},u={create:{url:"_shortName",type:"post"},update:{data:function(t,n){n=n||{};var i=this.id;return n[i]&&n[i]!==t&&(n["new"+e.capitalize(t)]=n[i],delete n[i]),n[i]=t,n},type:"put"},destroy:{type:"delete",data:function(e,t){return t=t||{},t.id=t[this.id]=e,t}},findAll:{url:"_shortName"},findOne:{}},c=function(e,t){return function(n){return n=e.data?e.data.apply(this,arguments):n,r(t||this[e.url||"_url"],n,e.type||"get")}},l=function(e,t){if(e.resource){var n=e.resource.replace(/\/+$/,"");return"findAll"===t||"create"===t?n:n+"/{"+e.id+"}"}};e.Model=e.Map.extend({fullName:"can.Model",_reqs:0,setup:function(t,i,r,a){if("string"!=typeof i&&(a=r,r=i),a||(a=r),this.store={},e.Map.setup.apply(this,arguments),e.Model){r&&r.List?(this.List=r.List,this.List.Map=this):this.List=t.List.extend({Map:this},{});var d=this,h=e.proxy(this._clean,d);e.each(u,function(n,i){if(r&&r[i]&&("string"==typeof r[i]||"object"==typeof r[i])?d[i]=c(n,r[i]):r&&r.resource&&!e.isFunction(r[i])&&(d[i]=c(n,l(d,i))),d["make"+e.capitalize(i)]){var a=d["make"+e.capitalize(i)](d[i]);e.Construct._overwrite(d,t,i,function(){e.Model._reqs++;var t=a.apply(this,arguments),n=t.then(h,h);return n.abort=t.abort,n})}});var p={};e.each(s,function(n,i){var a="parse"+e.capitalize(i),s=r&&r[i]||d[i];"string"==typeof s?(d[a]=s,e.Construct._overwrite(d,t,i,n)):r&&r[i]&&(p[a]=!0)}),e.each(o,function(n,i){var a=r&&r[i]||d[i];if("string"==typeof a)e.Construct._overwrite(d,t,i,n(a));else if(!(r&&e.isFunction(r[i])||d[i])){var s=n();s.useModelConverter=p[i],e.Construct._overwrite(d,t,i,s)}}),"can.Model"!==d.fullName&&d.fullName||(d.fullName="Model"+ ++n),e.Model._reqs=0,this._url=this._shortName+"/{"+this.id+"}"}},_ajax:c,_makeRequest:a,_clean:function(){if(e.Model._reqs--,!e.Model._reqs)for(var t in this.store)this.store[t]._bindings||delete this.store[t];return arguments[0]},models:s.models,model:s.model},{setup:function(t){var n=t&&t[this.constructor.id];e.Model._reqs&&null!=n&&(this.constructor.store[n]=this),e.Map.prototype.setup.apply(this,arguments)},isNew:function(){var e=i(this);return!(e||0===e)},save:function(e,t){return a(this,this.isNew()?"create":"update",e,t)},destroy:function(t,n){if(this.isNew()){var i=this,r=e.Deferred();return r.then(t,n),r.done(function(e){i.destroyed(e)}).resolve(i)}return a(this,"destroy",t,n,"destroyed")},_bindsetup:function(){return this.constructor.store[this.__get(this.constructor.id)]=this,e.Map.prototype._bindsetup.apply(this,arguments)},_bindteardown:function(){return delete this.constructor.store[i(this)],e.Map.prototype._bindteardown.apply(this,arguments)},___set:function(t,n){e.Map.prototype.___set.call(this,t,n),t===this.constructor.id&&this._bindings&&(this.constructor.store[i(this)]=this)}});var d=function(e){return function(t,n,i){return this[e](t,null,i)}},h=function(e){return this.parseModel.useModelConverter?this.model(e):this.parseModel(e)},p={makeFindAll:d("models"),makeFindOne:d("model"),makeCreate:h,makeUpdate:h};e.each(p,function(n,i){e.Model[i]=function(i){return function(){var r=e.makeArray(arguments),a=e.isFunction(r[1])?r.splice(0,1):r.splice(0,2),s=t(i.apply(this,a),this,n);return s.then(r[0],r[1]),s}}}),e.each(["created","updated","destroyed"],function(t){e.Model.prototype[t]=function(n){var i=this,r=i.constructor;n&&"object"==typeof n&&this.attr(e.isFunction(n.attr)?n.attr():n),e.dispatch.call(this,{type:"change",target:this},[t]),e.dispatch.call(r,t,[this])}});var f=e.Model.List=e.List.extend({_bubbleRule:function(t,n){return e.List._bubbleRule(t,n)||"destroyed"}},{setup:function(t){e.isPlainObject(t)&&!e.isArray(t)?(e.List.prototype.setup.apply(this),this.replace(e.isDeferred(t)?t:this.constructor.Map.findAll(t))):e.List.prototype.setup.apply(this,arguments),this._init=1,this.bind("destroyed",e.proxy(this._destroyed,this)),delete this._init},_destroyed:function(e,t){if(/\w+/.test(t))for(var n;(n=this.indexOf(e.target))>-1;)this.splice(n,1)}});return e.Model}),define("can/view",["can/util/library"],function(e){var t=e.isFunction,n=e.makeArray,i=1,r=function(e){var t=function(){return c.frag(e.apply(this,arguments))};return t.render=function(){return e.apply(e,arguments)},t},a=function(e,t){if(!e.length)throw"can.view: No template or empty template:"+t},s=function(n,i){if(t(n)){var r=e.Deferred();return r.resolve(n)}var s,o,u,l="string"==typeof n?n:n.url,d=n.engine&&"."+n.engine||l.match(/\.[\w\d]+$/);if(l.match(/^#/)&&(l=l.substr(1)),(o=document.getElementById(l))&&(d="."+o.type.match(/\/(x\-)?(.+)/)[2]),d||c.cached[l]||(l+=d=c.ext),e.isArray(d)&&(d=d[0]),u=c.toId(l),l.match(/^\/\//)&&(l=l.substr(2),l=window.steal?steal.config().root.mapJoin(""+steal.id(l)):l),window.require&&require.toUrl&&(l=require.toUrl(l)),s=c.types[d],c.cached[u])return c.cached[u];if(o)return c.registerView(u,o.innerHTML,s);var h=new e.Deferred;return e.ajax({async:i,url:l,dataType:"text",error:function(e){a("",l),h.reject(e)},success:function(e){a(e,l),c.registerView(u,e,s,h)}}),h},o=function(t){var n=[];if(e.isDeferred(t))return[t];for(var i in t)e.isDeferred(t[i])&&n.push(t[i]);return n},u=function(t){return e.isArray(t)&&"success"===t[1]?t[0]:t},c=e.view=e.template=function(e,n,i,r){return t(i)&&(r=i,i=void 0),c.renderAs("fragment",e,n,i,r)};return e.extend(c,{frag:function(e,t){return c.hookup(c.fragment(e),t)},fragment:function(t){if("string"!=typeof t&&11===t.nodeType)return t;var n=e.buildFragment(t,document.body);return n.childNodes.length||n.appendChild(document.createTextNode("")),n},toId:function(t){return e.map(t.toString().split(/\/|\./g),function(e){return e?e:void 0}).join("_")},toStr:function(e){return null==e?"":""+e},hookup:function(t,n){var i,r,a=[];return e.each(t.childNodes?e.makeArray(t.childNodes):t,function(t){1===t.nodeType&&(a.push(t),a.push.apply(a,e.makeArray(t.getElementsByTagName("*"))))}),e.each(a,function(e){e.getAttribute&&(i=e.getAttribute("data-view-id"))&&(r=c.hookups[i])&&(r(e,n,i),delete c.hookups[i],e.removeAttribute("data-view-id"))}),t},hookups:{},hook:function(e){return c.hookups[++i]=e," data-view-id='"+i+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(t){this.types["."+t.suffix]=t,e[t.suffix]=c[t.suffix]=function(e,n){var i,a;if(!n)return a=function(){return i||(i=t.fragRenderer?t.fragRenderer(null,e):r(t.renderer(null,e))),i.apply(this,arguments)},a.render=function(){var n=t.renderer(null,e);return n.apply(n,arguments)},a;var s=function(){return i||(i=t.fragRenderer?t.fragRenderer(e,n):t.renderer(e,n)),i.apply(this,arguments)};return t.fragRenderer?c.preload(e,s):c.preloadStringRenderer(e,s)}},types:{},ext:".ejs",registerScript:function(e,t,n){return"can.view.preloadStringRenderer('"+t+"',"+c.types["."+e].script(t,n)+");"},preload:function(t,n){var i=c.cached[t]=(new e.Deferred).resolve(function(e,t){return n.call(e,e,t)});return i.__view_id=t,c.cachedRenderers[t]=n,n},preloadStringRenderer:function(e,t){return this.preload(e,r(t))},render:function(t,n,i,r){return e.view.renderAs("string",t,n,i,r)},renderTo:function(e,t,n,i){return("string"===e&&t.render?t.render:t)(n,i)},renderAs:function(i,r,a,l,d){t(l)&&(d=l,l=void 0);var h,p,f,m,g,v=o(a);if(v.length)return p=new e.Deferred,f=e.extend({},a),v.push(s(r,!0)),e.when.apply(e,v).then(function(t){var r,s=n(arguments),o=s.pop();if(e.isDeferred(a))f=u(t);else for(var c in a)e.isDeferred(a[c])&&(f[c]=u(s.shift()));r=e.view.renderTo(i,o,f,l),p.resolve(r,f),d&&d(r,f)},function(){p.reject.apply(p,arguments)}),p;if(h=e.__clearReading(),m=t(d),p=s(r,m),h&&e.__setReading(h),m)g=p,p.then(function(t){d(a?e.view.renderTo(i,t,a,l):t)});else{if("resolved"===p.state()&&p.__view_id){var y=c.cachedRenderers[p.__view_id];
return a?e.view.renderTo(i,y,a,l):y}p.then(function(t){g=a?e.view.renderTo(i,t,a,l):t})}return g},registerView:function(t,n,i,a){var s,o="object"==typeof i?i:c.types[i||c.ext];return s=o.fragRenderer?o.fragRenderer(t,n):r(o.renderer(t,n)),a=a||new e.Deferred,c.cache&&(c.cached[t]=a,a.__view_id=t,c.cachedRenderers[t]=s),a.resolve(s)}}),e}),define("can/compute",["can/util/library","can/util/bind","can/util/batch"],function(e,t){var n=[];e.__read=function(e,t){n.push({});var i=e.call(t);return{value:i,observed:n.pop()}},e.__reading=function(e,t){n.length&&(n[n.length-1][e._cid+"|"+t]={obj:e,event:t+""})},e.__clearReading=function(){if(n.length){var e=n[n.length-1];return n[n.length-1]={},e}},e.__setReading=function(e){n.length&&(n[n.length-1]=e)},e.__addReading=function(t){n.length&&e.simpleExtend(n[n.length-1],t)};var i=function(t,n,i,a){var o=e.__read(t,n),u=o.observed;return r(i,u,a),s(i,a),o},r=function(e,t,n){for(var i in t)a(e,t,i,n)},a=function(e,t,n,i){if(e[n])delete e[n];else{var r=t[n];r.obj.bind(r.event,i)}},s=function(e,t){for(var n in e){var i=e[n];i.obj.unbind(i.event,t)}},o=function(t,n,i,r){n!==i&&e.batch.trigger(t,r?{type:"change",batchNum:r}:"change",[n,i])},u=function(t,n,r,a){var s,o,u;return{on:function(c){o||(o=function(e){if(t.bound&&(void 0===e.batchNum||e.batchNum!==u)){var a=s.value;s=i(n,r,s.observed,o),c(s.value,a,e.batchNum),u=u=e.batchNum}}),s=i(n,r,{},o),a(s.value),t.hasDependencies=!e.isEmptyObject(s.observed)},off:function(e){for(var t in s.observed){var n=s.observed[t];n.obj.unbind(n.event,o)}}}},c=function(t,n,r,a){var s,o,u,c;return{on:function(l){u||(u=function(i){if(t.bound&&(void 0===i.batchNum||i.batchNum!==c)){var a=e.__clearReading(),s=n.call(r);e.__setReading(a),l(s,o,i.batchNum),o=s,c=c=i.batchNum}}),s=i(n,r,{},u),o=s.value,a(s.value),t.hasDependencies=!e.isEmptyObject(s.observed)},off:function(e){for(var t in s.observed){var n=s.observed[t];n.obj.unbind(n.event,u)}}}},l=function(t){return t instanceof e.Map||t&&t.__get},d=function(){};e.compute=function(t,i,r,a){if(t&&t.isComputed)return t;for(var s,l,h,p=d,f=d,m=function(){return l},g=function(e){l=e},v=g,y=[],b=function(e,t,n){v(e),o(s,e,t,n)},w=0,_=arguments.length;_>w;w++)y[w]=arguments[w];if(s=function(t){if(arguments.length){var r=l,a=g.call(i,t,r);return s.hasDependencies?m.call(i):(l=void 0===a?m.call(i):a,o(s,l,r),l)}return n.length&&s.canReadForChangeEvent!==!1&&(e.__reading(s,"change"),s.bound||e.compute.temporarilyBind(s)),s.bound?l:m.call(i)},"function"==typeof t){g=t,m=t,s.canReadForChangeEvent=r===!1?!1:!0;var x=a?c(s,t,i||this,v):u(s,t,i||this,v);p=x.on,f=x.off}else if(i)if("string"==typeof i){var k=i,j=t instanceof e.Map;if(j){s.hasDependencies=!0;var C;m=function(){return t.attr(k)},g=function(e){t.attr(k,e)},p=function(n){C=function(e,t,i){n(t,i,e.batchNum)},t.bind(r||k,C),l=e.__read(m).value},f=function(e){t.unbind(r||k,C)}}else m=function(){return t[k]},g=function(e){t[k]=e},p=function(n){C=function(){n(m(),l)},e.bind.call(t,r||k,C),l=e.__read(m).value},f=function(n){e.unbind.call(t,r||k,C)}}else if("function"==typeof i)l=t,g=i,i=r,h="setter";else{l=t;var T=i,P=b;if(i=T.context||T,m=T.get||m,g=T.set||function(){return l},T.fn){var S,A=T.fn;m=function(){return A.call(i,l)},0===A.length?S=u(s,A,i,v):1===A.length?S=u(s,function(){return A.call(i,l)},i,v):(b=function(e){void 0!==e&&P(e,l)},S=u(s,function(){var e=A.call(i,l,function(e){P(e,l)});return void 0!==e?e:l},i,v)),p=S.on,f=S.off}else b=function(){var e=m.call(i);P(e,l)};p=T.on||p,f=T.off||f}else l=t;return e.cid(s,"compute"),e.simpleExtend(s,{isComputed:!0,_bindsetup:function(){this.bound=!0;var t=e.__clearReading();p.call(this,b),e.__setReading(t)},_bindteardown:function(){f.call(this,b),this.bound=!1},bind:e.bindAndSetup,unbind:e.unbindAndTeardown,clone:function(t){return t&&("setter"===h?y[2]=t:y[1]=t),e.compute.apply(e,y)}})};var h,p=function(){for(var e=0,t=h.length;t>e;e++)h[e].unbind("change",d);h=null};return e.compute.temporarilyBind=function(e){e.bind("change",d),h||(h=[],setTimeout(p,10)),h.push(e)},e.compute.truthy=function(t){return e.compute(function(){var e=t();return"function"==typeof e&&(e=e()),!!e})},e.compute.async=function(t,n,i){return e.compute(t,{fn:n,context:i})},e.compute.read=function(t,n,i){i=i||{};for(var r,a,s,o=t,u=0,c=n.length;c>u;u++)if(a=o,a&&a.isComputed&&(i.foundObservable&&i.foundObservable(a,u),a=o=a()),l(a)?(!s&&i.foundObservable&&i.foundObservable(a,u),s=1,o="function"==typeof a[n[u]]&&a.constructor.prototype[n[u]]===a[n[u]]?i.returnObserveMethods?o[n[u]]:"constructor"===n[u]&&a instanceof e.Construct||a[n[u]].prototype instanceof e.Construct?a[n[u]]:a[n[u]].apply(a,i.args||[]):o.attr(n[u])):o=null==o?void 0:a[n[u]],r=typeof o,o&&o.isComputed&&!i.isArgument&&c-1>u?(!s&&i.foundObservable&&i.foundObservable(a,u+1),o=o()):u<n.length-1&&"function"===r&&i.executeAnonymousFunctions&&!(e.Construct&&o.prototype instanceof e.Construct)&&(o=o()),u<n.length-1&&(null===o||"function"!==r&&"object"!==r))return i.earlyExit&&i.earlyExit(a,u,o),{value:void 0,parent:a};return"function"!=typeof o||e.Construct&&o.prototype instanceof e.Construct||e.route&&o===e.route||(i.isArgument?o.isComputed||i.proxyMethods===!1||(o=e.proxy(o,a)):(o.isComputed&&!s&&i.foundObservable&&i.foundObservable(o,u),o=o.call(a))),void 0===o&&i.earlyExit&&i.earlyExit(a,u-1),{value:o,parent:a}},e.compute.set=function(e,t,n){return l(e)?e.attr(t,n):e[t]&&e[t].isComputed?e[t](n):void("object"==typeof e&&(e[t]=n))},e.compute}),define("can/view/scope",["can/util/library","can/construct","can/map","can/list","can/view","can/compute"],function(e){var t=/(\\)?\./g,n=/\\\./g,i=function(e){var i=[],r=0;return e.replace(t,function(t,a,s){a||(i.push(e.slice(r,s).replace(n,".")),r=s+t.length)}),i.push(e.slice(r).replace(n,".")),i},r=e.Construct.extend({read:e.compute.read},{init:function(e,t){this._context=e,this._parent=t,this.__cache={}},attr:function(t,n){var i=e.__clearReading(),r=this.read(t,{isArgument:!0,returnObserveMethods:!0,proxyMethods:!1});if(2===arguments.length){var a=t.lastIndexOf("."),s=-1!==a?t.substring(0,a):".",o=this.read(s,{isArgument:!0,returnObserveMethods:!0,proxyMethods:!1}).value;-1!==a&&(t=t.substring(a+1,t.length)),e.compute.set(o,t,n)}return e.__setReading(i),r.value},add:function(e){return e!==this._context?new this.constructor(e,this):this},computeData:function(t,n){n=n||{args:[]};var i,r,a=this,s={compute:e.compute(function(o){if(!arguments.length){if(i)return e.compute.read(i,r,n).value;var u=a.read(t,n);return i=u.rootObserve,r=u.reads,s.scope=u.scope,s.initialValue=u.value,s.reads=u.reads,s.root=i,u.value}if(i.isComputed)i(o);else if(r.length){var c=r.length-1,l=r.length?e.compute.read(i,r.slice(0,c)).value:i;e.compute.set(l,r[c],o)}})};return s},compute:function(e,t){return this.computeData(e,t).compute},read:function(t,n){var r;if("./"===t.substr(0,2))r=!0,t=t.substr(2);else{if("../"===t.substr(0,3))return this._parent.read(t.substr(3),n);if(".."===t)return{value:this._parent._context};if("."===t||"this"===t)return{value:this._context}}for(var a,s,o,u,c,l,d=-1===t.indexOf("\\.")?t.split("."):i(t),h=this,p=[],f=-1;h;){if(a=h._context,null!==a){var m=e.compute.read(a,d,e.simpleExtend({foundObservable:function(e,t){c=e,l=d.slice(t)},earlyExit:function(t,n){n>f&&(s=c,p=l,f=n,u=h,o=e.__clearReading())},executeAnonymousFunctions:!0},n));if(void 0!==m.value)return{scope:h,rootObserve:c,value:m.value,reads:l}}e.__clearReading(),h=r?null:h._parent}return s?(e.__setReading(o),{scope:u,rootObserve:s,reads:p,value:void 0}):{names:d,value:void 0}}});return e.view.Scope=r,r}),define("can/view/elements",["can/util/library","can/view"],function(e){var t=function(){return 1===e.$(document.createComment("~")).length}(),n={tagToContentPropMap:{option:"textContent"in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:e.attr.map,attrReg:/([^\s=]+)[\s]*=[\s]*/,defaultValue:e.attr.defaultValue,tagMap:{"":"span",colgroup:"col",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{col:"colgroup",tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},getParentNode:function(e,t){return t&&11===e.parentNode.nodeType?t:e.parentNode},setAttr:e.attr.set,getAttr:e.attr.get,removeAttr:e.attr.remove,contentText:function(e){return"string"==typeof e?e:e||0===e?""+e:""},after:function(t,n){var i=t[t.length-1];i.nextSibling?e.insertBefore(i.parentNode,n,i.nextSibling):e.appendChild(i.parentNode,n)},replace:function(i,r){n.after(i,r),e.remove(e.$(i)).length<i.length&&!t&&e.each(i,function(e){8===e.nodeType&&e.parentNode.removeChild(e)})}};return e.view.elements=n,n}),define("can/view/callbacks",["can/util/library","can/view"],function(e){var t=e.view.attr=function(e,t){if(!t){var r=n[e];if(!r)for(var a=0,s=i.length;s>a;a++){var o=i[a];if(o.match.test(e)){r=o.handler;break}}return r}"string"==typeof e?n[e]=t:i.push({match:e,handler:t})},n={},i=[],r=/[-\:]/,a=e.view.tag=function(e,t){if(!t){var n=s[e.toLowerCase()];return!n&&r.test(e)&&(n=function(){}),n}window.html5&&(window.html5.elements+=" "+e,window.html5.shivDocument()),s[e.toLowerCase()]=t},s={};return e.view.callbacks={_tags:s,_attributes:n,_regExpAttributes:i,tag:a,attr:t,tagHandler:function(t,n,i){var r,a=i.options.attr("tags."+n),o=a||s[n],u=i.scope;if(o){var c=e.__clearReading();r=o(t,i),e.__setReading(c)}else r=u;if(r&&i.subtemplate){u!==r&&(u=u.add(r));var l=i.subtemplate(u,i.options),d="string"==typeof l?e.view.frag(l):l;e.appendChild(t,d)}}},e.view.callbacks}),define("can/view/scanner",["can/view","can/view/elements","can/view/callbacks"],function(can,elements,viewCallbacks){var newLine=/(\r|\n)+/g,notEndTag=/\//,clean=function(e){return e.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("	").join("\\t")},getTag=function(e,t,n){if(e)return e;for(;n<t.length;){if("<"===t[n]&&!notEndTag.test(t[n+1]))return elements.reverseTagMap[t[n+1]]||"span";n++}return""},bracketNum=function(e){return--e.split("{").length- --e.split("}").length},myEval=function(script){eval(script)},attrReg=/([^\s]+)[\s]*=[\s]*$/,startTxt="var ___v1ew = [];",finishTxt="return ___v1ew.join('')",put_cmd="___v1ew.push(\n",insert_cmd=put_cmd,htmlTag=null,quote=null,beforeQuote=null,rescan=null,getAttrName=function(){var e=beforeQuote.match(attrReg);return e&&e[1]},status=function(){return quote?"'"+getAttrName()+"'":htmlTag?1:0},top=function(e){return e[e.length-1]},Scanner;return can.view.Scanner=Scanner=function(e){can.extend(this,{text:{},tokens:[]},e),this.text.options=this.text.options||"",this.tokenReg=[],this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"},this.tokenComplex=[],this.tokenMap={};for(var t,n=0;t=this.tokens[n];n++)t[2]?(this.tokenReg.push(t[2]),this.tokenComplex.push({abbr:t[1],re:new RegExp(t[2]),rescan:t[3]})):(this.tokenReg.push(t[1]),this.tokenSimple[t[1]]=t[0]),this.tokenMap[t[0]]=t[1];this.tokenReg=new RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")},Scanner.prototype={helpers:[],scan:function(e,t){var n=[],i=0,r=this.tokenSimple,a=this.tokenComplex;e=e.replace(newLine,"\n"),this.transform&&(e=this.transform(e)),e.replace(this.tokenReg,function(t,s){var o=arguments[arguments.length-2];if(o>i&&n.push(e.substring(i,o)),r[t])n.push(t);else for(var u,c=0;u=a[c];c++)if(u.re.test(t)){n.push(u.abbr),u.rescan&&n.push(u.rescan(s));break}i=o+s.length}),i<e.length&&n.push(e.substr(i));var s,o,u,c,l="",d=[startTxt+(this.text.start||"")],h=function(e,t){d.push(put_cmd,'"',clean(e),'"'+(t||"")+");")},p=[],f=null,m=!1,g={attributeHookups:[],tagHookups:[],lastTagHookup:""},v=function(){g.lastTagHookup=g.tagHookups.pop()+g.tagHookups.length},y="",b=[],w=!1,_=!1,x=0,k=this.tokenMap;for(htmlTag=quote=beforeQuote=null;void 0!==(u=n[x++]);){if(null===f)switch(u){case k.left:case k.escapeLeft:case k.returnLeft:m=htmlTag&&1;case k.commentLeft:f=u,l.length&&h(l),l="";break;case k.escapeFull:m=htmlTag&&1,rescan=1,f=k.escapeLeft,l.length&&h(l),rescan=n[x++],l=rescan.content||rescan,rescan.before&&h(rescan.before),n.splice(x,0,k.right);break;case k.commentFull:break;case k.templateLeft:l+=k.left;break;case"<":0!==n[x].indexOf("!--")&&(htmlTag=1,m=0),l+=u;break;case">":htmlTag=0;var j="/"===l.substr(l.length-1)||"--"===l.substr(l.length-2),C="";if(g.attributeHookups.length&&(C="attrs: ['"+g.attributeHookups.join("','")+"'], ",g.attributeHookups=[]),y+g.tagHookups.length!==g.lastTagHookup&&y===top(g.tagHookups))j&&(l=l.substr(0,l.length-1)),d.push(put_cmd,'"',clean(l),'"',",can.view.pending({tagName:'"+y+"',"+C+"scope: "+(this.text.scope||"this")+this.text.options),j?(d.push("}));"),l="/>",v()):"<"===n[x]&&n[x+1]==="/"+y?(d.push("}));"),l=u,v()):(d.push(",subtemplate: function("+this.text.argNames+"){\n"+startTxt+(this.text.start||"")),l="");else if(m||!w&&elements.tagToContentPropMap[b[b.length-1]]||C){var T=",can.view.pending({"+C+"scope: "+(this.text.scope||"this")+this.text.options+'}),"';j?h(l.substr(0,l.length-1),T+'/>"'):h(l,T+'>"'),l="",m=0}else l+=u;(j||w)&&(b.pop(),y=b[b.length-1],w=!1),g.attributeHookups=[];break;case"'":case'"':if(htmlTag)if(quote&&quote===u){quote=null;var P=getAttrName();if(viewCallbacks.attr(P)&&g.attributeHookups.push(P),_){l+=u,h(l),d.push(finishTxt,"}));\n"),l="",_=!1;break}}else if(null===quote&&(quote=u,beforeQuote=s,c=getAttrName(),"img"===y&&"src"===c||"style"===c)){h(l.replace(attrReg,"")),l="",_=!0,d.push(insert_cmd,"can.view.txt(2,'"+getTag(y,n,x)+"',"+status()+",this,function(){",startTxt),h(c+"="+u);break}default:if("<"===s){y="!--"===u.substr(0,3)?"!--":u.split(/\s/)[0];var S,A=!1;0===y.indexOf("/")&&(A=!0,S=y.substr(1)),A?(top(b)===S&&(y=S,w=!0),top(g.tagHookups)===S&&(h(l.substr(0,l.length-1)),d.push(finishTxt+"}}) );"),l="><",v())):(y.lastIndexOf("/")===y.length-1&&(y=y.substr(0,y.length-1)),"!--"!==y&&viewCallbacks.tag(y)&&("content"===y&&elements.tagMap[top(b)]&&(u=u.replace("content",elements.tagMap[top(b)])),g.tagHookups.push(y)),b.push(y))}l+=u}else switch(u){case k.right:case k.returnRight:switch(f){case k.left:o=bracketNum(l),1===o?(d.push(insert_cmd,"can.view.txt(0,'"+getTag(y,n,x)+"',"+status()+",this,function(){",startTxt,l),p.push({before:"",after:finishTxt+"}));\n"})):(i=p.length&&-1===o?p.pop():{after:";"},i.before&&d.push(i.before),d.push(l,";",i.after));break;case k.escapeLeft:case k.returnLeft:o=bracketNum(l),o&&p.push({before:finishTxt,after:"}));\n"});for(var E=f===k.escapeLeft?1:0,M={insert:insert_cmd,tagName:getTag(y,n,x),status:status(),specialAttribute:_},N=0;N<this.helpers.length;N++){var O=this.helpers[N];if(O.name.test(l)){l=O.fn(l,M),O.name.source===/^>[\s]*\w*/.source&&(E=0);break}}"object"==typeof l?l.startTxt&&l.end&&_?d.push(insert_cmd,"can.view.toStr( ",l.content,"() ) );"):(l.startTxt?d.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||(null!=l.escaped?l.escaped:E))+",\n'"+y+"',\n"+status()+",\nthis,\n"):l.startOnlyTxt&&d.push(insert_cmd,"can.view.onlytxt(this,\n"),d.push(l.content),l.end&&d.push("));")):_?d.push(insert_cmd,l,");"):d.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||E)+",\n'"+y+"',\n"+status()+",\nthis,\nfunction(){ "+(this.text.escape||"")+"return ",l,o?startTxt:"}));\n"),rescan&&rescan.after&&rescan.after.length&&(h(rescan.after.length),rescan=null)}f=null,l="";break;case k.templateLeft:l+=k.left;break;default:l+=u}s=u}l.length&&h(l),d.push(";");var F=d.join(""),L={out:(this.text.outStart||"")+F+" "+finishTxt+(this.text.outEnd||"")};return myEval.call(L,"this.fn = (function("+this.text.argNames+"){"+L.out+"});\r\n//# sourceURL="+t+".js"),L}},can.view.pending=function(e){var t=can.view.getHooks();return can.view.hook(function(n){can.each(t,function(e){e(n)}),e.templateType="legacy",e.tagName&&viewCallbacks.tagHandler(n,e.tagName,e),can.each(e&&e.attrs||[],function(t){e.attributeName=t;var i=viewCallbacks.attr(t);i&&i(n,e)})})},can.view.tag("content",function(e,t){return t.scope}),can.view.Scanner=Scanner,Scanner}),define("can/view/node_lists",["can/util/library","can/view/elements"],function(e){var t=!0;try{document.createTextNode("")._=0}catch(n){t=!1}var i={},r={},a="ejs_"+Math.random(),s=0,o=function(e,n){var i=n||r,o=u(e,i);return o?o:t||3!==e.nodeType?(++s,e[a]=(e.nodeName?"element_":"obj_")+s):(++s,i["text_"+s]=e,"text_"+s)},u=function(e,n){if(t||3!==e.nodeType)return e[a];for(var i in n)if(n[i]===e)return i},c=[].splice,l=[].push,d=function(e){for(var t=0,n=0,i=e.length;i>n;n++){var r=e[n];r.nodeType?t++:t+=d(r)}return t},h=function(e,t){for(var n={},i=0,r=e.length;r>i;i++){var a=p.first(e[i]);n[o(a,t)]=e[i]}return n},p={id:o,update:function(t,n){var i=p.unregisterChildren(t);n=e.makeArray(n);var r=t.length;return c.apply(t,[0,r].concat(n)),t.replacements?p.nestReplacements(t):p.nestList(t),i},nestReplacements:function(e){for(var t=0,n={},i=h(e.replacements,n),r=e.replacements.length;t<e.length&&r;){var a=e[t],s=i[u(a,n)];s&&(e.splice(t,d(s),s),r--),t++}e.replacements=[]},nestList:function(e){for(var t=0;t<e.length;){var n=e[t],r=i[o(n)];r?r!==e&&e.splice(t,d(r),r):i[o(n)]=e,t++}},last:function(e){var t=e[e.length-1];return t.nodeType?t:p.last(t)},first:function(e){var t=e[0];return t.nodeType?t:p.first(t)},register:function(e,t,n){return e.unregistered=t,e.parentList=n,n===!0?e.replacements=[]:n?(n.replacements.push(e),e.replacements=[]):p.nestList(e),e},unregisterChildren:function(t){var n=[];return e.each(t,function(e){e.nodeType?(t.replacements||delete i[o(e)],n.push(e)):l.apply(n,p.unregister(e))}),n},unregister:function(e){var t=p.unregisterChildren(e);if(e.unregistered){var n=e.unregistered;delete e.unregistered,delete e.replacements,n()}return t},nodeMap:i};return e.view.nodeLists=p,p}),define("can/view/parser",["can/view"],function(e){function t(e){for(var t={},n=e.split(","),i=0;i<n.length;i++)t[n[i]]=!0;return t}var n="-:A-Za-z0-9_",i="[a-zA-Z_:]["+n+":.]*",r="\\s*=\\s*",a='"((?:\\\\.|[^"])*)"',s="'((?:\\\\.|[^'])*)'",o="(?:"+r+"(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?",u="\\{\\{[^\\}]*\\}\\}\\}?",c="\\{\\{([^\\}]*)\\}\\}\\}?",l=new RegExp("^<(["+n+"]+)((?:\\s*(?:(?:(?:"+i+")?"+o+")|(?:"+u+")+))*)\\s*(\\/?)>"),d=new RegExp("^<\\/(["+n+"]+)[^>]*>"),h=new RegExp("(?:(?:("+i+")|"+c+")(?:"+r+"(?:(?:"+a+")|(?:"+s+")|([^>\\s]+)))?)","g"),p=new RegExp(c,"g"),f=/<|\{\{/,m=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),g=t("address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),v=t("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),y=t("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),b=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),w=t("script,style"),_=function(e,t){function n(e,n,r,a){if(n=n.toLowerCase(),g[n])for(;u.last()&&v[u.last()];)i("",u.last());y[n]&&u.last()===n&&i("",n),a=m[n]||!!a,t.start(n,a),a||u.push(n),_.parseAttrs(r,t),t.end(n,a)}function i(e,n){var i;if(n)for(i=u.length-1;i>=0&&u[i]!==n;i--);else i=0;if(i>=0){for(var r=u.length-1;r>=i;r--)t.close&&t.close(u[r]);u.length=i}}function r(e,n){t.special&&t.special(n)}var a,s,o,u=[],c=e;for(u.last=function(){return this[this.length-1]};e;){if(s=!0,u.last()&&w[u.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+u.last()+"[^>]*>"),function(e,n){return n=n.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(n),""}),i("",u.last());else if(0===e.indexOf("<!--")?(a=e.indexOf("-->"),a>=0&&(t.comment&&t.comment(e.substring(4,a)),e=e.substring(a+3),s=!1)):0===e.indexOf("</")?(o=e.match(d),o&&(e=e.substring(o[0].length),o[0].replace(d,i),s=!1)):0===e.indexOf("<")?(o=e.match(l),o&&(e=e.substring(o[0].length),o[0].replace(l,n),s=!1)):0===e.indexOf("{{")&&(o=e.match(p),o&&(e=e.substring(o[0].length),o[0].replace(p,r))),s){a=e.search(f);var h=0>a?e:e.substring(0,a);e=0>a?"":e.substring(a),t.chars&&h&&t.chars(h)}if(e===c)throw"Parse Error: "+e;c=e}i(),t.done()};return _.parseAttrs=function(e,t){(null!=e?e:"").replace(h,function(e,n,i,r,a,s){if(i&&t.special(i),n||r||a||s){var o=arguments[3]?arguments[3]:arguments[4]?arguments[4]:arguments[5]?arguments[5]:b[n.toLowerCase()]?n:"";t.attrStart(n||"");for(var u,c=p.lastIndex=0,l=p.exec(o);l;)u=o.substring(c,p.lastIndex-l[0].length),u.length&&t.attrValue(u),t.special(l[1]),c=p.lastIndex,l=p.exec(o);u=o.substr(c,o.length),u&&t.attrValue(u),t.attrEnd(n||"")}})},e.view.parser=_,_}),define("can/view/live",["can/util/library","can/view/elements","can/view","can/view/node_lists","can/view/parser"],function(e,t,n,i,r){t=t||e.view.elements,i=i||e.view.NodeLists,r=r||e.view.parser;var a=function(t,n,i){var r=!1,a=function(){return r||(r=!0,i(s),e.unbind.call(t,"removed",a)),!0},s={teardownCheck:function(e){return e?!1:a()}};return e.bind.call(t,"removed",a),n(s),s},s=function(e,t,n){return a(e,function(){t.bind("change",n)},function(e){t.unbind("change",n),e.nodeList&&i.unregister(e.nodeList)})},o=function(e){var t,n={};return r.parseAttrs(e,{attrStart:function(e){n[e]="",t=e},attrValue:function(e){n[t]+=e},attrEnd:function(){}}),n},u=[].splice,c=function(e){return e&&e.nodeType},l=function(e){e.childNodes.length||e.appendChild(document.createTextNode(""))},d={list:function(n,r,s,o,c,l){var h,p=l||[n],f=[],m=function(n,r,a){var c=document.createDocumentFragment(),d=[],h=[];e.each(r,function(t,n){var r=[];l&&i.register(r,null,!0);var u=e.compute(n+a),p=s.call(o,t,u,r),f="string"==typeof p,m=e.frag(p);m=f?e.view.hookup(m):m;var g=e.makeArray(m.childNodes);l?(i.update(r,g),d.push(r)):d.push(i.register(g)),c.appendChild(m),h.push(u)});var m=a+1;if(p[m]){var g=i.first(p[m]);e.insertBefore(g.parentNode,c,g)}else t.after(1===m?[v]:[i.last(p[m-1])],c);u.apply(p,[m,0].concat(d)),u.apply(f,[a,0].concat(h));for(var y=a+h.length,b=f.length;b>y;y++)f[y](y)},g=function(t,n,r,a,s){if(a||!w.teardownCheck(v.parentNode)){0>r&&(r=f.length+r);var o=p.splice(r+1,n.length),u=[];e.each(o,function(e){var t=i.unregister(e);[].push.apply(u,t)}),f.splice(r,n.length);for(var c=r,l=f.length;l>c;c++)f[c](c);s||e.remove(e.$(u))}},v=document.createTextNode(""),y=function(e){h&&h.unbind&&h.unbind("add",m).unbind("remove",g),g({},{length:p.length-1},0,!0,e)},b=function(e,t,n){y(),h=t||[],h.bind&&h.bind("add",m).bind("remove",g),m({},h,0)};c=t.getParentNode(n,c);var w=a(c,function(){e.isFunction(r)&&r.bind("change",b)},function(){e.isFunction(r)&&r.unbind("change",b),y(!0)});l?(t.replace(p,v),i.update(p,[v]),l.unregistered=w.teardownCheck):d.replace(p,v,w.teardownCheck),b({},e.isFunction(r)?r():r)},html:function(n,r,a,o){var u;a=t.getParentNode(n,a),u=s(a,r,function(e,t,n){var r=i.first(d).parentNode;r&&h(t),u.teardownCheck(i.first(d).parentNode)});var d=o||[n],h=function(n){var r=!c(n),s=e.frag(n),o=e.makeArray(d);l(s),r&&(s=e.view.hookup(s,a)),o=i.update(d,s.childNodes),t.replace(o,s)};u.nodeList=d,o?o.unregistered=u.teardownCheck:i.register(d,u.teardownCheck),h(r())},replace:function(n,r,a){var s=n.slice(0),o=e.frag(r);return i.register(n,a),"string"==typeof r&&(o=e.view.hookup(o,n[0].parentNode)),i.update(n,o.childNodes),t.replace(s,o),n},text:function(n,r,a,o){var u=t.getParentNode(n,a),c=s(u,r,function(t,n,i){"unknown"!=typeof l.nodeValue&&(l.nodeValue=e.view.toStr(n)),c.teardownCheck(l.parentNode)}),l=document.createTextNode(e.view.toStr(r()));o?(o.unregistered=c.teardownCheck,c.nodeList=o,i.update(o,[l]),t.replace([n],l)):c.nodeList=d.replace([n],l,c.teardownCheck)},setAttributes:function(t,n){var i=o(n);for(var r in i)e.attr.set(t,r,i[r])},attributes:function(n,i,r){var a={},u=function(i){var r,s=o(i);for(r in s){var u=s[r],c=a[r];u!==c&&e.attr.set(n,r,u),delete a[r]}for(r in a)t.removeAttr(n,r);a=s};s(n,i,function(e,t){u(t)}),arguments.length>=3?a=o(r):u(i())},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(n,i,r){s(n,r,function(e,r){t.setAttr(n,i,u.render())});var a,o=e.$(n);a=e.data(o,"hooks"),a||e.data(o,"hooks",a={});var u,c=t.getAttr(n,i),l=c.split(d.attributePlaceholder),h=[];h.push(l.shift(),l.join(d.attributePlaceholder)),a[i]?a[i].computes.push(r):a[i]={render:function(){var e=0,n=c?c.replace(d.attributeReplace,function(){return t.contentText(u.computes[e++]())}):t.contentText(u.computes[e++]());return n},computes:[r],batchNum:void 0},u=a[i],h.splice(1,0,r()),t.setAttr(n,i,h.join(""))},specialAttribute:function(e,n,i){s(e,i,function(i,r){t.setAttr(e,n,p(r))}),t.setAttr(e,n,p(i()))},simpleAttribute:function(e,n,i){s(e,i,function(i,r){t.setAttr(e,n,r)}),t.setAttr(e,n,i())}};d.attr=d.simpleAttribute,d.attrs=d.attributes;var h=/(\r|\n)+/g,p=function(e){var n=/^["'].*["']$/;return e=e.replace(t.attrReg,"").replace(h,""),n.test(e)?e.substr(1,e.length-2):e};return e.view.live=d,d}),define("can/view/render",["can/view","can/view/elements","can/view/live","can/util/string"],function(e,t,n){var i,r=[],a=function(e){var n=t.tagMap[e]||"span";return"span"===n?"@@!!@@":"<"+n+">"+a(n)+"</"+n+">"},s=function(t,n){if("string"==typeof t)return t;if(!t&&0!==t)return"";var i=t.hookup&&function(e,n){t.hookup.call(t,e,n)}||"function"==typeof t&&t;return i?n?"<"+n+" "+e.view.hook(i)+"></"+n+">":(r.push(i),""):""+t},o=function(t,n){return"string"==typeof t||"number"==typeof t?e.esc(t):s(t,n)},u=!1,c=function(){};return e.extend(e.view,{live:n,setupLists:function(){var t,n=e.view.lists;return e.view.lists=function(e,n){return t={list:e,renderer:n},Math.random()},function(){return e.view.lists=n,t}},getHooks:function(){var e=r.slice(0);return i=e,r=[],e},onlytxt:function(e,t){return o(t.call(e))},txt:function(l,d,h,p,f){var m,g,v,y,b=t.tagMap[d]||"span",w=!1,_=c;if(u)m=f.call(p);else{("string"==typeof h||1===h)&&(u=!0);var x=e.view.setupLists();_=function(){v.unbind("change",c)},v=e.compute(f,p,!1),v.bind("change",c),g=x(),m=v(),u=!1,w=v.hasDependencies}if(g)return _(),"<"+b+e.view.hook(function(e,t){n.list(e,g.list,g.renderer,p,t)})+"></"+b+">";if(!w||"function"==typeof m)return _(),(u||2===l||!l?s:o)(m,0===h&&b);var k=t.tagToContentPropMap[d];return 0!==h||k?1===h?(r.push(function(e){n.attributes(e,v,v()),_()}),v()):2===l?(y=h,r.push(function(e){n.specialAttribute(e,y,v),_()}),v()):(y=0===h?k:h,(0===h?i:r).push(function(e){n.attribute(e,y,v),_()}),n.attributePlaceholder):"<"+b+e.view.hook(l&&"object"!=typeof m?function(e,t){n.text(e,v,t),_()}:function(e,t){n.html(e,v,t),_()})+">"+a(b)+"</"+b+">"}}),e}),define("can/view/mustache",["can/util/library","can/view/scope","can/view","can/view/scanner","can/compute","can/view/render"],function(e){e.view.ext=".mustache";var t="scope",n="___h4sh",i="{scope:"+t+",options:options}",r="{scope:"+t+",options:options, special: true}",a=t+",options",s=/((([^'"\s]+?=)?('.*?'|".*?"))|.*?)\s/g,o=/^(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)|((.+?)=(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false)|(.+))))$/,u=function(e){return'{get:"'+e.replace(/"/g,'\\"')+'"}'},c=function(e){return e&&"string"==typeof e.get},l=function(t){return t instanceof e.Map||t&&!!t._get},d=function(e){return e&&e.splice&&"number"==typeof e.length},h=function(t,n,i){var r=function(e,i){return t(e||n,i)};return function(t,a){return void 0===t||t instanceof e.view.Scope||(t=n.add(t)),void 0===a||a instanceof e.view.Options||(a=i.add(a)),r(t,a||i)}},p=function(t,n){if(this.constructor!==p){var i=new p(t);return function(e,t){return i.render(e,t)}}return"function"==typeof t?void(this.template={fn:t}):(e.extend(this,t),void(this.template=this.scanner.scan(this.text,this.name)))};e.Mustache=window.Mustache=p,p.prototype.render=function(t,n){return t instanceof e.view.Scope||(t=new e.view.Scope(t||{})),n instanceof e.view.Options||(n=new e.view.Options(n||{})),n=n||{},this.template.fn.call(t,t,n)},e.extend(p.prototype,{scanner:new e.view.Scanner({text:{start:"",scope:t,options:",options: options",argNames:a},tokens:[["returnLeft","{{{","{{[{&]"],["commentFull","{{!}}","^[\\s\\t]*{{!.+?}}\\n"],["commentLeft","{{!","(\\n[\\s\\t]*{{!|{{!)"],["escapeFull","{{}}","(^[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}$)",function(e){return{before:/^\n.+?\n$/.test(e)?"\n":"",content:e.match(/\{\{(.+?)\}\}/)[1]||""}}],["escapeLeft","{{"],["returnRight","}}}"],["right","}}"]],helpers:[{name:/^>[\s]*\w*/,fn:function(t,n){var i=e.trim(t.replace(/^>\s?/,"")).replace(/["|']/g,"");return"can.Mustache.renderPartial('"+i+"',"+a+")"}},{name:/^\s*data\s/,fn:function(e,n){var i=e.match(/["|'](.*)["|']/)[1];return"can.proxy(function(__){can.data(can.$(__),'"+i+"', this.attr('.')); }, "+t+")"}},{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(e){var n=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,i=e.match(n);return"can.proxy(function(__){var "+i[1]+"=can.$(__);with("+t+".attr('.')){"+i[2]+"}}, this);"}},{name:/^.*$/,fn:function(t,c){var l=!1,d={content:"",startTxt:!1,startOnlyTxt:!1,end:!1};if(t=e.trim(t),t.length&&(l=t.match(/^([#^\/]|else$)/))){switch(l=l[0]){case"#":case"^":c.specialAttribute?d.startOnlyTxt=!0:(d.startTxt=!0,d.escaped=0);break;case"/":return d.end=!0,d.content+='return ___v1ew.join("");}}])',d}t=t.substring(1)}if("else"!==l){var h,p=[],f=[],m=0;d.content+="can.Mustache.txt(\n"+(c.specialAttribute?r:i)+",\n"+(l?'"'+l+'"':"null")+",",(e.trim(t)+" ").replace(s,function(e,t){m&&(h=t.match(o))?h[2]?p.push(h[0]):f.push(h[4]+":"+(h[6]?h[6]:u(h[5]))):p.push(u(t)),m++}),d.content+=p.join(","),f.length&&(d.content+=",{"+n+":{"+f.join(",")+"}}")}switch(l&&"else"!==l&&(d.content+=",[\n\n"),l){case"^":case"#":d.content+="{fn:function("+a+"){var ___v1ew = [];";break;case"else":d.content+='return ___v1ew.join("");}},\n{inverse:function('+a+"){\nvar ___v1ew = [];";break;default:d.content+=")"}return l||(d.startTxt=!0,d.end=!0),d}}]})});for(var f=e.view.Scanner.prototype.helpers,m=0;m<f.length;m++)p.prototype.scanner.helpers.unshift(f[m]);return p.txt=function(t,i,r){for(var a,s,o=t.scope,u=t.options,f=[],m={fn:function(){},inverse:function(){}},g=o.attr("."),v=!0,y=3;y<arguments.length;y++){var b=arguments[y];if(i&&e.isArray(b))m=e.extend.apply(e,[m].concat(b));else if(b&&b[n]){a=b[n];for(var w in a)c(a[w])&&(a[w]=p.get(a[w].get,t,!1,!0))}else b&&c(b)?f.push(p.get(b.get,t,!1,!0,!0)):f.push(b)}if(c(r)){var _=r.get;r=p.get(r.get,t,f.length,!1),v=_===r}if(m.fn=h(m.fn,o,u),m.inverse=h(m.inverse,o,u),"^"===i){var x=m.fn;m.fn=m.inverse,m.inverse=x}return(s=v&&"string"==typeof r&&p.getHelper(r,u)||e.isFunction(r)&&!r.isComputed&&{fn:r})?(e.extend(m,{context:g,scope:o,contexts:o,hash:a}),f.push(m),function(){return s.fn.apply(g,f)||""}):function(){var t;t=e.isFunction(r)&&r.isComputed?r():r;var n,a,s,o=f.length?f:[t],u=!0,c=[];if(i)for(n=0;n<o.length;n++)s=o[n],a="undefined"!=typeof s&&l(s),d(s)?"#"===i?u=u&&!!(a?s.attr("length"):s.length):"^"===i&&(u=u&&!(a?s.attr("length"):s.length)):u="#"===i?u&&!!s:"^"===i?u&&!s:u;if(u){if("#"===i){if(d(t)){var h=l(t);for(n=0;n<t.length;n++)c.push(m.fn(h?t.attr(""+n):t[n]));return c.join("")}return m.fn(t||{})||""}return"^"===i?m.inverse(t||{})||"":""+(null!=t?t:"")}return""}},p.get=function(t,n,i,r,a){var s=n.scope.attr("."),o=n.options||{};if(i){if(p.getHelper(t,o))return t;if(n.scope&&e.isFunction(s[t]))return s[t]}var u=n.scope.computeData(t,{isArgument:r,args:[s,n.scope]}),c=u.compute;e.compute.temporarilyBind(c);var l=u.initialValue;p.getHelper(t,o);return a||void 0!==l&&u.scope===n.scope||!p.getHelper(t,o)?c.hasDependencies?c:l:t},p.resolve=function(t){return l(t)&&d(t)&&t.attr("length")?t:e.isFunction(t)?t():t},e.view.Options=e.view.Scope.extend({init:function(t,n){t.helpers||t.partials||t.tags||(t={helpers:t}),e.view.Scope.prototype.init.apply(this,arguments)}}),p._helpers={},p.registerHelper=function(e,t){this._helpers[e]={name:e,fn:t}},p.getHelper=function(e,t){var n;return t&&(n=t.attr("helpers."+e)),
n?{fn:n}:this._helpers[e]},p.render=function(t,n,i){if(!e.view.cached[t]){var r=e.__clearReading();n.attr("partial")&&(t=n.attr("partial")),e.__setReading(r)}return e.view.render(t,n,i)},p.safeString=function(e){return{toString:function(){return e}}},p.renderPartial=function(t,n,i){var r=i.attr("partials."+t);return r?r.render?r.render(n,i):r(n,i):e.Mustache.render(t,n,i)},e.each({"if":function(t,n){var i;return i=e.isFunction(t)?e.compute.truthy(t)():!!p.resolve(t),i?n.fn(n.contexts||this):n.inverse(n.contexts||this)},unless:function(t,n){return p._helpers["if"].fn.apply(this,[e.isFunction(t)?e.compute(function(){return!t()}):!t,n])},each:function(t,n){var i,r,a,s=p.resolve(t),o=[];if(e.view.lists&&(s instanceof e.List||t&&t.isComputed&&void 0===s))return e.view.lists(t,function(e,t){return n.fn(n.scope.add({"@index":t}).add(e))});if(t=s,t&&d(t)){for(a=0;a<t.length;a++)o.push(n.fn(n.scope.add({"@index":a}).add(t[a])));return o.join("")}if(l(t)){for(i=e.Map.keys(t),a=0;a<i.length;a++)r=i[a],o.push(n.fn(n.scope.add({"@key":r}).add(t[r])));return o.join("")}if(t instanceof Object){for(r in t)o.push(n.fn(n.scope.add({"@key":r}).add(t[r])));return o.join("")}},"with":function(e,t){var n=e;return e=p.resolve(e),e?t.fn(n):void 0},log:function(e,t){"undefined"!=typeof console&&console.log&&(t?console.log(e,t.context):console.log(e.context))},"@index":function(t,n){n||(n=t,t=0);var i=n.scope.attr("@index");return""+((e.isFunction(i)?i():i)+t)}},function(e,t){p.registerHelper(t,e)}),e.view.register({suffix:"mustache",contentType:"x-mustache-template",script:function(e,t){return"can.Mustache(function("+a+") { "+new p({text:t,name:e}).template.out+" })"},renderer:function(e,t){return p({text:t,name:e})}}),e.mustache.registerHelper=e.proxy(e.Mustache.registerHelper,e.Mustache),e.mustache.safeString=e.Mustache.safeString,e}),define("can/observe",["can/util/library","can/map","can/list","can/compute"],function(e){return e.Observe=e.Map,e.Observe.startBatch=e.batch.start,e.Observe.stopBatch=e.batch.stop,e.Observe.triggerBatch=e.batch.trigger,e}),define("can/view/bindings",["can/util/library","can/view/mustache","can/control"],function(e){var t=function(){var e={"":!0,"true":!0,"false":!1},t=function(t){if(t&&t.getAttribute){var n=t.getAttribute("contenteditable");return e[n]}};return function(e){var n=t(e);return"boolean"==typeof n?n:!!t(e.parentNode)}}(),n=function(e){return"{"===e[0]&&"}"===e[e.length-1]?e.substr(1,e.length-2):e};e.view.attr("can-value",function(i,u){var c,l,d=n(i.getAttribute("can-value")),h=u.scope.computeData(d,{args:[]}).compute;return"input"===i.nodeName.toLowerCase()&&("checkbox"===i.type&&(c=e.attr.has(i,"can-true-value")?i.getAttribute("can-true-value"):!0,l=e.attr.has(i,"can-false-value")?i.getAttribute("can-false-value"):!1),"checkbox"===i.type||"radio"===i.type)?void new a(i,{value:h,trueValue:c,falseValue:l}):"select"===i.nodeName.toLowerCase()&&i.multiple?void new s(i,{value:h}):t(i)?void new o(i,{value:h}):void new r(i,{value:h})});var i={enter:function(e,t,n){return{event:"keyup",handler:function(e){return 13===e.keyCode?n.call(this,e):void 0}}}};e.view.attr(/can-[\w\.]+/,function(t,r){var a=r.attributeName,s=a.substr("can-".length),o=function(i){var s=n(t.getAttribute(a)),o=r.scope.read(s,{returnObserveMethods:!0,isArgument:!0});return o.value.call(o.parent,r.scope._context,e.$(this),i)};if(i[s]){var u=i[s](r,t,o);o=u.handler,s=u.event}e.bind.call(t,s,o)});var r=e.Control.extend({init:function(){"SELECT"===this.element[0].nodeName.toUpperCase()?setTimeout(e.proxy(this.set,this),1):this.set()},"{value} change":"set",set:function(){if(this.element){var e=this.options.value();this.element[0].value=null==e?"":e}},change:function(){this.element&&this.options.value(this.element[0].value)}}),a=e.Control.extend({init:function(){this.isCheckbox="checkbox"===this.element[0].type.toLowerCase(),this.check()},"{value} change":"check",check:function(){if(this.isCheckbox){var t=this.options.value(),n=this.options.trueValue||!0;this.element[0].checked=t===n}else{var i=this.options.value()==this.element[0].value?"set":"remove";e.attr[i](this.element[0],"checked",!0)}},change:function(){this.isCheckbox?this.options.value(this.element[0].checked?this.options.trueValue:this.options.falseValue):this.element[0].checked&&this.options.value(this.element[0].value)}}),s=r.extend({init:function(){this.delimiter=";",this.set()},set:function(){var t=this.options.value();"string"==typeof t?(t=t.split(this.delimiter),this.isString=!0):t&&(t=e.makeArray(t));var n={};e.each(t,function(e){n[e]=!0}),e.each(this.element[0].childNodes,function(e){e.value&&(e.selected=!!n[e.value])})},get:function(){var t=[],n=this.element[0].childNodes;return e.each(n,function(e){e.selected&&e.value&&t.push(e.value)}),t},change:function(){var t=this.get(),n=this.options.value();this.isString||"string"==typeof n?(this.isString=!0,this.options.value(t.join(this.delimiter))):n instanceof e.List?n.attr(t,!0):this.options.value(t)}}),o=e.Control.extend({init:function(){this.set(),this.on("blur","setValue")},"{value} change":"set",set:function(){var e=this.options.value();this.element[0].innerHTML="undefined"==typeof e?"":e},setValue:function(){this.options.value(this.element[0].innerHTML)}})}),define("can/component",["can/util/library","can/view/callbacks","can/control","can/observe","can/view/mustache","can/view/bindings"],function(e,t){var n=/^(dataViewId|class|id)$/i,i=/\{([^\}]+)\}/g,r=e.Component=e.Construct.extend({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Component){var t=this,n=this.prototype.scope;if(this.Control=a.extend(this.prototype.events),n&&("object"!=typeof n||n instanceof e.Map)?n.prototype instanceof e.Map&&(this.Map=n):this.Map=e.Map.extend(n||{}),this.attributeScopeMappings={},e.each(this.Map?this.Map.defaults:{},function(e,n){"@"===e&&(t.attributeScopeMappings[n]=n)}),this.prototype.template)if("function"==typeof this.prototype.template){var i=this.prototype.template;this.renderer=function(){return e.view.frag(i.apply(null,arguments))}}else this.renderer=e.view.mustache(this.prototype.template);e.view.tag(this.prototype.tag,function(e,n){new t(e,n)})}}},{setup:function(i,r){var a,s,o,u={},c=this,l={};if(e.each(this.constructor.attributeScopeMappings,function(t,n){u[n]=i.getAttribute(e.hyphenate(t))}),e.each(e.makeArray(i.attributes),function(o,d){var h=e.camelize(o.nodeName.toLowerCase()),p=o.value;if(!(c.constructor.attributeScopeMappings[h]||n.test(h)||t.attr(o.nodeName))){if("{"===p[0]&&"}"===p[p.length-1])p=p.substr(1,p.length-2);else if("legacy"!==r.templateType)return void(u[h]=p);var f=r.scope.computeData(p,{args:[]}),m=f.compute,g=function(e,t){a=h,s.attr(h,t),a=null};m.bind("change",g),u[h]=m(),m.hasDependencies?(e.bind.call(i,"removed",function(){m.unbind("change",g)}),l[h]=f):m.unbind("change",g)}}),this.constructor.Map)s=new this.constructor.Map(u);else if(this.scope instanceof e.Map)s=this.scope;else if(e.isFunction(this.scope)){var d=this.scope(u,r.scope,i);s=d instanceof e.Map?d:d.prototype instanceof e.Map?new d(u):new(e.Map.extend(d))(u)}var h={};e.each(l,function(e,t){h[t]=function(n,i){a!==t&&e.compute(i)},s.bind(t,h[t])}),e.bind.call(i,"removed",function(){e.each(h,function(e,t){s.unbind(t,h[t])})}),e.isEmptyObject(this.constructor.attributeScopeMappings)&&"legacy"===r.templateType||e.bind.call(i,"attributes",function(t){var r=e.camelize(t.attributeName);l[r]||n.test(r)||s.attr(r,i.getAttribute(t.attributeName))}),this.scope=s,e.data(e.$(i),"scope",this.scope);var p=r.scope.add(this.scope),f={helpers:{}};e.each(this.helpers||{},function(t,n){e.isFunction(t)&&(f.helpers[n]=function(){return t.apply(s,arguments)})}),this._control=new this.constructor.Control(i,{scope:this.scope}),this.constructor.renderer?(f.tags||(f.tags={}),f.tags.content=function m(t,n){var i=r.subtemplate||n.subtemplate;i&&(delete f.tags.content,e.view.live.replace([t],i(n.scope,n.options)),f.tags.content=m)},o=this.constructor.renderer(p,r.options.add(f))):o="legacy"===r.templateType?e.view.frag(r.subtemplate?r.subtemplate(p,r.options.add(f)):""):r.subtemplate?r.subtemplate(p,r.options.add(f)):document.createDocumentFragment(),e.appendChild(i,o)}}),a=e.Control.extend({_lookup:function(e){return[e.scope,e,window]},_action:function(t,n,r){var a,s;if(i.lastIndex=0,a=i.test(t),r||!a){if(a){s=e.compute(function(){var r,a=t.replace(i,function(t,i){var a;return"scope"===i?(r=n.scope,""):(i=i.replace(/^scope\./,""),a=e.compute.read(n.scope,i.split("."),{isArgument:!0}).value,void 0===a&&(a=e.getObject(i)),"string"==typeof a?a:(r=a,""))}),s=a.split(/\s+/g),o=s.pop();return{processor:this.processors[o]||this.processors.click,parts:[a,s.join(" "),o],delegate:r||void 0}},this);var o=function(e,n){r._bindings.control[t](r.element),r._bindings.control[t]=n.processor(n.delegate||r.element,n.parts[2],n.parts[1],t,r)};return s.bind("change",o),r._bindings.readyComputes[t]={compute:s,handler:o},s()}return e.Control._action.apply(this,arguments)}}},{setup:function(t,n){return this.scope=n.scope,e.Control.prototype.setup.call(this,t,n)},off:function(){this._bindings&&e.each(this._bindings.readyComputes||{},function(e){e.compute.unbind("change",e.handler)}),e.Control.prototype.off.apply(this,arguments),this._bindings.readyComputes={}}});return window.jQuery&&jQuery.fn&&(jQuery.fn.scope=function(e){return e?this.data("scope").attr(e):this.data("scope")}),e.scope=function(t,n){return t=e.$(t),n?e.data(t,"scope").attr(n):e.data(t,"scope")},r}),define("can",["can/util/library","can/control/route","can/model","can/view/mustache","can/component"],function(e){return e}),define("text",["module"],function(e){"use strict";var t,n,i,r,a,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,l=c&&location.protocol&&location.protocol.replace(/\:/,""),d=c&&location.hostname,h=c&&(location.port||void 0),p={},f=e.config&&e.config()||{};return t={version:"2.0.14",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(u);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(i){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,a=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!s||a>1)?(t=e.substring(0,a),n=e.substring(a+1)):t=e,i=n||t,a=i.indexOf("!"),-1!==a&&(r="strip"===i.substring(a+1),i=i.substring(0,a),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,r){var a,s,o,u=t.xdRegExp.exec(e);return u?(a=u[2],s=u[3],s=s.split(":"),o=s[1],s=s[0],!(a&&a!==n||s&&s.toLowerCase()!==i.toLowerCase()||(o||s)&&o!==r)):!0},finishLoad:function(e,n,i,r){i=n?t.strip(i):i,f.isBuild&&(p[e]=i),r(i)},load:function(e,n,i,r){if(r&&r.isBuild&&!r.inlineText)return void i();f.isBuild=r&&r.isBuild;var a=t.parseName(e),s=a.moduleName+(a.ext?"."+a.ext:""),o=n.toUrl(s),u=f.useXhr||t.useXhr;return 0===o.indexOf("empty:")?void i():void(!c||u(o,l,d,h)?t.get(o,function(n){t.finishLoad(e,a.strip,n,i)},function(e){i.error&&i.error(e)}):n([s],function(e){t.finishLoad(a.moduleName+"."+a.ext,a.strip,e,i)}))},write:function(e,n,i,r){if(p.hasOwnProperty(n)){var a=t.jsEscape(p[n]);i.asModule(e+"!"+n,"define(function () { return '"+a+"';});\n")}},writeFile:function(e,n,i,r,a){var s=t.parseName(n),o=s.ext?"."+s.ext:"",u=s.moduleName+o,c=i.toUrl(s.moduleName+o)+".js";t.load(u,i,function(n){var i=function(e){return r(c,e)};i.asModule=function(e,t){return r.asModule(e,c,t)},t.write(e,u,i,a)},a)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(n=require.nodeRequire("fs"),t.get=function(e,t,i){try{var r=n.readFileSync(e,"utf8");"\ufeff"===r[0]&&(r=r.substring(1)),t(r)}catch(a){i&&i(a)}}):"xhr"===f.env||!f.env&&t.createXhr()?t.get=function(e,n,i,r){var a,s=t.createXhr();if(s.open("GET",e,!0),r)for(a in r)r.hasOwnProperty(a)&&s.setRequestHeader(a.toLowerCase(),r[a]);f.onXhr&&f.onXhr(s,e),s.onreadystatechange=function(t){var r,a;4===s.readyState&&(r=s.status||0,r>399&&600>r?(a=new Error(e+" HTTP status: "+r),a.xhr=s,i&&i(a)):n(s.responseText),f.onXhrComplete&&f.onXhrComplete(s,e))},s.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,i,r="utf-8",a=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),r)),u="";try{for(n=new java.lang.StringBuffer,i=o.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=o.readLine());)n.append(s),n.append(i);u=String(n.toString())}finally{o.close()}t(u)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in i,t.get=function(e,t){var n,s,o,u={};a&&(e=e.replace(/\//g,"\\")),o=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),n.init(o,1,0,!1),s=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),s.init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),u),s.close(),n.close(),t(u.value)}catch(c){throw new Error((o&&o.path||"")+": "+c)}}),t}),define("mtemplate",["text"],function(e){"use strict";var t={},n={},i="define('{pluginName}!{moduleName}', ['can/view/mustache'], function (Mustache) { var template = '{content}';  return can.mustache( template );  });\n";return{version:"0.0.1",load:function(i,r,a,s){if(n[i])a(n[i]);else{var o=s.stache&&s.stache.extension||"",u=s.stache&&s.stache.path||"";e.load(u+i+o,r,function(e){s.isBuild?(t[i]=e,a()):(n[i]=can.mustache(e),a(n[i]))},s)}},write:function(n,r,a,s){var o=t[r],u=o&&e.jsEscape(o);u&&a.asModule(n+"!"+r,i.replace("{pluginName}",n).replace("{moduleName}",r).replace("{content}",u))}}}),define("mtemplate!app/sitecontainer.html",["can/view/mustache"],function(e){var t='\n\n<div class="statusbar-overlay"></div>\n\n<div class="panel-overlay"></div>\n<div class="appmenu-overlay open"></div>\n<div class="appmenu"></div>\n\n\n<div class="views tabs ">\n	\n	<div class="view view-main" >\n		<div class="navbar">\n			<div class="siteheader">\n				<span class="logo">Soundwave</span>\n			</div>\n			<div class="playerinfo-container">\n			<div class="playerinfo">\n				{{#if player.story}}\n				<div class="box">\n					<span class="title">{{player.story.title}}</span>\n					<span class="time">{{player.story.progress}}</span> \n				</div>\n				{{/if}}\n			</div>\n			</div>\n		</div>\n		<div class="pages navbar-through ">\n			\n		</div>\n	</div>\n</div>\n\n<div class="popup" style="display: none;">\n	<div class="view ">\n		\n		<div class="navbar">\n			\n			\n		</div>\n		<div class="pages navbar-through toolbar-through">\n			\n		</div>	\n	</div>\n</div>\n\n<div id="jplayer"></div>\n\n<audio class="audioplayer">\n	\n</audio>\n';return can.mustache(t)}),define("mtemplate!app/pagenavbar.html",["can/view/mustache"],function(e){var t='{{#if showBackLink}}\n	<div class="left sliding" style="">\n		<a href="#" class="back link">\n			<span class="ss-standard">&#x25C5;</span>\n		</a>\n	</div>\n{{/if}}\n\n<div class="center sliding" style="">{{navbarTitle}}</div>\n\n<div class="right">\n	<a href="#" class="open-login link icon-only">\n		<span class="ss-standard">&#x2699;</span>\n	</a>\n</div>';return can.mustache(t)}),define("mtemplate!app/popupnavbar.html",["can/view/mustache"],function(e){var t='\n\n<div class="center sliding" style="">{{navbarTitle}}</div>\n\n<div class="right">\n	<a href="#" class="link close-popup">\n		<span class="ss-standard">&#x2421;</span>\n	</a>\n</div>';return can.mustache(t)}),define("canjs-commons/functions",["jquery","can"],function(e,t){var n={jsonajax:function(n){return e.ajax({url:n.url,processData:!1,data:JSON.stringify(n.data),dataType:n.dataType||"json",contentType:"application/json",type:n.type||"POST"}).fail(function(e,n,i){t.trigger(window,"ajaxerror",e)})},dfdMap:function(t){var n=e.Deferred(),i=[],r=[];return e.map(t,function(e,t){i.push(e),r.push(t)}),e.when.apply(null,i).done(function(){var t=arguments,i={};e.each(t,function(e,t){var n=r[e];n&&(i[n]=t)}),n.resolve(i)}).fail(function(e,t,i){n.reject()}),n}};return n}),define("canjs-commons/extensions",["jquery","can"],function(e,t){t.Control.prototype.find=function(e){return this.element.find(e)},t.Model.List.prototype.findById=function(e){return this.filter(function(t){return t.id==e})[0]},t.Model.List.prototype.sort=function(e){return[].sort.apply(this,[e]),this},t.Model.List.prototype.remove=function(e){var t=this.indexOf(e);-1!=t&&this.splice(t,1)},t.Model.List.prototype.grep=function(t,n){return new this.constructor(e.grep(this,t,n))},e.fn.model=function(e){return e?(this.data("model",e),this.addClass(e.constructor._shortName),this.addClass(e.constructor._shortName+"_"+e.id),this):this.data("model")},e.Event.prototype.stop=function(){this.stopPropagation(),this.preventDefault()}}),define("can/map/delegate",["can/util/library","can/map"],function(e){var t=function(e,t){var n,i=e.length,r=0,a=[];for(r;i>r;r++){if(n=t[r],"string"!=typeof n)return null;if("**"===e[r])return t.join(".");if("*"===e[r])a.push(n);else{if(n!==e[r])return null;a.push(n)}}return a.join(".")},n=function(n,i,r,a,s){var o,u,c,l,d,h=i.split("."),p=(this._observe_delegates||[]).slice(0);n.attr=i,n.lastAttr=h[h.length-1];for(var f=0;o=p[f++];)if(!(n.batchNum&&o.batchNum===n.batchNum||o.undelegated)){l=void 0,d=!0;for(var m=0;m<o.attrs.length;m++)u=o.attrs[m],c=t(u.parts,h),c&&(l=c),u.value&&d?d=u.value===""+this.attr(u.attr):d&&o.attrs.length>1&&(d=void 0!==this.attr(u.attr));if(l&&d){var g=i.replace(l+".","");n.batchNum&&(o.batchNum=n.batchNum),"change"===o.event?(i=g,n.curAttr=l,o.callback.apply(this.attr(l),e.makeArray(arguments))):o.event===r?o.callback.apply(this.attr(l),[n,a,s,g]):"set"===o.event&&"add"===r&&o.callback.apply(this.attr(l),[n,a,s,g])}}};return e.extend(e.Map.prototype,{delegate:function(t,i,r){t=e.trim(t);for(var a,s=this._observe_delegates||(this._observe_delegates=[]),o=[],u=/([^\s=,]+)(?:=("[^",]*"|'[^',]*'|[^\s"',]*))?(,?)\s*/g;null!==(a=u.exec(t));)a[2]&&e.inArray(a[2].substr(0,1),['"',"'"])>=0&&(a[2]=a[2].substr(1,-1)),o.push({attr:a[1],parts:a[1].split("."),value:a[2],or:","===a[3]});return s.push({selector:t,attrs:o,callback:r,event:i}),1===s.length&&this.bind("change",n),this},undelegate:function(t,i,r){t=t&&e.trim(t);var a,s=0,o=this._observe_delegates||[];if(t)for(;s<o.length;)a=o[s],a.callback===r||!r&&a.selector===t?(a.undelegated=!0,o.splice(s,1)):s++;else o=[];return o.length||this.unbind("change",n),this}}),e.Map.prototype.delegate.matches=t,e.Map}),define("can/construct/super",["can/util/library","can/construct"],function(e,t){var n=e.isFunction,i=/xyz/.test(function(){return this.xyz})?/\b_super\b/:/.*/,r=["get","set"],a=function(e,t,n){return function(){var i,r=this._super;return this._super=e[t],i=n.apply(this,arguments),this._super=r,i}};return e.Construct._defineProperty=function(t,i,s,o){var u=Object.getOwnPropertyDescriptor(i,s);u&&e.each(r,function(e){n(u[e])&&n(o[e])?o[e]=a(u,e,o[e]):n(o[e])||(o[e]=u[e])}),Object.defineProperty(t,s,o)},e.Construct._overwrite=function(e,t,r,s){e[r]=n(s)&&n(t[r])&&i.test(s)?a(t,r,s):s},e}),define("can/construct/proxy",["can/util/library","can/construct"],function(e,t){var n=(e.isFunction,e.isArray),i=e.makeArray,r=function(e){var t,r=i(arguments);return e=r.shift(),n(e)||(e=[e]),t=this,function(){for(var a,s,o=r.concat(i(arguments)),u=e.length,c=0;u>c;c++)s=e[c],s&&(a="string"==typeof s,o=(a?t[s]:s).apply(t,o||[]),u-1>c&&(o=!n(o)||o._use_call?[o]:o));return o}};e.Construct.proxy=e.Construct.prototype.proxy=r;for(var a=[e.Map,e.Control,e.Model],s=0;s<a.length;s++)a[s]&&(a[s].proxy=r);return e}),define("can/control/plugin",["jquery","can/util/library","can/control"],function(e,t){var n,i=function(e,t){var i=e.constructor.pluginName||e.constructor._shortName;for(n=0;n<t.length;n++)if("string"==typeof t[n]?i===t[n]:e instanceof t[n])return!0;return!1},r=t.makeArray,a=t.Control.setup;return t.Control.setup=function(){if(this!==t.Control){var e=this.pluginName||this._fullName;"can_control"!==e&&this.plugin(e),a.apply(this,arguments)}},e.fn.extend({controls:function(){var e,n,a=r(arguments),s=[];return this.each(function(){if(e=t.$(this).data("controls"))for(var r=0;r<e.length;r++)n=e[r],(!a.length||i(n,a))&&s.push(n)}),s},control:function(e){return this.controls.apply(this,arguments)[0]}}),t.Control.plugin=function(n){var i=this;e.fn[n]||(e.fn[n]=function(n){var a,s=r(arguments),o="string"==typeof n&&e.isFunction(i.prototype[n]),u=s[0];return this.each(function(){var e=t.$(this).control(i);e?o?a=e[u].apply(e,s.slice(1)):e.update.apply(e,s):i.newInstance.apply(i,[this].concat(s))}),void 0!==a?a:this})},t.Control.prototype.update=function(e){t.extend(this.options,e),this.on()},t}),define("can/util/object",["can/util/library"],function(e){var t=e.isArray;e.Object={};var n=e.Object.same=function(r,a,s,o,u,c){var l,d=typeof r,h=t(r),p=typeof s;if(("string"===p||null===s)&&(s=i[s],p="function"),"function"===p)return s(r,a,o,u);if(s=s||{},null===r||null===a)return r===a;if(r instanceof Date||a instanceof Date)return r===a;if(-1===c)return"object"===d||r===a;if(d!==typeof a||h!==t(a))return!1;if(r===a)return!0;if(h){if(r.length!==a.length)return!1;for(var f=0;f<r.length;f++)if(l=void 0===s[f]?s["*"]:s[f],!n(r[f],a[f],r,a,l))return!1;return!0}if("object"===d||"function"===d){var m=e.extend({},a);for(var g in r){if(l=void 0===s[g]?s["*"]:s[g],!n(r[g],a[g],l,r,a,c===!1?-1:void 0))return!1;delete m[g]}for(g in m)if(void 0===s[g]||!n(void 0,a[g],s[g],r,a,c===!1?-1:void 0))return!1;return!0}return!1};e.Object.subsets=function(t,n,i){for(var r=n.length,a=[],s=0;r>s;s++){var o=n[s];e.Object.subset(t,o,i)&&a.push(o)}return a},e.Object.subset=function(e,t,i){i=i||{};for(var r in t)if(!n(e[r],t[r],i[r],e,t))return!1;return!0};var i={"null":function(){return!0},i:function(e,t){return(""+e).toLowerCase()===(""+t).toLowerCase()},eq:function(e,t){return e===t},similar:function(e,t){return e==t}};return i.eqeq=i.similar,e.Object}),define("can/map/backup",["can/util/library","can/map","can/util/object"],function(e){var t=function(e,t){var n={};for(var i in e)"object"!=typeof e[i]||null===e[i]||e[i]instanceof Date?n[i]=e[i]:n[i]=t.attr(i);return n};return e.extend(e.Map.prototype,{backup:function(){return this._backupStore=this._attrs(),this},isDirty:function(t){return this._backupStore&&!e.Object.same(this._attrs(),this._backupStore,void 0,void 0,void 0,!!t)},restore:function(e){var n=e?this._backupStore:t(this._backupStore,this);return this.isDirty(e)&&this._attrs(n,!0),this}}),e.Map}),define("can/map/define",["can/util/library","can/observe"],function(e){e.Map.helpers.define=function(e){var t=e.prototype.define;e.defaultGenerators={};for(var n in t)"value"in t[n]&&("function"==typeof t[n].value?e.defaultGenerators[n]=t[n].value:e.defaults[n]=t[n].value),"function"==typeof t[n].Value&&!function(t){e.defaultGenerators[n]=function(){return new t}}(t[n].Value)};var t=e.Map.prototype._setupDefaults;e.Map.prototype._setupDefaults=function(e){var n=t.call(this),i={},r=this.constructor,a=this._get;this._get=function(e){return s=-1!==e.indexOf(".")?e.substr(0,e.indexOf(".")):s,s in n&&!(s in i)&&(this.attr(s,n[s]),i[s]=!0),a.apply(this,arguments)};for(var s in r.defaultGenerators)e&&s in e||(n[s]=r.defaultGenerators[s].call(this));return this._get=a,n};var n=e.Map.prototype,i=n.__set;n.__set=function(t,n,r,a,s){var o=function(n){var i=s&&s.call(u,n);return i!==!1&&e.trigger(u,"error",[t,n],!0),!1},u=this,c=this.define&&this.define[t],l=c&&c.set,d=c&&c.get;if(l){e.batch.start();var h=!1,p=l.call(this,n,function(e){i.call(u,t,e,r,a,o),h=!0},o);return d?void e.batch.stop():void 0===p&&!h&&l.length>=2?void e.batch.stop():(h||i.call(u,t,0===l.length&&void 0===p?n:p,r,a,o),e.batch.stop(),this)}return i.call(u,t,n,r,a,o),this};var r={date:function(e){var t=typeof e;return"string"===t?(e=Date.parse(e),isNaN(e)?null:new Date(e)):"number"===t?new Date(e):e},number:function(e){return+e},"boolean":function(e){return"false"!==e&&"0"!==e&&e?!0:!1},"*":function(e){return e},string:function(e){return""+e}},a=n.__type;n.__type=function(e,t){var n=this.define&&this.define[t],i=n&&n.type,s=n&&n.Type,o=e;return"string"==typeof i&&(i=r[i]),i||s?(i&&(o=i.call(this,o,t)),!s||o instanceof s||(o=new s(o)),o):a.call(this,o,t)};var s=n._remove;n._remove=function(t,n){var i,r=this.define&&this.define[t]&&this.define[t].remove;return r?(e.batch.start(),i=r.call(this,n),i===!1?void e.batch.stop():(i=s.call(this,t,n),e.batch.stop(),i)):s.call(this,t,n)};var o=n._setupComputes;n._setupComputes=function(t){o.apply(this,arguments);for(var n in this.define){var i=this.define[n],r=i.get;r&&(this[n]=e.compute.async(t[n],r,this),this._computedBindings[n]={count:0})}};var u=e.Map.helpers._serialize;e.Map.helpers._serialize=function(e,t,n){return c(e,t,n)};var c=function(e,t,n){var i=e.define&&e.define[t]&&e.define[t].serialize;return void 0===i?u.apply(this,arguments):i!==!1?"function"==typeof i?i.call(e,n,t):u.apply(this,arguments):void 0},l=n.serialize;return n.serialize=function(e){var t=l.apply(this,arguments);if(e)return t;var n,i;for(var r in this.define)r in t||(n=this.define&&this.define[r]&&this.define[r].serialize,n&&(i=c(this,r,this.attr(r)),void 0!==i&&(t[r]=i)));return t},e.Map}),define("can/map/validations",["can/util/library","can/map"],function(e){var t=function(t,n,i){if(i||(i=n,n={}),n=n||{},t="string"==typeof t?[t]:e.makeArray(t),!n.testIf||n.testIf.call(this)){var r=this;e.each(t,function(e){r.validations[e]||(r.validations[e]=[]),r.validations[e].push(function(t){var r=i.call(this,t,e);return void 0===r?void 0:n.message||r})})}},n=e.Map.prototype.__set;return e.Map.prototype.__set=function(t,i,r,a,s){var o=this,u=o.constructor.validations,c=function(n){var i=s&&s.call(o,n);return i!==!1&&e.trigger(o,"error",[t,n],!0),!1};if(n.call(o,t,i,r,a,c),u&&u[t]){var l=o.errors(t);l&&c(l)}return this},e.each([e.Map,e.Model],function(n){if(void 0!==n){var i=n.setup;e.extend(n,{setup:function(e){i.apply(this,arguments),this.validations&&e.validations!==this.validations||(this.validations={})},validate:t,validationMessages:{format:"is invalid",inclusion:"is not a valid option (perhaps out of range)",lengthShort:"is too short",lengthLong:"is too long",presence:"can't be empty",range:"is out of range",numericality:"must be a number"},validateFormatOf:function(e,n,i){t.call(this,e,i,function(e){return"undefined"!=typeof e&&null!==e&&""!==e&&null===String(e).match(n)?this.constructor.validationMessages.format:void 0})},validateInclusionOf:function(e,n,i){t.call(this,e,i,function(e){if("undefined"!=typeof e){for(var t=0;t<n.length;t++)if(n[t]===e)return;return this.constructor.validationMessages.inclusion}})},validateLengthOf:function(e,n,i,r){t.call(this,e,r,function(e){return("undefined"==typeof e||null===e)&&n>0||"undefined"!=typeof e&&null!==e&&e.length<n?this.constructor.validationMessages.lengthShort+" (min="+n+")":"undefined"!=typeof e&&null!==e&&e.length>i?this.constructor.validationMessages.lengthLong+" (max="+i+")":void 0})},validatePresenceOf:function(e,n){t.call(this,e,n,function(e){return"undefined"==typeof e||""===e||null===e?this.constructor.validationMessages.presence:void 0})},validateRangeOf:function(e,n,i,r){t.call(this,e,r,function(e){return("undefined"==typeof e||null===e)&&n>0||"undefined"!=typeof e&&null!==e&&(n>e||e>i)?this.constructor.validationMessages.range+" ["+n+","+i+"]":void 0})},validatesNumericalityOf:function(e){t.call(this,e,function(e){var t=!isNaN(parseFloat(e))&&isFinite(e);return t?void 0:this.constructor.validationMessages.numericality})}})}}),e.extend(e.Map.prototype,{errors:function(t,n){t&&(t=e.isArray(t)?t:[t]);var i={},r=this,a=function(t,a){e.each(a,function(e){var a=e.call(r,o?r.__convert?r.__convert(t,n):n:r.attr(t));a&&(i[t]||(i[t]=[]),i[t].push(a))})},s=this.constructor.validations||{},o=t&&1===t.length&&2===arguments.length;return e.each(t||s,function(e,t){"number"==typeof t&&(t=e,e=s[t]),a(t,e||[])}),e.isEmptyObject(i)?null:o?i[t[0]]:i}}),e.Map}),function(){"use strict";function e(e,t,n){var r=n||i(e);return r==="[object "+t+"]"}function t(t){var n="Array"===t&&on.isArray||function(n,i){return e(n,t,i)};return bn[t]=n,n}function n(t,n){var i=function(i){return y(i)?e(i,n):typeof i===t};return bn[n]=i,i}function i(e){return fn.call(e)}function r(){a(sn),_(_n,function(e,t){a(pn[t])})}function a(e){e.SugarMethods||(l(e,"SugarMethods",{}),s(e,!1,!0,{extend:function(t,n,i){s(e,i!==!1,n,t)},sugarRestore:function(){return u(this,e,arguments,function(e,t,n){l(e,t,n.method)})},sugarRevert:function(){return u(this,e,arguments,function(e,t,n){n.existed?l(e,t,n.original):delete e[t]})}}))}function s(e,t,n,i){var r=t?e.prototype:e;a(e),_(i,function(i,a){var s=r[i],o=v(r,i);Sn(n)&&s&&(a=c(s,a,n)),n===!1&&s||l(r,i,a),e.SugarMethods[i]={method:a,existed:o,original:s,instance:t}})}function o(e,t,n,i,r){var a={};i=jn(i)?i.split(","):i,i.forEach(function(e,t){r(a,e,t)}),s(e,t,n,a)}function u(e,t,n,i){var r=0===n.length,a=d(n),s=!1;return _(t.SugarMethods,function(t,n){(r||-1!==a.indexOf(t))&&(s=!0,i(n.instance?e.prototype:e,t,n))}),s}function c(e,t,n){return function(i){return n.apply(this,arguments)?t.apply(this,arguments):e.apply(this,arguments)}}function l(e,t,n){gn?sn.defineProperty(e,t,{value:n,configurable:!0,enumerable:!1,writable:!0}):e[t]=n}function d(e,t,n){var i,r=[],a=n||0;for(i=e.length;i>a;a++)r.push(e[a]),t&&t.call(e,e[a],a);return r}function h(e,t,n){var i=e[n||0];return Cn(i)&&(e=i,n=0),d(e,t,n)}function p(e){if(!e||!e.call)throw new TypeError("Callback is not callable")}function f(e){return e!==an}function m(e){return e===an}function g(e,t){return!b(e)&&t in e}function v(e,t){return!!e&&mn.call(e,t)}function y(e){return!!e&&("object"==typeof e||vn&&Pn(e))}function b(e){var t=typeof e;return null==e||"string"===t||"number"===t||"boolean"===t}function w(e,t){t=t||i(e);try{if(e&&e.constructor&&!v(e,"constructor")&&!v(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}return!!e&&"[object Object]"===t&&"hasOwnProperty"in e}function _(e,t){var n;for(n in e)if(v(e,n)&&t.call(e,n,e[n],e)===!1)break}function x(e,t){for(var n=0;e>n;n++)t(n)}function k(e,t){return _(t,function(n){e[n]=t[n]}),e}function j(e){return b(e)&&(e=sn(e)),yn&&jn(e)&&C(e),e}function C(e){for(var t,n=0;t=e.charAt(n);)e[n++]=t}function T(e){k(this,j(e))}function P(e,t,n){var i=Mn(10,En(t||0));return n=n||Fn,0>t&&(i=1/i),n(e*i)/i}function S(e){return e>=Rn&&Dn>=e||e>=Hn&&$n>=e}function A(){var e,t;for(t=0;9>=t;t++)e=E(t+Hn),Vn+=e,Un[e]=E(t+Rn);Un[In]="",Un[zn]=Bn,Un[Bn]=Bn,An=un("["+Vn+zn+In+Bn+"]","g")}function E(e){return ln.fromCharCode(e)}function M(){return"	\n\x0B\f\r   ᠎             \u2028\u2029　\ufeff"}function N(e,t){for(var n="",e=e.toString();t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n}function O(e,t){var n,i;return n=e.replace(An,function(e){var t=Un[e];return t===Bn&&(i=!0),t}),i?parseFloat(n):parseInt(n,t||10)}function F(e,t,n,i){var r=En(e).toString(i||10);return r=N("0",t-r.replace(/\.\d+/,"").length)+r,(n||0>e)&&(r=(0>e?"-":"+")+r),r}function L(e){if(e>=11&&13>=e)return"th";switch(e%10){
case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function q(e,t){function n(e,n){(e||t.indexOf(n)>-1)&&(i+=n)}var i="";return t=t||"",n(e.multiline,"m"),n(e.ignoreCase,"i"),n(e.global,"g"),n(e.sticky,"y"),i}function R(e){return jn(e)||(e=ln(e)),e.replace(/([\\/\'*+?|()\[\]{}.^$])/g,"\\$1")}function D(e,t){return e["get"+(e._utc?"UTC":"")+t]()}function H(e,t,n){return e["set"+(e._utc&&"ISOWeek"!=t?"UTC":"")+t](n)}function $(e,t){var n,i,r,a,s,o,u,c,l=typeof e;if("string"===l)return e;if(r=fn.call(e),n=w(e,r),i=Cn(e,r),null!=e&&n||i){if(t||(t=[]),t.length>1)for(u=t.length;u--;)if(t[u]===e)return"CYC";for(t.push(e),a=e.valueOf()+ln(e.constructor),s=i?e:sn.keys(e).sort(),u=0,c=s.length;c>u;u++)o=i?u:s[u],a+=o+$(e[o],t);t.pop()}else a=1/e===-(1/0)?"-0":ln(e&&e.valueOf?e.valueOf():e);return l+r+a}function B(e,t){return e===t?0!==e||1/e===1/t:z(e)&&z(t)?$(e)===$(t):!1}function z(e){var t=i(e);return wn.test(t)||w(e,t)}function I(e,t,n){var i,r=e.length,a=t.length,s=t[a-1]!==!1,o=a>(s?1:2);return o?(i=[],d(t,function(t){return xn(t)?!1:void i.push(V(e,r,t,s,n))}),i):V(e,r,t[0],s,n)}function V(e,t,n,i,r){return i&&(n%=t,0>n&&(n=t+n)),r?e.charAt(n):e[n]}function U(e,t){o(t,!0,!1,e,function(e,t){e[t+("equal"===t?"s":"")]=function(){return sn[t].apply(null,[this].concat(d(arguments)))}})}function W(e,t,n,i){var r=e.length,a=-1==i,s=a?r-1:0,o=G(n,s);for(0>o&&(o=r+o),(!a&&0>o||a&&o>=r)&&(o=s);a&&o>=0||!a&&r>o;){if(e[o]===t)return o;o+=i}return-1}function X(e,t,n,i){var r,a,s=e.length,o=0,u=f(n);if(p(t),0==s&&!u)throw new TypeError("Reduce called on empty array with no initial value");for(u?r=n:(r=e[i?s-1:o],o++);s>o;)a=i?s-o-1:o,a in e&&(r=t(r,e[a],a,e)),o++;return r}function G(e,t){return isNaN(e)?t:parseInt(e>>0)}function J(e){if(0===e.length)throw new TypeError("First argument must be defined")}function Y(){var e=M().match(/^\s+$/);try{ln.prototype.trim.call([1])}catch(t){e=!1}s(ln,!0,!e,{trim:function(){return this.toString().trimLeft().trimRight()},trimLeft:function(){return this.replace(un("^["+M()+"]+"),"")},trimRight:function(){return this.replace(un("["+M()+"]+$"),"")}})}function K(){var e=new cn(cn.UTC(1999,11,31)),t="1999-12-31T00:00:00.000Z",n=e.toISOString&&e.toISOString()===t;o(cn,!0,!n,"toISOString,toJSON",function(e,t){e[t]=function(){return F(this.getUTCFullYear(),4)+"-"+F(this.getUTCMonth()+1,2)+"-"+F(this.getUTCDate(),2)+"T"+F(this.getUTCHours(),2)+":"+F(this.getUTCMinutes(),2)+":"+F(this.getUTCSeconds(),2)+"."+F(this.getUTCMilliseconds(),3)+"Z"}})}function Q(e){return e=un(e),function(t){return e.test(t)}}function Z(e){var t=e.getTime();return function(e){return!(!e||!e.getTime)&&e.getTime()===t}}function ee(e){return function(t,n,i){return t===e||e.call(this,t,n,i)}}function te(e){return function(t,n,i){return t===e||e.call(i,n,t,i)}}function ne(e,t){var n={};return function(i,r,a){var s;if(!y(i))return!1;for(s in e)if(n[s]=n[s]||re(e[s],t),n[s].call(a,i[s],r,a)===!1)return!1;return!0}}function ie(e){return function(t){return t===e||B(t,e)}}function re(e,t){if(b(e));else{if(Pn(e))return Q(e);if(Tn(e))return Z(e);if(Sn(e))return t?te(e):ee(e);if(w(e))return ne(e,t)}return ie(e)}function ae(e,t,n,i){return t?t.apply?t.apply(n,i||[]):Sn(e[t])?e[t].call(e):e[t]:e}function se(e,t,n,i){var r,a,s=+e.length;for(0>n&&(n=e.length+n),a=isNaN(n)?0:n,i===!0&&(s+=a);s>a;){if(r=a%e.length,!(r in e))return oe(e,t,a,i);if(t.call(e,e[r],r,e)===!1)break;a++}}function oe(e,t,n,i){var r,a=[];for(r in e)ue(e,r)&&r>=n&&a.push(parseInt(r));return a.sort().each(function(n){return t.call(e,e[n],n,e)}),e}function ue(e,t){return t in e&&ce(t)==t&&4294967295!=t}function ce(e){return e>>>0}function le(e,t,n,i,r,a){var s,o,u;return e.length>0&&(u=re(t),se(e,function(t,n){return u.call(a,t,n,e)?(s=t,o=n,!1):void 0},n,i)),r?o:s}function de(e,t){var n,i=[],r={};return se(e,function(a,s){n=t?ae(a,t,e,[a,s,e]):a,ye(r,n)||i.push(a)}),i}function he(e,t,n){var i=[],r={};return t.each(function(e){ye(r,e)}),e.each(function(e){var t=$(e),a=!z(e);ve(r,t,e,a)!==n&&(be(r,t,e,a),i.push(e))}),i}function pe(e,t,n){t=t||1/0,n=n||0;var i=[];return se(e,function(e){Cn(e)&&t>n?i=i.concat(pe(e,t,n+1)):i.push(e)}),i}function fe(e){return g(e,"length")&&!jn(e)&&!w(e)}function me(e){return g(e,"length")&&("[object Arguments]"===i(e)||!!e.callee)}function ge(e){var t=[];return d(e,function(e){t=t.concat(e)}),t}function ve(e,t,n,i){var r=t in e;return i&&(e[t]||(e[t]=[]),r=-1!==e[t].indexOf(n)),r}function ye(e,t){var n=$(t),i=!z(t),r=ve(e,n,t,i);return i?e[n].push(t):e[n]=t,r}function be(e,t,n,i){var r,a=0;if(i)for(r=e[t];a<r.length;)r[a]===n?r.splice(a,1):a+=1;else delete e[t]}function we(e,t,n,i){var r,a,s,o,u=[],c="max"===n,l="min"===n,d=on.isArray(e);for(a in e)if(e.hasOwnProperty(a)){if(r=e[a],o=ae(r,t,e,d?[r,parseInt(a),e]:[]),m(o))throw new TypeError("Cannot compare with undefined");o===s?u.push(r):(m(s)||c&&o>s||l&&s>o)&&(u=[r],s=o)}return d||(u=pe(u,1)),i?u:u[0]}function _e(e,t){var n,i,r,a,s,o,u=0,c=0,l=on[Gn],d=on[Jn],h=on[Yn],p=on[Xn],f=on[Kn];e=xe(e,l,d),t=xe(t,l,d);do r=ke(e,u,h),a=ke(t,u,h),n=je(r,p),i=je(a,p),-1===n||-1===i?(n=e.charCodeAt(u)||null,i=t.charCodeAt(u)||null,f&&S(n)&&S(i)&&(n=O(e.slice(u)),i=O(t.slice(u)))):(s=r!==e.charAt(u),o=a!==t.charAt(u),s!==o&&0===c&&(c=s-o)),u+=1;while(null!=n&&null!=i&&n===i);return n===i?c:n-i}function xe(e,t,n){return jn(e)||(e=ln(e)),n&&(e=e.toLowerCase()),t&&(e=e.replace(t,"")),e}function ke(e,t,n){var i=e.charAt(t);return n[i]||i}function je(e,t){return e?t.indexOf(e):null}function Ce(){var e=on.prototype.map,t=function(){var e=arguments;return e.length>0&&!Sn(e[0])};o(on,!0,t,"every,all,some,filter,any,none,find,findIndex",function(e,t){var n=on.prototype[t];e[t]=function(e){var t=re(e);return n.call(this,function(e,n){return t(e,n,this)})}}),s(on,!0,t,{map:function(t){return e.call(this,function(e,n){return ae(e,t,this,[e,n,this])})}})}function Te(){var e="AÁÀÂÃĄBCĆČÇDĎÐEÉÈĚÊËĘFGĞHıIÍÌİÎÏJKLŁMNŃŇÑOÓÒÔPQRŘSŚŠŞTŤUÚÙŮÛÜVWXYÝZŹŻŽÞÆŒØÕÅÄÖ",t="AÁÀÂÃÄ,CÇ,EÉÈÊË,IÍÌİÎÏ,OÓÒÔÕÖ,Sß,UÚÙÛÜ";on[Xn]=e.split("").map(function(e){return e+e.toLowerCase()}).join("");var n={};se(t.split(","),function(e){var t=e.charAt(0);se(e.slice(1).split(""),function(e){n[e]=t,n[e.toLowerCase()]=t.toLowerCase()})}),on[Kn]=!0,on[Jn]=!0,on[Yn]=n}function Pe(e){return sn.keys(j(e))}function Se(e,t){o(sn,!1,!0,e,function(e,n){e[n]=function(e,i,r){var a,s,o=Pe(e);return t||(s=re(i,!0)),a=on.prototype[n].call(o,function(n){var r=e[n];return t?ae(r,i,e,[n,r,e]):s(r,n,e)},r),Cn(a)&&(a=a.reduce(function(t,n,i){return t[n]=e[n],t},{})),a}}),U(e,T)}function Ae(){on[Wn]=_e}function Ee(e){k(this,e),this.compiledFormats=fi.concat()}function Me(e,t){var n;if(jn(e)||(e=""),n=yi[e]||yi[e.slice(0,2)],t===!1&&!n)throw new TypeError("Invalid locale.");return n||ii}function Ne(e,t){function n(e){var t=c[e];jn(t)?c[e]=t.split(","):t||(c[e]=[])}function i(e,t){return e=e.split("+").map(function(e){return e.replace(/(.+):(.+)$/,function(e,t,n){return n.split("|").map(function(e){return t+e}).join("|")})}).join("|"),e.split("|").forEach(t)}function r(e,t,n){var r=[];c[e].forEach(function(e,a){t&&(e+="+"+e.slice(0,3)),i(e,function(e,t){r[t*n+a]=e.toLowerCase()})}),c[e]=r}function a(e,t,n){var i="\\d{"+e+","+t+"}";return n&&(i+="|(?:"+Le(c.numbers)+")+"),i}function s(){var e=["-?\\d+"].concat(c.articles);return c.numbers&&(e=e.concat(c.numbers)),Le(e)}function o(e,t){c[e]=c[e]||t}function u(){var e=[];c.modifiersByName={},c.modifiers.push({name:"day",src:"yesterday",value:-1}),c.modifiers.push({name:"day",src:"today",value:0}),c.modifiers.push({name:"day",src:"tomorrow",value:1}),c.modifiers.forEach(function(t){var n=t.name;i(t.src,function(i){var r=c[n];c.modifiersByName[i]=t,e.push({name:n,src:i,value:t.value}),c[n]=r?r+"|"+i:i})}),c.day+="|"+Le(c.weekdays),c.modifiers=e}var c,l;return c=new Ee(t),n("modifiers"),"months,weekdays,units,numbers,articles,tokens,timeMarker,ampm,timeSuffixes,dateParse,timeParse".split(",").forEach(n),l=!c.monthSuffix,r("months",l,12),r("weekdays",l,7),r("units",!1,8),r("numbers",!1,10),o("code",e),o("date",a(1,2,c.digitDate)),o("year","'\\d{2}|"+a(4,4)),o("num",s()),u(),c.monthSuffix&&(c.month=a(1,2),c.months="1,2,3,4,5,6,7,8,9,10,11,12".split(",").map(function(e){return e+c.monthSuffix})),c.full_month=a(1,2)+"|"+Le(c.months),c.timeSuffixes.length>0&&c.addFormat(ot(di,c),!1,oi),c.addFormat("{day}",!0),c.addFormat("{month}"+(c.monthSuffix||"")),c.addFormat("{year}"+(c.yearSuffix||"")),c.timeParse.forEach(function(e){c.addFormat(e,!0)}),c.dateParse.forEach(function(e){c.addFormat(e)}),yi[e]=c}function Oe(e,t,n,i){e.compiledFormats.unshift({variant:i,locale:e,reg:un("^"+t+"$","i"),to:n})}function Fe(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function Le(e){return e.filter(function(e){return!!e}).join("|")}function qe(){var e=cn.SugarNewDate;return e?e():new cn}function Re(e,t){var n;return y(e[0])?e:kn(e[0])&&!kn(e[1])?[e[0]]:jn(e[0])&&t?[De(e[0]),e[1]]:(n={},ai.forEach(function(t,i){n[t.name]=e[i]}),[n])}function De(e,t){var n,i={};return n=e.match(/^(\d+)?\s?(\w+?)s?$/i),n&&(m(t)&&(t=parseInt(n[1])||1),i[n[2].toLowerCase()]=t),i}function He(e,t,n){var i,r;for(m(n)&&(n=si.length),i=t||0;n>i&&(r=si[i],e(r.name,r,i)!==!1);i++);}function $e(e,t){var n,i,r={};return t.forEach(function(t,a){n=e[a+1],m(n)||""===n||("year"===t&&(r.yearAsString=n.replace(/'/,"")),i=parseFloat(n.replace(/'/,"").replace(/,/,".")),r[t]=isNaN(i)?n.toLowerCase():i)}),r}function Be(e){return e=e.trim().replace(/^just (?=now)|\.+$/i,""),ze(e)}function ze(e){return e.replace(ri,function(e,t,n){var i,r,a=0,s=1;return t?e:(n.split("").reverse().forEach(function(e){var t=pi[e],n=t>9;n?(i&&(a+=s),s*=t/(r||1),r=t):(i===!1&&(s*=10),a+=s*t),i=n}),i&&(a+=s),a)})}function Ie(e,t,n,i){function r(e){h.push(e)}function a(){h.forEach(function(e){e.call()})}function s(){var e=c.getWeekday();c.setWeekday(7*(m.num-1)+(e>b?b+7:b))}function o(){var e=p.modifiersByName[m.edge];He(function(e){return f(m[e])?(g=e,!1):void 0},4),"year"===g?m.specificity="month":("month"===g||"week"===g)&&(m.specificity="day"),c[(e.value<0?"endOf":"beginningOf")+Fe(g)](),-2===e.value&&c.reset()}function u(){var e;He(function(t,n,i){if("day"===t&&(t="date"),f(m[t])){if(i>=v)return lt(c),!1;e=e||{},e[t]=m[t],delete m[t]}}),e&&r(function(){c.set(e,!0)})}var c,l,d,h,p,m,g,v,b,w,x;return c=qe(),h=[],c.utc(i),Tn(e)?c.utc(e.isUTC()).setTime(e.getTime()):kn(e)?c.setTime(e):y(e)?(c.set(e,!0),m=e):jn(e)&&(d=Me(t),e=Be(e),d&&_(d.getFormats(),function(n,i){var a=e.match(i.reg);return a?(p=i.locale,m=$e(a,i.to,p),p.cachedFormat=i,m.utc&&c.utc(),m.timestamp?(m=m.timestamp,!1):(i.variant&&!jn(m.month)&&(jn(m.date)||d.hasVariant(t))&&(x=m.month,m.month=m.date,m.date=x),m.year&&2===m.yearAsString.length&&(m.year=Ve(m.year)),m.month&&(m.month=p.getMonth(m.month),m.shift&&!m.unit&&(m.unit=p.units[7])),m.weekday&&m.date?delete m.weekday:m.weekday&&(m.weekday=p.getWeekday(m.weekday),m.shift&&!m.unit&&(m.unit=p.units[5])),m.day&&(x=p.modifiersByName[m.day])?(m.day=x.value,c.reset(),l=!0):m.day&&(b=p.getWeekday(m.day))>-1&&(delete m.day,m.num&&m.month?(r(s),m.day=1):m.weekday=b),m.date&&!kn(m.date)&&(m.date=p.getNumericDate(m.date)),p.matchPM(m.ampm)&&m.hour<12?m.hour+=12:p.matchAM(m.ampm)&&12===m.hour&&(m.hour=0),("offset_hours"in m||"offset_minutes"in m)&&(c.utc(),m.offset_minutes=m.offset_minutes||0,m.offset_minutes+=60*m.offset_hours,"-"===m.offset_sign&&(m.offset_minutes*=-1),m.minute-=m.offset_minutes),m.unit&&(l=!0,w=p.getNumber(m.num),v=p.getUnitIndex(m.unit),g=ni.units[v],u(),m.shift&&(w*=(x=p.modifiersByName[m.shift])?x.value:0),m.sign&&(x=p.modifiersByName[m.sign])&&(w*=x.value),f(m.weekday)&&(c.set({weekday:m.weekday},!0),delete m.weekday),m[g]=(m[g]||0)+w),m.edge&&r(o),"-"===m.year_sign&&(m.year*=-1),He(function(e,t,n){var i=m[e],r=i%1;r&&(m[si[n-1].name]=Fn(r*("second"===e?1e3:60)),m[e]=On(i))},1,4),!1)):void 0}),m?l?c.advance(m):(c._utc&&c.reset(),st(c,m,!0,!1,n)):("now"!==e&&(c=new cn(e)),i&&c.addMinutes(-c.getTimezoneOffset())),a(),c.utc(!1)),{date:c,set:m}}function Ve(e){return 100*Fn(D(qe(),"FullYear")/100)-100*Fn(e/100)+e}function Ue(e){e=e.clone();var t=D(e,"Day")||7;return e.addDays(4-t).reset(),1+On(e.daysSince(e.clone().beginningOfYear())/7)}function We(e){var t,n=En(e),i=n,r=0;return He(function(e,a,s){t=On(P(n/a.multiplier(),1)),t>=1&&(i=t,r=s)},1),[i,r,e]}function Xe(e){var t=We(e.millisecondsFromNow());return Ge(e,t)&&(t[0]=En(e.monthsFromNow()),t[1]=6),t}function Ge(e,t){return 6===t[1]||5===t[1]&&4===t[0]&&e.daysFromNow()>=qe().daysInMonth()}function Je(e,t){var n=function(e,t){var n=D(e,"Hours");return Me(t).ampm[On(n/12)]||""};Ze("t",n,1),Ze("tt",n),Ze("T",n,1,1),Ze("TT",n,null,2)}function Ye(e,t){var n=function(e,t){var n=D(e,"Day");return Me(t).weekdays[n]};Ze("dow",n,3),Ze("Dow",n,3,1),Ze("weekday",n),Ze("Weekday",n,null,1)}function Ke(e,t){Qe("mon",0,3),Qe("month",0),Qe("month2",1),Qe("month3",2)}function Qe(e,t,n){var i=function(e,n){var i=D(e,"Month");return Me(n).months[i+12*t]};Ze(e,i,n),Ze(Fe(e),i,n,1)}function Ze(e,t,n,i){gi[e]=function(e,r){var a=t(e,r);return n&&(a=a.slice(0,n)),i&&(a=a.slice(0,i).toUpperCase()+a.slice(i)),a}}function et(e,t,n){gi[e]=t,gi[e+e]=function(e,n){return F(t(e,n),2)},n&&(gi[e+e+e]=function(e,n){return F(t(e,n),3)},gi[e+e+e+e]=function(e,n){return F(t(e,n),4)})}function tt(e){var t=e.match(/(\{\w+\})|[^{}]+/g);mi[e]=t.map(function(e){return e.replace(/\{(\w+)\}/,function(t,n){return e=gi[n]||n,n}),e})}function nt(e,t,n){var i,r,a,s,o="";for(i=mi[t],a=0,r=i.length;r>a;a++)s=i[a],o+=Sn(s)?s(e,n):s;return o}function it(e,t,n,i){var r;return e.isValid()?(Date[t]?t=Date[t]:Sn(t)&&(r=Xe(e),t=t.apply(e,r.concat(Me(i)))),!t&&n?(r=r||Xe(e),0===r[1]&&(r[1]=1,r[0]=1),Me(i).getRelativeFormat(r)):(t=t||"long",("short"===t||"long"===t||"full"===t)&&(t=Me(i)[t]),mi[t]||tt(t),nt(e,t,i))):"Invalid Date"}function rt(e,t,n,i,r){var a,s,o,u,c,l,d=0,h=0,p=0;return a=Ie(t,n,null,r),i>0&&(h=p=i,c=!0),a.date.isValid()?(a.set&&a.set.specificity&&(vi.forEach(function(t,n){t.name===a.set.specificity&&(d=t.multiplier(a.date,e-a.date)-1)}),l=Fe(a.set.specificity),(a.set.edge||a.set.shift)&&a.date["beginningOf"+l](),"month"===a.set.specificity&&(u=a.date.clone()["endOf"+l]().getTime()),!c&&a.set.sign&&"millisecond"!=a.set.specificity&&(h=50,p=-50)),s=e.getTime(),o=a.date.getTime(),u=u||o+d,u=at(e,o,u),s>=o-h&&u+p>=s):!1}function at(e,t,n){var i,r,a,s;return i=new cn(t),r=new cn(n).utc(e.isUTC()),23!==D(r,"Hours")&&(a=i.getTimezoneOffset(),s=r.getTimezoneOffset(),a!==s&&(n+=(s-a).minutes())),n}function st(e,t,n,i,r){function a(e){return f(t[e])?t[e]:t[e+"s"]}function s(e){return f(a(e))}function o(e,t){return s(e)||t&&s("weekday")}function u(){switch(r){case-1:return e>qe();case 1:return e<qe()}}var c,l;if(kn(t)&&i)t={milliseconds:t};else if(kn(t))return e.setTime(t),e;if(f(t.date)&&(t.day=t.date),He(function(i,r,a){var u="day"===i;return o(i,u)?(t.specificity=i,l=+a,!1):void(!n||"week"===i||u&&s("week")||H(e,r.method,u?1:0))}),vi.forEach(function(n,r){var o,u=n.name,c=n.method;vi[r-1];o=a(u),m(o)||(i?("week"===u&&(o=(t.day||0)+7*o,c="Date"),o=o*i+D(e,c)):"month"===u&&s("day")&&H(e,"Date",15),H(e,c,o),i&&"month"===u&&ut(e,o))}),!i&&!s("day")&&s("weekday")){var c=a("weekday");e.setWeekday(c)}return u()&&He(function(t,n){var i=n.ambiguous||"week"===t&&s("weekday");return i&&!o(t,"day"===t)?(e[n.addMethod](r),!1):void 0},l+1),e}function ot(e,t,n){var i,r={h:0,m:1,s:2};return t=t||ni,e.replace(/{([a-z])}/g,function(e,a){var s=[],o="h"===a,u=o&&!n;return"t"===a?t.ampm.join("|"):(o&&s.push(":"),(i=t.timeSuffixes[r[a]])&&s.push(i+"\\s*"),0===s.length?"":"(?:"+s.join("|")+")"+(u?"":"?"))})}function ut(e,t){0>t&&(t=t%12+12),t%12!=D(e,"Month")&&H(e,"Date",0)}function ct(e,t,n){var i,r;return kn(e[1])?i=Re(e)[0]:(i=e[0],r=e[1]),Ie(i,r,t,n).date}function lt(e){e.setTime(NaN)}function dt(){si=vi.concat().reverse(),ai=vi.concat(),ai.splice(2,1)}function ht(){o(cn,!0,!0,vi,function(e,t,n){function i(e){var n=e/u,i=n%1,r=t.error||.999;return i&&En(i%1)>r&&(n=Fn(n)),0>n?Nn(n):On(n)}var r,a,s=t.name,o=Fe(s),u=t.multiplier();t.addMethod="add"+o+"s",r=function(e,t){return i(this.getTime()-cn.create(e,t).getTime())},a=function(e,t){return i(cn.create(e,t).getTime()-this.getTime())},e[s+"sAgo"]=a,e[s+"sUntil"]=a,e[s+"sSince"]=r,e[s+"sFromNow"]=r,e[t.addMethod]=function(e,t){var n={};return n[s]=e,this.advance(n,t)},wt(t,u),3>n&&["Last","This","Next"].forEach(function(t){e["is"+t+o]=function(){return rt(this,t+" "+s,"en")}}),4>n&&(e["beginningOf"+o]=function(){var e={};switch(s){case"year":e.year=D(this,"FullYear");break;case"month":e.month=D(this,"Month");break;case"day":e.day=D(this,"Date");break;case"week":e.weekday=0}return this.set(e,!0)},e["endOf"+o]=function(){var e={hours:23,minutes:59,seconds:59,milliseconds:999};switch(s){case"year":e.month=11,e.day=31;break;case"month":e.day=this.daysInMonth();break;case"week":e.weekday=6}return this.set(e,!0)})})}function pt(){ni.addFormat("([+-])?(\\d{4,4})[-.]?{full_month}[-.]?(\\d{1,2})?",!0,["year_sign","year","month","date"],!1,!0),ni.addFormat("(\\d{1,2})[-.\\/]{full_month}(?:[-.\\/](\\d{2,4}))?",!0,["date","month","year"],!0),ni.addFormat("{full_month}[-.](\\d{4,4})",!1,["month","year"]),ni.addFormat("\\/Date\\((\\d+(?:[+-]\\d{4,4})?)\\)\\/",!1,["timestamp"]),ni.addFormat(ot(di,ni),!1,oi),fi=ni.compiledFormats.slice(0,7).reverse(),ni.compiledFormats=ni.compiledFormats.slice(7).concat(fi)}function ft(){et("f",function(e){return D(e,"Milliseconds")},!0),et("s",function(e){return D(e,"Seconds")}),et("m",function(e){return D(e,"Minutes")}),et("h",function(e){return D(e,"Hours")%12||12}),et("H",function(e){return D(e,"Hours")}),et("d",function(e){return D(e,"Date")}),et("M",function(e){return D(e,"Month")+1}),Je(),Ye(),Ke(),gi.ms=gi.f,gi.milliseconds=gi.f,gi.seconds=gi.s,gi.minutes=gi.m,gi.hours=gi.h,gi["24hr"]=gi.H,gi["12hr"]=gi.h,gi.date=gi.d,gi.day=gi.d,gi.year=gi.yyyy}function mt(){o(cn,!0,!0,"short,long,full",function(e,t){e[t]=function(e){return it(this,t,!1,e)}})}function gt(){hi.split("").forEach(function(e,t){t>9&&(t=Mn(10,t-9)),pi[e]=t}),k(pi,Un),ri=un("([期週周])?(["+hi+Vn+"]+)(?!昨)","g")}function vt(){var e="today,yesterday,tomorrow,weekday,weekend,future,past".split(","),t=ni.weekdays.slice(0,7),n=ni.months.slice(0,12);o(cn,!0,!0,e.concat(t).concat(n),function(e,t){e["is"+Fe(t)]=function(e){return this.is(t,0,e)}})}function yt(){cn.utc||(cn.utc={create:function(){return ct(arguments,0,!0)},past:function(){return ct(arguments,-1,!0)},future:function(){return ct(arguments,1,!0)}})}function bt(){s(cn,!1,!0,{RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {tz}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {tz}",ISO8601_DATE:"{yyyy}-{MM}-{dd}",ISO8601_DATETIME:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{fff}{isotz}"})}function wt(e,t){function n(){return Fn(this*t)}function i(){return ct(arguments)[e.addMethod](this)}function r(){return ct(arguments)[e.addMethod](-this)}var a=e.name,s={};s[a]=n,s[a+"s"]=n,s[a+"Before"]=r,s[a+"sBefore"]=r,s[a+"Ago"]=r,s[a+"sAgo"]=r,s[a+"After"]=i,s[a+"sAfter"]=i,s[a+"FromNow"]=i,s[a+"sFromNow"]=i,dn.extend(s)}function _t(e,t){this.start=jt(e),this.end=jt(t)}function xt(e){return jn(e)?e.charCodeAt(0):e}function kt(e){return null==e?e:Tn(e)?e.getTime():e.valueOf()}function jt(e){return Tn(e)?new cn(e.getTime()):kt(e)}function Ct(e){var t=kt(e);return!!t||0===t}function Tt(e){var t,n,i;return kn(e)?e:(t=e.toLowerCase().match(/^(\d+)?\s?(\w+?)s?$/i),n=parseInt(t[1])||1,i=t[2].slice(0,1).toUpperCase()+t[2].slice(1),i.match(/hour|minute|second/i)?i+="s":"Year"===i?i="FullYear":"Day"===i&&(i="Date"),[n,i])}function Pt(e,t){var n,i,r,a;return kn(t)?new cn(e.getTime()+t):(n=t[0],i=t[1],r=D(e,i),a=new cn(e.getTime()),H(a,i,r+n),a)}function St(e,t){return ln.fromCharCode(e.charCodeAt(0)+t)}function At(e,t){return e+t}function Et(e,t,n,i,r){t!==1/0&&(e.timers||(e.timers=[]),kn(t)||(t=1),e._canceled=!1,e.timers.push(setTimeout(function(){e._canceled||n.apply(i,r||[])},t)))}function Mt(e,t,n,i,r,a){var s,o,u,c=e.toFixed(20),l=c.search(/\./),d=c.search(/[1-9]/),h=l-d;return h>0&&(h-=1),o=qn(Ln(On(h/3),r===!1?n.length:r),-i),s=n.charAt(o+i-1),-9>h&&(o=-3,t=En(h)-9,s=n.slice(0,1)),u=a?Mn(2,10*o):Mn(10,3*o),P(e/u,t||0).format()+s.trim()}function Nt(){function e(e){return function(t){return t?P(this,t,e):e(this)}}s(dn,!0,!0,{ceil:e(Nn),round:e(Fn),floor:e(On)}),o(dn,!0,!0,"abs,pow,sin,asin,cos,acos,tan,atan,exp,pow,sqrt",function(e,t){e[t]=function(e,n){return hn[t](this,e,n)}})}function Ot(e,t,n,i){var r,a,s,o,u=/^(.+?)(\[.*\])$/;(a=t.match(u))?(o=a[1],s=a[2].replace(/^\[|\]$/g,"").split("]["),s.forEach(function(t){r=!t||t.match(/^\d+$/),!o&&Cn(e)&&(o=e.length),v(e,o)||(e[o]=r?[]:{}),e=e[o],o=t}),!o&&r&&(o=e.length.toString()),Ot(e,o,n,i)):i&&"true"===n?e[t]=!0:i&&"false"===n?e[t]=!1:e[t]=n}function Ft(e,t){var n;return Cn(t)||y(t)&&t.toString===fn?(n=[],_(t,function(t,i){e&&(t=e+"["+t+"]"),n.push(Ft(t,i))}),n.join("&")):e?Lt(e)+"="+(Tn(t)?t.getTime():Lt(t)):""}function Lt(e){return e||e===!1||0===e?encodeURIComponent(e).replace(/%20/g,"+"):""}function qt(e,t,n){return Pn(e)?e.test(t):y(e)?e[t]===n:t===ln(e)}function Rt(e,t,n){var i,r=e instanceof T?new T:{};return _(e,function(e,a){i=!1,h(t,function(t){qt(t,e,a)&&(i=!0)},1),i===n&&(r[e]=a)}),r}function Dt(){o(sn,!1,!0,_n,function(e,t){var n="is"+t;bi.push(n),e[n]=bn[t]})}function Ht(){s(sn,!1,function(){return 0===arguments.length},{extend:function(){var e=bi.concat(wi);"undefined"!=typeof ti&&(e=e.concat(ti)),U(e,sn)}})}function $t(e){var t=ln.Inflector,e=t&&t.acronyms[e];return jn(e)?e:void 0}function Bt(e){if(e=+e,0>e||e===1/0)throw new RangeError("Invalid number");return e}function zt(e,t){return N(f(t)?t:" ",e)}function It(e,t,n,i,r){var a,s,o,u;if(e.length<=t)return e.toString();switch(i=m(i)?"...":i,n){case"left":return s=r?Vt(e,t,!0):e.slice(e.length-t),i+s;case"middle":return o=Nn(t/2),u=On(t/2),a=r?Vt(e,o):e.slice(0,o),s=r?Vt(e,u,!0):e.slice(e.length-u),a+i+s;default:return a=r?Vt(e,t):e.slice(0,t),a+i}}function Vt(e,t,n){if(n)return Vt(e.reverse(),t).reverse();var i=un("(?=["+M()+"])"),r=e.split(i),a=0;return r.filter(function(e){return a+=e.length,t>=a}).join("")}function Ut(e,t,n){return jn(t)&&(t=e.indexOf(t),-1===t&&(t=n?e.length:0)),t}function Wt(e){if(pn.btoa)return _i=pn.btoa,void(xi=pn.atob);var t=/[^A-Za-z0-9\+\/\=]/g;_i=function(t){var n,i,r,a,s,o,u,c="",l=0;do n=t.charCodeAt(l++),i=t.charCodeAt(l++),r=t.charCodeAt(l++),a=n>>2,s=(3&n)<<4|i>>4,o=(15&i)<<2|r>>6,u=63&r,isNaN(i)?o=u=64:isNaN(r)&&(u=64),c=c+e.charAt(a)+e.charAt(s)+e.charAt(o)+e.charAt(u),n=i=r="",a=s=o=u="";while(l<t.length);return c},xi=function(n){var i,r,a,s,o,u,c,l="",d=0;if(n.match(t))throw new Error("String contains invalid base64 characters");n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");do s=e.indexOf(n.charAt(d++)),o=e.indexOf(n.charAt(d++)),u=e.indexOf(n.charAt(d++)),c=e.indexOf(n.charAt(d++)),i=s<<2|o>>4,r=(15&o)<<4|u>>2,a=(3&u)<<6|c,l+=E(i),64!=u&&(l+=E(r)),64!=c&&(l+=E(a)),i=r=a="",s=o=u=c="";while(d<n.length);return l}}function Xt(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function Gt(e,t,n){jn(t)&&Xt(Pi,t),Xt(Pi,n),e.unshift({rule:t,replacement:n})}function Jt(e,t){return e==t||"all"==e||!e}function Yt(e){return Pi.some(function(t){return new un("\\b"+t+"$","i").test(e)})}function Kt(e,t){return e=jn(e)?e.toString():"",e.isBlank()||Yt(e)?e:Qt(e,t?Ci:Ti)}function Qt(e,t){return _(t,function(t,n){return e.match(n.rule)?(e=e.replace(n.rule,n.replacement),!1):void 0}),e}function Zt(e){return e.replace(/^\W*[a-z]/,function(e){return e.toUpperCase()})}function en(){Mi.forEach(function(e){var t=un("^["+e.source+"\\s]+$"),n=un("["+e.source+"]");e.names.forEach(function(e){l(ln.prototype,"is"+e,function(){return t.test(this.trim())}),l(ln.prototype,"has"+e,function(){return n.test(this)})})})}function tn(e,t,n,i){Ei||nn();var r=d(t).join(""),a=Ei[i];return r=r.replace(/all/,"").replace(/(\w)lphabet|umbers?|atakana|paces?|unctuation/g,"$1"),e.replace(n,function(e){return!a[e]||r&&!r.has(a[e].type)?e:a[e].to})}function nn(){var e;Ei={zenkaku:{},hankaku:{}},Oi.forEach(function(e){x(e.end-e.start+1,function(t){t+=e.start,rn(e.type,E(t),E(t+Ni))})}),Bi.each(function(t,n){e=$i.charAt(n),rn("k",e,t),t.match(Di)&&rn("k",e+"ﾞ",t.shift(1)),t.match(Hi)&&rn("k",e+"ﾟ",t.shift(2))}),Ri.each(function(e,t){rn("p",qi.charAt(t),e)}),rn("k","ｳﾞ","ヴ"),rn("k","ｦﾞ","ヺ"),rn("s"," ","　")}function rn(e,t,n){Ei.zenkaku[t]={type:e,to:n},Ei.hankaku[n]={type:e,to:t}}var an,sn=Object,on=Array,un=RegExp,cn=Date,ln=String,dn=Number,hn=Math,pn="undefined"!=typeof global?global:this,fn=sn.prototype.toString,mn=sn.prototype.hasOwnProperty,gn=sn.defineProperty&&sn.defineProperties,vn="function"==typeof un(),yn=!("0"in new ln("a")),bn={},wn=/^\[object Date|Array|String|Number|RegExp|Boolean|Arguments\]$/,_n="Boolean,Number,String,Array,Date,RegExp,Function".split(","),xn=n("boolean",_n[0]),kn=n("number",_n[1]),jn=n("string",_n[2]),Cn=t(_n[3]),Tn=t(_n[4]),Pn=t(_n[5]),Sn=t(_n[6]);T.prototype.constructor=sn;var An,En=hn.abs,Mn=hn.pow,Nn=hn.ceil,On=hn.floor,Fn=hn.round,Ln=hn.min,qn=hn.max,Rn=48,Dn=57,Hn=65296,$n=65305,Bn=".",zn="．",In=",",Vn="",Un={};r(),A(),s(sn,!1,!1,{keys:function(e){var t=[];if(!y(e)&&!Pn(e)&&!Sn(e))throw new TypeError("Object required");return _(e,function(e,n){t.push(e)}),t}}),s(on,!1,!1,{isArray:function(e){return Cn(e)}}),s(on,!0,!1,{every:function(e,t){var n=this.length,i=0;for(J(arguments);n>i;){if(i in this&&!e.call(t,this[i],i,this))return!1;i++}return!0},some:function(e,t){var n=this.length,i=0;for(J(arguments);n>i;){if(i in this&&e.call(t,this[i],i,this))return!0;i++}return!1},map:function(e,t){var t=arguments[1],n=this.length,i=0,r=new Array(n);for(J(arguments);n>i;)i in this&&(r[i]=e.call(t,this[i],i,this)),i++;return r},filter:function(e){var t=arguments[1],n=this.length,i=0,r=[];for(J(arguments);n>i;)i in this&&e.call(t,this[i],i,this)&&r.push(this[i]),i++;return r},indexOf:function(e){var t=arguments[1];return jn(this)?this.indexOf(e,t):W(this,e,t,1)},lastIndexOf:function(e){var t=arguments[1];return jn(this)?this.lastIndexOf(e,t):W(this,e,t,-1)},forEach:function(e){var t=this.length,n=0,i=arguments[1];for(p(e);t>n;)n in this&&e.call(i,this[n],n,this),n++},reduce:function(e){return X(this,e,arguments[1])},reduceRight:function(e){return X(this,e,arguments[1],!0)}}),s(Function,!0,!1,{bind:function(e){var t,n=this,i=d(arguments,null,1);if(!Sn(this))throw new TypeError("Function.prototype.bind called on a non-function");return t=function(){return n.apply(n.prototype&&this instanceof n?this:e,i.concat(d(arguments)))},t.prototype=this.prototype,t}}),s(cn,!1,!1,{now:function(){return(new cn).getTime()}}),Y(),K();var Wn="AlphanumericSort",Xn="AlphanumericSortOrder",Gn="AlphanumericSortIgnore",Jn="AlphanumericSortIgnoreCase",Yn="AlphanumericSortEquivalents",Kn="AlphanumericSortNatural";s(on,!1,!0,{create:function(){var e=[];return d(arguments,function(t){(me(t)||fe(t))&&(t=on.prototype.slice.call(t,0)),e=e.concat(t)}),e}}),s(on,!0,!1,{find:function(e,t){return p(e),le(this,e,0,!1,!1,t)},findIndex:function(e,t){var n;return p(e),n=le(this,e,0,!1,!0,t),m(n)?-1:n}}),s(on,!0,!0,{findFrom:function(e,t,n){return le(this,e,t,n)},findIndexFrom:function(e,t,n){var t=le(this,e,t,n,!0);return m(t)?-1:t},findAll:function(e,t,n){var i,r=[];return this.length>0&&(i=re(e),se(this,function(e,t,n){i(e,t,n)&&r.push(e)},t,n)),r},count:function(e){return m(e)?this.length:this.findAll(e).length},removeAt:function(e,t){return m(e)?this:(m(t)&&(t=e),this.splice(e,t-e+1),this)},include:function(e,t){return this.clone().add(e,t)},exclude:function(){return on.prototype.remove.apply(this.clone(),arguments)},clone:function(){return k([],this)},unique:function(e){return de(this,e)},flatten:function(e){return pe(this,e)},union:function(){return de(this.concat(ge(arguments)))},intersect:function(){return he(this,ge(arguments),!1)},subtract:function(e){return he(this,ge(arguments),!0)},at:function(){return I(this,arguments)},first:function(e){return m(e)?this[0]:(0>e&&(e=0),this.slice(0,e))},last:function(e){if(m(e))return this[this.length-1];var t=this.length-e<0?0:this.length-e;return this.slice(t)},from:function(e){return this.slice(e)},to:function(e){return m(e)&&(e=this.length),this.slice(0,e)},min:function(e,t){return we(this,e,"min",t)},max:function(e,t){return we(this,e,"max",t)},least:function(e,t){return we(this.groupBy.apply(this,[e]),"length","min",t)},most:function(e,t){return we(this.groupBy.apply(this,[e]),"length","max",t)},sum:function(e){var t=e?this.map(e):this;return t.length>0?t.reduce(function(e,t){return e+t}):0},average:function(e){var t=e?this.map(e):this;return t.length>0?t.sum()/t.length:0},inGroups:function(e,t){var n=arguments.length>1,i=this,r=[],a=Nn(this.length/e);return x(e,function(e){var s=e*a,o=i.slice(s,s+a);n&&o.length<a&&x(a-o.length,function(){o=o.add(t)}),r.push(o)}),r},inGroupsOf:function(e,t){var n,i=[],r=this.length,a=this;return 0===r||0===e?a:(m(e)&&(e=1),m(t)&&(t=null),x(Nn(r/e),function(r){for(n=a.slice(e*r,e*r+e);n.length<e;)n.push(t);i.push(n)}),i)},isEmpty:function(){return 0==this.compact().length},sortBy:function(e,t){var n=this.clone();return n.sort(function(i,r){var a,s,o;return a=ae(i,e,n,[i]),s=ae(r,e,n,[r]),o=jn(a)&&jn(s)?_e(a,s):s>a?-1:a>s?1:0,o*(t?-1:1)}),n},randomize:function(){for(var e,t,n=this.concat(),i=n.length;i;)e=hn.random()*i|0,t=n[--i],n[i]=n[e],n[e]=t;return n},zip:function(){var e=d(arguments);return this.map(function(t,n){return[t].concat(e.map(function(e){return n in e?e[n]:null}))})},sample:function(e){var t=this.randomize();return arguments.length>0?t.slice(0,e):t[0]},each:function(e,t,n){return se(this,e,t,n),this},add:function(e,t){return(!kn(dn(t))||isNaN(t))&&(t=this.length),on.prototype.splice.apply(this,[t,0].concat(e)),this},remove:function(){var e=this;return d(arguments,function(t){for(var n=0,i=re(t);n<e.length;)i(e[n],n,e)?e.splice(n,1):n++}),e},compact:function(e){var t=[];return se(this,function(n,i){Cn(n)?t.push(n.compact()):e&&n?t.push(n):e||null==n||n.valueOf()!==n.valueOf()||t.push(n)}),t},groupBy:function(e,t){var n,i=this,r={};return se(i,function(t,a){n=ae(t,e,i,[t,a,i]),r[n]||(r[n]=[]),r[n].push(t)}),t&&_(r,t),r},none:function(){return!this.any.apply(this,arguments)}}),s(on,!0,!0,{all:on.prototype.every,any:on.prototype.some,insert:on.prototype.add}),s(sn,!1,!0,{map:function(e,t){var n,i,r={};for(n in e)v(e,n)&&(i=e[n],r[n]=ae(i,t,e,[n,i,e]));return r},reduce:function(e){var t=Pe(e).map(function(t){return e[t]});return t.reduce.apply(t,d(arguments,null,1))},each:function(e,t){return p(t),_(e,t),e},size:function(e){return Pe(e).length}});var Qn="any,all,none,count,find,findAll,isEmpty".split(","),Zn="sum,average,min,max,least,most".split(","),ei="map,reduce,size".split(","),ti=Qn.concat(Zn).concat(ei);Ce(),Te(),Se(Qn),Se(Zn,!0),U(ei,T),Ae();var ni,ii,ri,ai,si,oi=["ampm","hour","minute","second","ampm","utc","offset_sign","offset_hours","offset_minutes","ampm"],ui="(?:[,.]\\d+)?",ci="\\d{1,2}"+ui,li="[0-5]\\d"+ui,di="({t})?\\s*("+ci+")(?:{h}("+li+")?{m}(?::?("+li+"){s})?\\s*(?:({t})|(Z)|(?:([+-])(\\d{2,2})(?::?(\\d{2,2}))?)?)?|\\s*({t}))",hi="〇一二三四五六七八九十百千万",pi={},fi=[],mi={},gi={yyyy:function(e){return D(e,"FullYear")},yy:function(e){return D(e,"FullYear")%100},ord:function(e){var t=D(e,"Date");return t+L(t)},tz:function(e){return e.getUTCOffset()},isotz:function(e){return e.getUTCOffset(!0)},Z:function(e){return e.getUTCOffset()},ZZ:function(e){return e.getUTCOffset().replace(/(\d{2})$/,":$1")}},vi=[{name:"year",method:"FullYear",ambiguous:!0,multiplier:function(e){var t=e?e.isLeapYear()?1:0:.25;return 24*(365+t)*60*60*1e3}},{name:"month",error:.919,method:"Month",ambiguous:!0,multiplier:function(e,t){var n,i=30.4375;return e&&(n=e.daysInMonth(),t<=n.days()&&(i=n)),24*i*60*60*1e3}},{name:"week",method:"ISOWeek",multiplier:function(){return 6048e5}},{name:"day",error:.958,method:"Date",ambiguous:!0,multiplier:function(){return 864e5}},{name:"hour",method:"Hours",multiplier:function(){return 36e5}},{name:"minute",
method:"Minutes",multiplier:function(){return 6e4}},{name:"second",method:"Seconds",multiplier:function(){return 1e3}},{name:"millisecond",method:"Milliseconds",multiplier:function(){return 1}}],yi={};Ee.prototype={getMonth:function(e){return kn(e)?e-1:this.months.indexOf(e)%12},getWeekday:function(e){return this.weekdays.indexOf(e)%7},getNumber:function(e){var t;return kn(e)?e:e&&-1!==(t=this.numbers.indexOf(e))?(t+1)%10:1},getNumericDate:function(e){var t=this;return e.replace(un(this.num,"g"),function(e){var n=t.getNumber(e);return n||""})},getUnitIndex:function(e){return this.units.indexOf(e)%8},getRelativeFormat:function(e){return this.convertAdjustedToFormat(e,e[2]>0?"future":"past")},getDuration:function(e){return this.convertAdjustedToFormat(We(e),"duration")},hasVariant:function(e){return e=e||this.code,"en"===e||"en-US"===e?!0:this.variant},matchAM:function(e){return e===this.ampm[0]},matchPM:function(e){return e&&e===this.ampm[1]},convertAdjustedToFormat:function(e,t){var n,i,r,a=e[0],s=e[1],o=e[2],u=this[t]||this.relative;return Sn(u)?u.call(this,a,s,o,t):(r=this.plural&&a>1?1:0,i=this.units[8*r+s]||this.units[s],this.capitalizeUnit&&(i=Fe(i)),n=this.modifiers.filter(function(e){return"sign"==e.name&&e.value==(o>0?1:-1)})[0],u.replace(/\{(.*?)\}/g,function(e,t){switch(t){case"num":return a;case"unit":return i;case"sign":return n.src}}))},getFormats:function(){return this.cachedFormat?[this.cachedFormat].concat(this.compiledFormats):this.compiledFormats},addFormat:function(e,t,n,i,r){var a,s,o,u=n||[],c=this;e=e.replace(/\s+/g,"[,. ]*"),e=e.replace(/\{([^,]+?)\}/g,function(e,t){var i,r,a,s=t.match(/\?$/),o=t.match(/^(\d+)\??$/),l=t.match(/(\d)(?:-(\d))?/),d=t.replace(/[^a-z]+$/,"");return o?i=c.tokens[o[1]]:c[d]?i=c[d]:c[d+"s"]&&(i=c[d+"s"],l&&(r=[],i.forEach(function(e,t){var n=t%(c.units?8:i.length);n>=l[1]&&n<=(l[2]||l[1])&&r.push(e)}),i=r),i=Le(i)),o?a="(?:"+i+")":(n||u.push(d),a="("+i+")"),s&&(a+="?"),a}),t?(a=ot(di,c,r),s=["t","[\\s\\u3000]"].concat(c.timeMarker),o=e.match(/\\d\{\d,\d\}\)+\??$/),Oe(c,"(?:"+a+")[,\\s\\u3000]+?"+e,oi.concat(u),i),Oe(c,e+"(?:[,\\s]*(?:"+s.join("|")+(o?"+":"*")+")"+a+")?",u.concat(oi),i)):Oe(c,e,u,i)}},s(cn,!1,!0,{create:function(){return ct(arguments)},past:function(){return ct(arguments,-1)},future:function(){return ct(arguments,1)},addLocale:function(e,t){return Ne(e,t)},setLocale:function(e,t){var n=Me(e,!1);return ii=n,e&&e!=n.code&&(n.code=e),n},getLocale:function(e){return e?Me(e,!1):ii},addFormat:function(e,t,n){Oe(Me(n),e,t)}}),s(cn,!0,!0,{set:function(){var e=Re(arguments);return st(this,e[0],e[1])},setWeekday:function(e){return m(e)?void 0:H(this,"Date",D(this,"Date")+e-D(this,"Day"))},setISOWeek:function(e){var t=D(this,"Day")||7;if(!m(e))return this.set({month:0,date:4}),this.set({weekday:1}),e>1&&this.addWeeks(e-1),1!==t&&this.advance({days:t-1}),this.getTime()},getISOWeek:function(){return Ue(this)},beginningOfISOWeek:function(){var e=this.getDay();return 0===e?e=-6:1!==e&&(e=1),this.setWeekday(e),this.reset()},endOfISOWeek:function(){return 0!==this.getDay()&&this.setWeekday(7),this.endOfDay()},getUTCOffset:function(e){var t=this._utc?0:this.getTimezoneOffset(),n=e===!0?":":"";return!t&&e?"Z":F(On(-t/60),2,!0)+n+F(En(t%60),2)},utc:function(e){return l(this,"_utc",e===!0||0===arguments.length),this},isUTC:function(){return!!this._utc||0===this.getTimezoneOffset()},advance:function(){var e=Re(arguments,!0);return st(this,e[0],e[1],1)},rewind:function(){var e=Re(arguments,!0);return st(this,e[0],e[1],-1)},isValid:function(){return!isNaN(this.getTime())},isAfter:function(e,t,n){return this.getTime()>cn.create(e).getTime()-(t||0)},isBefore:function(e,t){return this.getTime()<cn.create(e).getTime()+(t||0)},isBetween:function(e,t,n){var i=this.getTime(),r=cn.create(e).getTime(),a=cn.create(t).getTime(),s=Ln(r,a),o=qn(r,a);return n=n||0,i>s-n&&o+n>i},isLeapYear:function(){var e=D(this,"FullYear");return e%4===0&&e%100!==0||e%400===0},daysInMonth:function(){return 32-D(new cn(D(this,"FullYear"),D(this,"Month"),32),"Date")},format:function(e,t){return it(this,e,!1,t)},relative:function(e,t){return jn(e)&&(t=e,e=null),it(this,e,!0,t)},is:function(e,t,n){var i,r;if(this.isValid()){if(jn(e))switch(e=e.trim().toLowerCase(),r=this.clone().utc(n),!0){case"future"===e:return this.getTime()>qe().getTime();case"past"===e:return this.getTime()<qe().getTime();case"weekday"===e:return D(r,"Day")>0&&D(r,"Day")<6;case"weekend"===e:return 0===D(r,"Day")||6===D(r,"Day");case(i=ni.weekdays.indexOf(e)%7)>-1:return D(r,"Day")===i;case(i=ni.months.indexOf(e)%12)>-1:return D(r,"Month")===i}return rt(this,e,null,t,n)}},reset:function(e){var t,n={};return e=e||"hours","date"===e&&(e="days"),t=vi.some(function(t){return e===t.name||e===t.name+"s"}),n[e]=e.match(/^days?/)?1:0,t?this.set(n,!0):this},clone:function(){var e=new cn(this.getTime());return e.utc(!!this._utc),e}}),s(cn,!0,!0,{iso:function(){return this.toISOString()},getWeekday:cn.prototype.getDay,getUTCWeekday:cn.prototype.getUTCDay}),s(dn,!0,!0,{duration:function(e){return Me(e).getDuration(this)}}),ni=ii=cn.addLocale("en",{plural:!0,timeMarker:"at",ampm:"am,pm",months:"January,February,March,April,May,June,July,August,September,October,November,December",weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",units:"millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s",numbers:"one,two,three,four,five,six,seven,eight,nine,ten",articles:"a,an,the",tokens:"the,st|nd|rd|th,of","short":"{Month} {d}, {yyyy}","long":"{Month} {d}, {yyyy} {h}:{mm}{tt}",full:"{Weekday} {Month} {d}, {yyyy} {h}:{mm}:{ss}{tt}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",modifiers:[{name:"sign",src:"ago|before",value:-1},{name:"sign",src:"from now|after|from|in|later",value:1},{name:"edge",src:"last day",value:-2},{name:"edge",src:"end",value:-1},{name:"edge",src:"first day|beginning",value:1},{name:"shift",src:"last",value:-1},{name:"shift",src:"the|this",value:0},{name:"shift",src:"next",value:1}],dateParse:["{month} {year}","{shift} {unit=5-7}","{0?} {date}{1}","{0?} {edge} of {shift?} {unit=4-7?}{month?}{year?}"],timeParse:["{num} {unit} {sign}","{sign} {num} {unit}","{0} {num}{1} {day} of {month} {year?}","{weekday?} {month} {date}{1?} {year?}","{date} {month} {year}","{date} {month}","{shift} {weekday}","{shift} week {weekday}","{weekday} {2?} {shift} week","{num} {unit=4-5} {sign} {day}","{0?} {date}{1} of {month}","{0?}{month?} {date?}{1?} of {shift} {unit=6-7}"]}),dt(),ht(),pt(),ft(),mt(),gt(),vt(),yt(),bt(),_t.prototype.toString=function(){return this.isValid()?this.start+".."+this.end:"Invalid Range"},s(_t,!0,!0,{isValid:function(){return Ct(this.start)&&Ct(this.end)&&typeof this.start==typeof this.end},span:function(){return this.isValid()?En(xt(this.end)-xt(this.start))+1:NaN},contains:function(e){return null==e?!1:e.start&&e.end?e.start>=this.start&&e.start<=this.end&&e.end>=this.start&&e.end<=this.end:e>=this.start&&e<=this.end},every:function(e,t){var n,i=this.start,r=this.end,a=i>r,s=i,o=0,u=[];for(Sn(e)&&(t=e,e=null),e=e||1,kn(i)?n=At:jn(i)?n=St:Tn(i)&&(e=Tt(e),n=Pt),a&&e>0&&(e*=-1);a?s>=r:r>=s;)u.push(s),t&&t(s,o),s=n(s,e),o++;return u},union:function(e){return new _t(this.start<e.start?this.start:e.start,this.end>e.end?this.end:e.end)},intersect:function(e){return e.start>this.end||e.end<this.start?new _t(NaN,NaN):new _t(this.start>e.start?this.start:e.start,this.end<e.end?this.end:e.end)},clone:function(e){return new _t(this.start,this.end)},clamp:function(e){var t,n=this.start,i=this.end,r=n>i?i:n,a=n>i?n:i;return t=r>e?r:e>a?a:e,jt(t)}}),[dn,ln,cn].forEach(function(e){s(e,!1,!0,{range:function(t,n){return e.create&&(t=e.create(t),n=e.create(n)),new _t(t,n)}})}),s(dn,!0,!0,{upto:function(e,t,n){return dn.range(this,e).every(n,t)},clamp:function(e,t){return new _t(e,t).clamp(this)},cap:function(e){return this.clamp(an,e)}}),s(dn,!0,!0,{downto:dn.prototype.upto}),s(on,!1,function(e){return e instanceof _t},{create:function(e){return e.every()}}),s(Function,!0,!0,{lazy:function(e,t,n){function i(){return c.length<n-(l&&t?1:0)&&c.push([this,arguments]),l||(l=!0,t?r():Et(i,a,r)),o}var r,a,s,o,u=this,c=[],l=!1;return e=e||1,n=n||1/0,a=Nn(e),s=Fn(a/e)||1,r=function(){var e,t=c.length;if(0!=t){for(e=qn(t-s,0);t>e;)o=Function.prototype.apply.apply(u,c.shift()),t--;Et(i,a,function(){l=!1,r()})}},i},throttle:function(e){return this.lazy(e,!0,1)},debounce:function(e){function t(){t.cancel(),Et(t,e,n,this,arguments)}var n=this;return t},delay:function(e){var t=this,n=d(arguments,null,1);return Et(t,e,t,t,n),t},every:function(e){function t(){n.apply(n,i),Et(n,e,t)}var n=this,i=arguments;return i=i.length>1?d(i,null,1):[],Et(n,e,t),n},cancel:function(){var e,t=this.timers;if(Cn(t))for(;e=t.shift();)clearTimeout(e);return this._canceled=!0,this},after:function(e){var t=this,n=0,i=[];if(kn(e)){if(0===e)return t.call(),t}else e=1;return function(){var r;return i.push(d(arguments)),n++,n==e?(r=t.call(this,i),n=0,i=[],r):void 0}},once:function(){return this.throttle(1/0,!0)},fill:function(){var e=this,t=d(arguments);return function(){var n=d(arguments);return t.forEach(function(e,t){(null!=e||t>=n.length)&&n.splice(t,0,e)}),e.apply(this,n)}}}),s(dn,!1,!0,{random:function(e,t){var n,i;return 1==arguments.length&&(t=e,e=0),n=Ln(e||0,m(t)?1:t),i=qn(e||0,m(t)?1:t)+1,On(hn.random()*(i-n)+n)}}),s(dn,!0,!0,{log:function(e){return hn.log(this)/(e?hn.log(e):1)},abbr:function(e){return Mt(this,e,"kmbt",0,4)},metric:function(e,t){return Mt(this,e,"nμm kMGTPE",4,m(t)?1:t)},bytes:function(e,t){return Mt(this,e,"kMGTPE",0,m(t)?4:t,!0)+"B"},isInteger:function(){return this%1==0},isOdd:function(){return!isNaN(this)&&!this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(e){return this%e===0},format:function(e,t,n){var i,r,a,s,o,u="";for(m(t)&&(t=","),m(n)&&(n="."),r=(kn(e)?P(this,e||0).toFixed(qn(e,0)):this.toString()).replace(/^-/,""),a=r.split("."),s=a[0],o=a[1],i=s.length;i>0;i-=3)i<s.length&&(u=t+u),u=s.slice(qn(0,i-3),i)+u;return o&&(u+=n+N("0",(e||0)-o.length)+o),(0>this?"-":"")+u},hex:function(e){return this.pad(e||1,!1,16)},times:function(e){if(e)for(var t=0;this>t;t++)e.call(this,t);return this.toNumber()},chr:function(){return ln.fromCharCode(this)},pad:function(e,t,n){return F(this,e,t,n)},ordinalize:function(){var e=En(this),t=parseInt(e.toString().slice(-2));return this+L(t)},toNumber:function(){return parseFloat(this,10)}}),Nt();var bi="isObject,isNaN".split(","),wi="keys,values,select,reject,each,merge,clone,equal,watch,tap,has,toQueryString".split(",");s(sn,!1,!0,{watch:function(e,t,n){if(gn){var i=e[t];sn.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return i},set:function(r){i=n.call(e,t,i,r)}})}}}),s(sn,!1,function(){return arguments.length>1},{keys:function(e,t){var n=sn.keys(e);return n.forEach(function(n){t.call(e,n,e[n])}),n}}),s(sn,!1,!0,{isObject:function(e){return w(e)},isNaN:function(e){return kn(e)&&e.valueOf()!==e.valueOf()},equal:function(e,t){return B(e,t)},extended:function(e){return new T(e)},merge:function(e,t,n,i){var r,a,s,o,u,c,l;if(e&&"string"!=typeof t)for(r in t)if(v(t,r)&&e){if(o=t[r],u=e[r],c=f(u),a=y(o),s=y(u),l=c&&i===!1?u:o,c&&Sn(i)&&(l=i.call(t,r,u,o)),n&&(a||s))if(Tn(o))l=new cn(o.getTime());else{if(!Pn(o)){s||(e[r]=on.isArray(o)?[]:{}),sn.merge(e[r],o,n,i);continue}l=new un(o.source,q(o))}e[r]=l}return e},values:function(e,t){var n=[];return _(e,function(i,r){n.push(r),t&&t.call(e,r)}),n},clone:function(e,t){var n,r;if(!y(e))return e;if(r=i(e),Tn(e,r)&&e.clone)return e.clone();if(Tn(e,r)||Pn(e,r))return new e.constructor(e);if(e instanceof T)n=new T;else if(Cn(e,r))n=[];else{if(!w(e,r))throw new TypeError("Clone must be a basic data type.");n={}}return sn.merge(n,e,t)},fromQueryString:function(e,t){var n=sn.extended();return e=e&&e.toString?e.toString():"",e.replace(/^.*?\?/,"").split("&").forEach(function(e){var i=e.split("=");2===i.length&&Ot(n,i[0],decodeURIComponent(i[1]),t)}),n},toQueryString:function(e,t){return Ft(t,e)},tap:function(e,t){var n=t;return Sn(t)||(n=function(){t&&e[t]()}),n.call(e,e),e},has:function(e,t){return v(e,t)},select:function(e){return Rt(e,arguments,!0)},reject:function(e){return Rt(e,arguments,!1)}}),Dt(),Ht(),U(wi,T),s(un,!1,!0,{escape:function(e){return R(e)}}),s(un,!0,!0,{getFlags:function(){return q(this)},setFlags:function(e){return un(this.source,e)},addFlag:function(e){return this.setFlags(q(this,e))},removeFlag:function(e){return this.setFlags(q(this).replace(e,""))}});var _i,xi;s(ln,!0,!1,{repeat:function(e){return e=Bt(e),N(this,e)}}),s(ln,!0,function(e){return Pn(e)||arguments.length>2},{startsWith:function(e){var t,n=arguments,i=n[1],r=n[2],a=this;return i&&(a=a.slice(i)),m(r)&&(r=!0),t=Pn(e)?e.source.replace("^",""):R(e),un("^"+t,r?"":"i").test(a)},endsWith:function(e){var t,n=arguments,i=n[1],r=n[2],a=this;return f(i)&&(a=a.slice(0,i)),m(r)&&(r=!0),t=Pn(e)?e.source.replace("$",""):R(e),un(t+"$",r?"":"i").test(a)}}),s(ln,!0,!0,{escapeRegExp:function(){return R(this)},escapeURL:function(e){return e?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(e){return e?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2f;")},unescapeHTML:function(){return this.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#x2f;/g,"/").replace(/&amp;/g,"&")},encodeBase64:function(){return _i(unescape(encodeURIComponent(this)))},decodeBase64:function(){return decodeURIComponent(escape(xi(this)))},each:function(e,t){var n,i,r;if(Sn(e)?(t=e,e=/[\s\S]/g):e?jn(e)?e=un(R(e),"gi"):Pn(e)&&(e=un(e.source,q(e,"g"))):e=/[\s\S]/g,n=this.match(e)||[],t)for(i=0,r=n.length;r>i;i++)n[i]=t.call(this,n[i],i,n)||n[i];return n},shift:function(e){var t="";return e=e||0,this.codes(function(n){t+=E(n+e)}),t},codes:function(e){var t,n,i=[];for(t=0,n=this.length;n>t;t++){var r=this.charCodeAt(t);i.push(r),e&&e.call(this,r,t)}return i},chars:function(e){return this.each(e)},words:function(e){return this.trim().each(/\S+/g,e)},lines:function(e){return this.trim().each(/^.*$/gm,e)},paragraphs:function(e){var t=this.trim().split(/[\r\n]{2,}/);return t=t.map(function(t){if(e)var n=e.call(t);return n?n:t})},isBlank:function(){return 0===this.trim().length},has:function(e){return-1!==this.search(Pn(e)?e:R(e))},add:function(e,t){return t=m(t)?this.length:t,this.slice(0,t)+e+this.slice(t)},remove:function(e){return this.replace(e,"")},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s　])+/g,function(e,t){return"　"===t?t:" "})},at:function(){return I(this,arguments,!0)},from:function(e){return this.slice(Ut(this,e,!0))},to:function(e){return m(e)&&(e=this.length),this.slice(0,Ut(this,e))},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(ln.Inflector&&ln.Inflector.acronymRegExp,function(e,t){return(t>0?"_":"")+e.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(e){return this.underscore().replace(/(^|_)([^_]+)/g,function(t,n,i,r){var a=$t(i),s=e!==!1||r>0;return a?s?a:a.toLowerCase():s?i.capitalize():i})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var e=this,t=arguments.length>0?arguments:[""];return h(t,function(t){e=e.replace(un("</?"+R(t)+"[^<>]*>","gi"),"")}),e},removeTags:function(){var e=this,t=arguments.length>0?arguments:["\\S+"];return h(t,function(t){var n=un("<("+t+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi");e=e.replace(n,"")}),e},truncate:function(e,t,n){return It(this,e,t,n)},truncateOnWord:function(e,t,n){return It(this,e,t,n,!0)},pad:function(e,t){var n,i,r;return e=Bt(e),n=qn(0,e-this.length)/2,i=On(n),r=Nn(n),zt(i,t)+this+zt(r,t)},padLeft:function(e,t){return e=Bt(e),zt(qn(0,e-this.length),t)+this},padRight:function(e,t){return e=Bt(e),this+zt(qn(0,e-this.length),t)},first:function(e){return m(e)&&(e=1),this.substr(0,e)},last:function(e){m(e)&&(e=1);var t=this.length-e<0?0:this.length-e;return this.substr(t)},toNumber:function(e){return O(this,e)},capitalize:function(e){var t;return this.toLowerCase().replace(e?/[^']/g:/^\S/,function(e){var n,i=e.toUpperCase();return n=t?e:i,t=i!==e,n})},assign:function(){var e={};return h(arguments,function(t,n){y(t)?k(e,t):e[n+1]=t}),this.replace(/\{([^{]+?)\}/g,function(t,n){return v(e,n)?e[n]:t})}}),s(ln,!0,!0,{insert:ln.prototype.add}),Wt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");var ki,ji,Ci=[],Ti=[],Pi=[],Si=[],Ai={};ji={acronym:function(e){Ai[e.toLowerCase()]=e;var t=sn.keys(Ai).map(function(e){return Ai[e]});ji.acronymRegExp=un(t.join("|"),"g")},plural:function(e,t){Gt(Ci,e,t)},singular:function(e,t){Gt(Ti,e,t)},irregular:function(e,t){var n=e.first(),i=e.from(1),r=t.first(),a=t.from(1),s=r.toUpperCase(),o=r.toLowerCase(),u=n.toUpperCase(),c=n.toLowerCase();Xt(Pi,e),Xt(Pi,t),u==s?(ji.plural(new un("({1}){2}$".assign(n,i),"i"),"$1"+a),ji.plural(new un("({1}){2}$".assign(r,a),"i"),"$1"+a),ji.singular(new un("({1}){2}$".assign(r,a),"i"),"$1"+i)):(ji.plural(new un("{1}{2}$".assign(u,i)),s+a),ji.plural(new un("{1}{2}$".assign(c,i)),o+a),ji.plural(new un("{1}{2}$".assign(s,a)),s+a),ji.plural(new un("{1}{2}$".assign(o,a)),o+a),ji.singular(new un("{1}{2}$".assign(s,a)),u+i),ji.singular(new un("{1}{2}$".assign(o,a)),c+i))},uncountable:function(e){var t=on.isArray(e)?e:d(arguments);Pi=Pi.concat(t)},human:function(e,t){Si.unshift({rule:e,replacement:t})},clear:function(e){Jt(e,"singulars")&&(Ti=[]),Jt(e,"plurals")&&(Ci=[]),Jt(e,"uncountables")&&(Pi=[]),Jt(e,"humans")&&(Si=[]),Jt(e,"acronyms")&&(Ai={})}},ki=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],ji.plural(/$/,"s"),ji.plural(/s$/gi,"s"),ji.plural(/(ax|test)is$/gi,"$1es"),ji.plural(/(octop|vir|fung|foc|radi|alumn)(i|us)$/gi,"$1i"),ji.plural(/(census|alias|status)$/gi,"$1es"),ji.plural(/(bu)s$/gi,"$1ses"),ji.plural(/(buffal|tomat)o$/gi,"$1oes"),ji.plural(/([ti])um$/gi,"$1a"),ji.plural(/([ti])a$/gi,"$1a"),ji.plural(/sis$/gi,"ses"),ji.plural(/f+e?$/gi,"ves"),ji.plural(/(cuff|roof)$/gi,"$1s"),ji.plural(/([ht]ive)$/gi,"$1s"),ji.plural(/([^aeiouy]o)$/gi,"$1es"),ji.plural(/([^aeiouy]|qu)y$/gi,"$1ies"),ji.plural(/(x|ch|ss|sh)$/gi,"$1es"),ji.plural(/(matr|vert|ind)(?:ix|ex)$/gi,"$1ices"),ji.plural(/([ml])ouse$/gi,"$1ice"),ji.plural(/([ml])ice$/gi,"$1ice"),ji.plural(/^(ox)$/gi,"$1en"),ji.plural(/^(oxen)$/gi,"$1"),ji.plural(/(quiz)$/gi,"$1zes"),ji.plural(/(phot|cant|hom|zer|pian|portic|pr|quart|kimon)o$/gi,"$1os"),ji.plural(/(craft)$/gi,"$1"),ji.plural(/([ft])[eo]{2}(th?)$/gi,"$1ee$2"),ji.singular(/s$/gi,""),ji.singular(/([pst][aiu]s)$/gi,"$1"),ji.singular(/([aeiouy])ss$/gi,"$1ss"),ji.singular(/(n)ews$/gi,"$1ews"),ji.singular(/([ti])a$/gi,"$1um"),ji.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/gi,"$1$2sis"),ji.singular(/(^analy)ses$/gi,"$1sis"),ji.singular(/(i)(f|ves)$/i,"$1fe"),ji.singular(/([aeolr]f?)(f|ves)$/i,"$1f"),ji.singular(/([ht]ive)s$/gi,"$1"),ji.singular(/([^aeiouy]|qu)ies$/gi,"$1y"),ji.singular(/(s)eries$/gi,"$1eries"),ji.singular(/(m)ovies$/gi,"$1ovie"),ji.singular(/(x|ch|ss|sh)es$/gi,"$1"),ji.singular(/([ml])(ous|ic)e$/gi,"$1ouse"),ji.singular(/(bus)(es)?$/gi,"$1"),ji.singular(/(o)es$/gi,"$1"),ji.singular(/(shoe)s?$/gi,"$1"),ji.singular(/(cris|ax|test)[ie]s$/gi,"$1is"),ji.singular(/(octop|vir|fung|foc|radi|alumn)(i|us)$/gi,"$1us"),ji.singular(/(census|alias|status)(es)?$/gi,"$1"),ji.singular(/^(ox)(en)?/gi,"$1"),ji.singular(/(vert|ind)(ex|ices)$/gi,"$1ex"),ji.singular(/(matr)(ix|ices)$/gi,"$1ix"),ji.singular(/(quiz)(zes)?$/gi,"$1"),ji.singular(/(database)s?$/gi,"$1"),ji.singular(/ee(th?)$/gi,"oo$1"),ji.irregular("person","people"),ji.irregular("man","men"),ji.irregular("child","children"),ji.irregular("sex","sexes"),ji.irregular("move","moves"),ji.irregular("save","saves"),ji.irregular("cow","kine"),ji.irregular("goose","geese"),ji.irregular("zombie","zombies"),ji.uncountable("equipment,information,rice,money,species,series,fish,sheep,jeans".split(",")),s(ln,!0,!0,{pluralize:function(){return Kt(this,!0)},singularize:function(){return Kt(this,!1)},humanize:function(){var e,t=Qt(this,Si);return t=t.replace(/_id$/g,""),t=t.replace(/(_)?([a-z\d]*)/gi,function(t,n,i){return e=v(Ai,i)?Ai[i]:null,(n?" ":"")+(e||i.toLowerCase())}),Zt(t)},titleize:function(){var e,t,n,i=/[.:;!]$/;return this.spacify().humanize().words(function(r,a,s){return e=i.test(r),n=0==a||a==s.length-1||e||t,t=e,n||-1===ki.indexOf(r)?Zt(r):r}).join(" ")},parameterize:function(e){var t=this;return void 0===e&&(e="-"),t.normalize&&(t=t.normalize()),t=t.replace(/[^a-z0-9\-_]+/gi,e),e&&(t=t.replace(new un("^{sep}+|{sep}+$|({sep}){sep}+".assign({sep:R(e)}),"g"),"$1")),encodeURI(t.toLowerCase())}}),ln.Inflector=ji,ln.Inflector.acronyms=Ai;var Ei,Mi=[{names:["Arabic"],source:"؀-ۿ"},{names:["Cyrillic"],source:"Ѐ-ӿ"},{names:["Devanagari"],source:"ऀ-ॿ"},{names:["Greek"],source:"Ͱ-Ͽ"},{names:["Hangul"],source:"가-힯ᄀ-ᇿ"},{names:["Han","Kanji"],source:"一-鿿豈-﫿"},{names:["Hebrew"],source:"֐-׿"},{names:["Hiragana"],source:"぀-ゟ・-ー"},{names:["Kana"],source:"぀-ヿ｡-ﾟ"},{names:["Katakana"],source:"゠-ヿ｡-ﾟ"},{names:["Latin"],source:"--ÿĀ-ſƀ-ɏ"},{names:["Thai"],source:"฀-๿"}],Ni=65248,Oi=[{type:"a",start:65,end:90},{type:"a",start:97,end:122},{type:"n",start:48,end:57},{type:"p",start:33,end:47},{type:"p",start:58,end:64},{type:"p",start:91,end:96},{type:"p",start:123,end:126}],Fi=/[\u0020-\u00A5]|[\uFF61-\uFF9F][ﾞﾟ]?/g,Li=/[\u3000-\u301C]|[\u301A-\u30FC]|[\uFF01-\uFF60]|[\uFFE0-\uFFE6]/g,qi="｡､｢｣¥¢£",Ri="。、「」￥￠￡",Di=/[カキクケコサシスセソタチツテトハヒフヘホ]/,Hi=/[ハヒフヘホヲ]/,$i="ｱｲｳｴｵｧｨｩｪｫｶｷｸｹｺｻｼｽｾｿﾀﾁﾂｯﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔｬﾕｭﾖｮﾗﾘﾙﾚﾛﾜｦﾝｰ･",Bi="アイウエオァィゥェォカキクケコサシスセソタチツッテトナニヌネノハヒフヘホマミムメモヤャユュヨョラリルレロワヲンー・";s(ln,!0,!0,{hankaku:function(){return tn(this,arguments,Li,"hankaku")},zenkaku:function(){return tn(this,arguments,Fi,"zenkaku")},hiragana:function(e){var t=this;return e!==!1&&(t=t.zenkaku("k")),t.replace(/[\u30A1-\u30F6]/g,function(e){return e.shift(-96)})},katakana:function(){return this.replace(/[\u3041-\u3096]/g,function(e){return e.shift(96)})}}),en(),Date.addLocale("da",{plural:!0,months:"januar,februar,marts,april,maj,juni,juli,august,september,oktober,november,december",weekdays:"søndag|sondag,mandag,tirsdag,onsdag,torsdag,fredag,lørdag|lordag",units:"millisekund:|er,sekund:|er,minut:|ter,tim:e|er,dag:|e,ug:e|er|en,måned:|er|en+maaned:|er|en,år:||et+aar:||et",numbers:"en|et,to,tre,fire,fem,seks,syv,otte,ni,ti",tokens:"den,for",articles:"den","short":"d. {d}. {month} {yyyy}","long":"den {d}. {month} {yyyy} {H}:{mm}",full:"{Weekday} den {d}. {month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"forgårs|i forgårs|forgaars|i forgaars",value:-2},{name:"day",src:"i går|igår|i gaar|igaar",value:-1},{name:"day",src:"i dag|idag",value:0},{name:"day",src:"i morgen|imorgen",value:1},{name:"day",src:"over morgon|overmorgen|i over morgen|i overmorgen|iovermorgen",value:2},{name:"sign",src:"siden",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i sidste|sidste",value:-1},{name:"shift",src:"denne",value:0},{name:"shift",src:"næste|naeste",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{1?} {num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{0?} {weekday?} {date?} {month} {year}","{date} {month}","{shift} {weekday}"]}),Date.addLocale("de",{plural:!0,capitalizeUnit:!0,months:"Januar,Februar,März|Marz,April,Mai,Juni,Juli,August,September,Oktober,November,Dezember",weekdays:"Sonntag,Montag,Dienstag,Mittwoch,Donnerstag,Freitag,Samstag",units:"Millisekunde:|n,Sekunde:|n,Minute:|n,Stunde:|n,Tag:|en,Woche:|n,Monat:|en,Jahr:|en",numbers:"ein:|e|er|en|em,zwei,drei,vier,fuenf,sechs,sieben,acht,neun,zehn",tokens:"der","short":"{d}. {Month} {yyyy}","long":"{d}. {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d}. {Month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"um",ampm:"am,pm",modifiers:[{name:"day",src:"vorgestern",value:-2},{name:"day",src:"gestern",value:-1},{name:"day",src:"heute",value:0},{name:"day",src:"morgen",value:1},{name:"day",src:"übermorgen|ubermorgen|uebermorgen",value:2},{name:"sign",src:"vor:|her",value:-1},{name:"sign",src:"in",value:1},{name:"shift",src:"letzte:|r|n|s",value:-1},{name:"shift",src:"nächste:|r|n|s+nachste:|r|n|s+naechste:|r|n|s+kommende:n|r",value:1}],dateParse:["{sign} {num} {unit}","{num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]}),Date.addLocale("es",{plural:!0,months:"enero,febrero,marzo,abril,mayo,junio,julio,agosto,septiembre,octubre,noviembre,diciembre",weekdays:"domingo,lunes,martes,miércoles|miercoles,jueves,viernes,sábado|sabado",units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,día|días|dia|dias,semana:|s,mes:|es,año|años|ano|anos",numbers:"uno,dos,tres,cuatro,cinco,seis,siete,ocho,nueve,diez",tokens:"el,la,de","short":"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"a las",ampm:"am,pm",modifiers:[{name:"day",src:"anteayer",value:-2},{name:"day",src:"ayer",value:-1},{name:"day",src:"hoy",value:0},{name:"day",src:"mañana|manana",value:1},{name:"sign",src:"hace",value:-1},{name:"sign",src:"dentro de",value:1},{name:"shift",src:"pasad:o|a",value:-1},{name:"shift",src:"próximo|próxima|proximo|proxima",value:1}],dateParse:["{sign} {num} {unit}","{num} {unit} {sign}","{0?}{1?} {unit=5-7} {shift}","{0?}{1?} {shift} {unit=5-7}"],timeParse:["{shift} {weekday}","{weekday} {shift}","{date?} {2?} {month} {2?} {year?}"]}),Date.addLocale("fi",{plural:!0,timeMarker:"kello",ampm:",",months:"tammikuu,helmikuu,maaliskuu,huhtikuu,toukokuu,kesäkuu,heinäkuu,elokuu,syyskuu,lokakuu,marraskuu,joulukuu",weekdays:"sunnuntai,maanantai,tiistai,keskiviikko,torstai,perjantai,lauantai",units:"millisekun:ti|tia|teja|tina|nin,sekun:ti|tia|teja|tina|nin,minuut:ti|tia|teja|tina|in,tun:ti|tia|teja|tina|nin,päiv:ä|ää|iä|änä|än,viik:ko|koa|koja|on|kona,kuukau:si|sia|tta|den|tena,vuo:si|sia|tta|den|tena",numbers:"yksi|ensimmäinen,kaksi|toinen,kolm:e|as,neljä:s,vii:si|des,kuu:si|des,seitsemä:n|s,kahdeksa:n|s,yhdeksä:n|s,kymmene:n|s",articles:"",optionals:"","short":"{d}. {month}ta {yyyy}","long":"{d}. {month}ta {yyyy} kello {H}.{mm}",full:"{Weekday}na {d}. {month}ta {yyyy} kello {H}.{mm}",relative:function(e,t,n,i){function r(n){return(1===e?"":e+" ")+a[8*n+t]}var a=this.units;switch(i){case"duration":return r(0);case"past":return r(e>1?1:0)+" sitten";case"future":return r(4)+" päästä"}},modifiers:[{name:"day",src:"toissa päivänä|toissa päiväistä",value:-2},{name:"day",src:"eilen|eilistä",value:-1},{name:"day",src:"tänään",value:0},{name:"day",src:"huomenna|huomista",value:1},{name:"day",src:"ylihuomenna|ylihuomista",value:2},{name:"sign",src:"sitten|aiemmin",value:-1},{name:"sign",src:"päästä|kuluttua|myöhemmin",value:1},{name:"edge",src:"viimeinen|viimeisenä",value:-2},{name:"edge",src:"lopussa",value:-1},{name:"edge",src:"ensimmäinen|ensimmäisenä",value:1},{name:"shift",src:"edellinen|edellisenä|edeltävä|edeltävänä|viime|toissa",value:-1},{name:"shift",src:"tänä|tämän",value:0},{name:"shift",src:"seuraava|seuraavana|tuleva|tulevana|ensi",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{num} {unit=4-5} {sign} {day}","{month} {year}","{shift} {unit=5-7}"],timeParse:["{0} {num}{1} {day} of {month} {year?}","{weekday?} {month} {date}{1} {year?}","{date} {month} {year}","{shift} {weekday}","{shift} week {weekday}","{weekday} {2} {shift} week","{0} {date}{1} of {month}","{0}{month?} {date?}{1} of {shift} {unit=6-7}"]}),Date.addLocale("fr",{plural:!0,months:"janvier,février|fevrier,mars,avril,mai,juin,juillet,août,septembre,octobre,novembre,décembre|decembre",weekdays:"dimanche,lundi,mardi,mercredi,jeudi,vendredi,samedi",units:"milliseconde:|s,seconde:|s,minute:|s,heure:|s,jour:|s,semaine:|s,mois,an:|s|née|nee",numbers:"un:|e,deux,trois,quatre,cinq,six,sept,huit,neuf,dix",tokens:"l'|la|le","short":"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"à",ampm:"am,pm",modifiers:[{name:"day",src:"hier",value:-1},{name:"day",src:"aujourd'hui",value:0},{name:"day",src:"demain",value:1},{name:"sign",src:"il y a",value:-1},{name:"sign",src:"dans|d'ici",value:1},{name:"shift",src:"derni:èr|er|ère|ere",value:-1},{name:"shift",src:"prochain:|e",value:1}],dateParse:["{sign} {num} {unit}","{sign} {num} {unit}","{0?} {unit=5-7} {shift}"],timeParse:["{weekday?} {0?} {date?} {month} {year?}","{0?} {weekday} {shift}"]}),Date.addLocale("it",{plural:!0,months:"Gennaio,Febbraio,Marzo,Aprile,Maggio,Giugno,Luglio,Agosto,Settembre,Ottobre,Novembre,Dicembre",weekdays:"Domenica,Luned:ì|i,Marted:ì|i,Mercoled:ì|i,Gioved:ì|i,Venerd:ì|i,Sabato",units:"millisecond:o|i,second:o|i,minut:o|i,or:a|e,giorn:o|i,settiman:a|e,mes:e|i,ann:o|i",numbers:"un:|a|o|',due,tre,quattro,cinque,sei,sette,otto,nove,dieci",tokens:"l'|la|il","short":"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarker:"alle",ampm:"am,pm",modifiers:[{name:"day",src:"ieri",value:-1},{name:"day",src:"oggi",value:0},{name:"day",src:"domani",value:1},{name:"day",src:"dopodomani",value:2},{name:"sign",src:"fa",value:-1},{name:"sign",src:"da adesso",value:1},{name:"shift",src:"scors:o|a",value:-1},{name:"shift",src:"prossim:o|a",value:1}],dateParse:["{num} {unit} {sign}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]}),Date.addLocale("ja",{monthSuffix:"月",weekdays:"日曜日,月曜日,火曜日,水曜日,木曜日,金曜日,土曜日",units:"ミリ秒,秒,分,時間,日,週間|週,ヶ月|ヵ月|月,年","short":"{yyyy}年{M}月{d}日","long":"{yyyy}年{M}月{d}日 {H}時{mm}分",full:"{yyyy}年{M}月{d}日 {Weekday} {H}時{mm}分{ss}秒",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"時,分,秒",ampm:"午前,午後",modifiers:[{name:"day",src:"一昨日",value:-2},{name:"day",src:"昨日",value:-1},{name:"day",src:"今日",value:0},{name:"day",src:"明日",value:1},{name:"day",src:"明後日",value:2},{name:"sign",src:"前",value:-1},{name:"sign",src:"後",value:1},{name:"shift",src:"去|先",value:-1},{name:"shift",src:"来",value:1}],dateParse:["{num}{unit}{sign}"],timeParse:["{shift}{unit=5-7}{weekday?}","{year}年{month?}月?{date?}日?","{month}月{date?}日?","{date}日"]}),Date.addLocale("ko",{digitDate:!0,monthSuffix:"월",weekdays:"일요일,월요일,화요일,수요일,목요일,금요일,토요일",units:"밀리초,초,분,시간,일,주,개월|달,년",numbers:"일|한,이,삼,사,오,육,칠,팔,구,십","short":"{yyyy}년{M}월{d}일","long":"{yyyy}년{M}월{d}일 {H}시{mm}분",full:"{yyyy}년{M}월{d}일 {Weekday} {H}시{mm}분{ss}초",past:"{num}{unit} {sign}",future:"{num}{unit} {sign}",duration:"{num}{unit}",timeSuffixes:"시,분,초",ampm:"오전,오후",modifiers:[{name:"day",src:"그저께",value:-2},{name:"day",src:"어제",value:-1},{name:"day",src:"오늘",value:0},{name:"day",src:"내일",value:1},{name:"day",src:"모레",value:2},{name:"sign",src:"전",value:-1},{name:"sign",src:"후",value:1},{name:"shift",src:"지난|작",value:-1},{name:"shift",src:"이번",value:0},{name:"shift",src:"다음|내",value:1}],dateParse:["{num}{unit} {sign}","{shift?} {unit=5-7}"],timeParse:["{shift} {unit=5?} {weekday}","{year}년{month?}월?{date?}일?","{month}월{date?}일?","{date}일"]}),Date.addLocale("nl",{plural:!0,months:"januari,februari,maart,april,mei,juni,juli,augustus,september,oktober,november,december",weekdays:"zondag|zo,maandag|ma,dinsdag|di,woensdag|woe|wo,donderdag|do,vrijdag|vrij|vr,zaterdag|za",
units:"milliseconde:|n,seconde:|n,minu:ut|ten,uur,dag:|en,we:ek|ken,maand:|en,jaar",numbers:"een,twee,drie,vier,vijf,zes,zeven,acht,negen",tokens:"","short":"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarker:"'s|om",modifiers:[{name:"day",src:"gisteren",value:-1},{name:"day",src:"vandaag",value:0},{name:"day",src:"morgen",value:1},{name:"day",src:"overmorgen",value:2},{name:"sign",src:"geleden",value:-1},{name:"sign",src:"vanaf nu",value:1},{name:"shift",src:"laatste|vorige|afgelopen",value:-1},{name:"shift",src:"volgend:|e",value:1}],dateParse:["{num} {unit} {sign}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]}),Date.addLocale("pl",{plural:!0,months:"Styczeń|Stycznia,Luty|Lutego,Marzec|Marca,Kwiecień|Kwietnia,Maj|Maja,Czerwiec|Czerwca,Lipiec|Lipca,Sierpień|Sierpnia,Wrzesień|Września,Październik|Października,Listopad|Listopada,Grudzień|Grudnia",weekdays:"Niedziela|Niedzielę,Poniedziałek,Wtorek,Środ:a|ę,Czwartek,Piątek,Sobota|Sobotę",units:"milisekund:a|y|,sekund:a|y|,minut:a|y|,godzin:a|y|,dzień|dni,tydzień|tygodnie|tygodni,miesiące|miesiące|miesięcy,rok|lata|lat",numbers:"jeden|jedną,dwa|dwie,trzy,cztery,pięć,sześć,siedem,osiem,dziewięć,dziesięć",optionals:"w|we,roku","short":"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday}, {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"o",ampm:"am,pm",modifiers:[{name:"day",src:"przedwczoraj",value:-2},{name:"day",src:"wczoraj",value:-1},{name:"day",src:"dzisiaj|dziś",value:0},{name:"day",src:"jutro",value:1},{name:"day",src:"pojutrze",value:2},{name:"sign",src:"temu|przed",value:-1},{name:"sign",src:"za",value:1},{name:"shift",src:"zeszły|zeszła|ostatni|ostatnia",value:-1},{name:"shift",src:"następny|następna|następnego|przyszły|przyszła|przyszłego",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{month} {year}","{shift} {unit=5-7}","{0} {shift?} {weekday}"],timeParse:["{date} {month} {year?} {1}","{0} {shift?} {weekday}"]}),Date.addLocale("pt",{plural:!0,months:"janeiro,fevereiro,março,abril,maio,junho,julho,agosto,setembro,outubro,novembro,dezembro",weekdays:"domingo,segunda-feira,terça-feira,quarta-feira,quinta-feira,sexta-feira,sábado|sabado",units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,dia:|s,semana:|s,mês|mêses|mes|meses,ano:|s",numbers:"um,dois,três|tres,quatro,cinco,seis,sete,oito,nove,dez,uma,duas",tokens:"a,de","short":"{d} de {month} de {yyyy}","long":"{d} de {month} de {yyyy} {H}:{mm}",full:"{Weekday}, {d} de {month} de {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"às",ampm:"am,pm",modifiers:[{name:"day",src:"anteontem",value:-2},{name:"day",src:"ontem",value:-1},{name:"day",src:"hoje",value:0},{name:"day",src:"amanh:ã|a",value:1},{name:"sign",src:"atrás|atras|há|ha",value:-1},{name:"sign",src:"daqui a",value:1},{name:"shift",src:"passad:o|a",value:-1},{name:"shift",src:"próximo|próxima|proximo|proxima",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{date?} {1?} {month} {1?} {year?}","{0?} {shift} {weekday}"]}),Date.addLocale("ru",{months:"Январ:я|ь,Феврал:я|ь,Март:а|,Апрел:я|ь,Ма:я|й,Июн:я|ь,Июл:я|ь,Август:а|,Сентябр:я|ь,Октябр:я|ь,Ноябр:я|ь,Декабр:я|ь",weekdays:"Воскресенье,Понедельник,Вторник,Среда,Четверг,Пятница,Суббота",units:"миллисекунд:а|у|ы|,секунд:а|у|ы|,минут:а|у|ы|,час:||а|ов,день|день|дня|дней,недел:я|ю|и|ь|е,месяц:||а|ев|е,год|год|года|лет|году",numbers:"од:ин|ну,дв:а|е,три,четыре,пять,шесть,семь,восемь,девять,десять",tokens:"в|на,года","short":"{d} {month} {yyyy} года","long":"{d} {month} {yyyy} года {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} года {H}:{mm}:{ss}",relative:function(e,t,n,i){var r,a,s=e.toString().slice(-1);switch(!0){case e>=11&&15>=e:a=3;break;case 1==s:a=1;break;case s>=2&&4>=s:a=2;break;default:a=3}switch(r=e+" "+this.units[8*a+t],i){case"duration":return r;case"past":return r+" назад";case"future":return"через "+r}},timeMarker:"в",ampm:" утра, вечера",modifiers:[{name:"day",src:"позавчера",value:-2},{name:"day",src:"вчера",value:-1},{name:"day",src:"сегодня",value:0},{name:"day",src:"завтра",value:1},{name:"day",src:"послезавтра",value:2},{name:"sign",src:"назад",value:-1},{name:"sign",src:"через",value:1},{name:"shift",src:"прошл:ый|ой|ом",value:-1},{name:"shift",src:"следующ:ий|ей|ем",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{month} {year}","{0?} {shift} {unit=5-7}"],timeParse:["{date} {month} {year?} {1?}","{0?} {shift} {weekday}"]}),Date.addLocale("sv",{plural:!0,months:"januari,februari,mars,april,maj,juni,juli,augusti,september,oktober,november,december",weekdays:"söndag|sondag,måndag:|en+mandag:|en,tisdag,onsdag,torsdag,fredag,lördag|lordag",units:"millisekund:|er,sekund:|er,minut:|er,timm:e|ar,dag:|ar,veck:a|or|an,månad:|er|en+manad:|er|en,år:||et+ar:||et",numbers:"en|ett,två|tva,tre,fyra,fem,sex,sju,åtta|atta,nio,tio",tokens:"den,för|for",articles:"den","short":"den {d} {month} {yyyy}","long":"den {d} {month} {yyyy} {H}:{mm}",full:"{Weekday} den {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"förrgår|i förrgår|iförrgår|forrgar|i forrgar|iforrgar",value:-2},{name:"day",src:"går|i går|igår|gar|i gar|igar",value:-1},{name:"day",src:"dag|i dag|idag",value:0},{name:"day",src:"morgon|i morgon|imorgon",value:1},{name:"day",src:"över morgon|övermorgon|i över morgon|i övermorgon|iövermorgon|over morgon|overmorgon|i over morgon|i overmorgon|iovermorgon",value:2},{name:"sign",src:"sedan|sen",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i förra|förra|i forra|forra",value:-1},{name:"shift",src:"denna",value:0},{name:"shift",src:"nästa|nasta",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{1?} {num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{0?} {weekday?} {date?} {month} {year}","{date} {month}","{shift} {weekday}"]}),Date.addLocale("zh-CN",{variant:!0,monthSuffix:"月",weekdays:"星期日|周日,星期一|周一,星期二|周二,星期三|周三,星期四|周四,星期五|周五,星期六|周六",units:"毫秒,秒钟,分钟,小时,天,个星期|周,个月,年",tokens:"日|号","short":"{yyyy}年{M}月{d}日","long":"{yyyy}年{M}月{d}日 {tt}{h}:{mm}",full:"{yyyy}年{M}月{d}日 {weekday} {tt}{h}:{mm}:{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"点|时,分钟?,秒",ampm:"上午,下午",modifiers:[{name:"day",src:"前天",value:-2},{name:"day",src:"昨天",value:-1},{name:"day",src:"今天",value:0},{name:"day",src:"明天",value:1},{name:"day",src:"后天",value:2},{name:"sign",src:"前",value:-1},{name:"sign",src:"后",value:1},{name:"shift",src:"上|去",value:-1},{name:"shift",src:"这",value:0},{name:"shift",src:"下|明",value:1}],dateParse:["{num}{unit}{sign}","{shift}{unit=5-7}"],timeParse:["{shift}{weekday}","{year}年{month?}月?{date?}{0?}","{month}月{date?}{0?}","{date}[日号]"]}),Date.addLocale("zh-TW",{monthSuffix:"月",weekdays:"星期日|週日,星期一|週一,星期二|週二,星期三|週三,星期四|週四,星期五|週五,星期六|週六",units:"毫秒,秒鐘,分鐘,小時,天,個星期|週,個月,年",tokens:"日|號","short":"{yyyy}年{M}月{d}日","long":"{yyyy}年{M}月{d}日 {tt}{h}:{mm}",full:"{yyyy}年{M}月{d}日 {Weekday} {tt}{h}:{mm}:{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"點|時,分鐘?,秒",ampm:"上午,下午",modifiers:[{name:"day",src:"前天",value:-2},{name:"day",src:"昨天",value:-1},{name:"day",src:"今天",value:0},{name:"day",src:"明天",value:1},{name:"day",src:"後天",value:2},{name:"sign",src:"前",value:-1},{name:"sign",src:"後",value:1},{name:"shift",src:"上|去",value:-1},{name:"shift",src:"這",value:0},{name:"shift",src:"下|明",value:1}],dateParse:["{num}{unit}{sign}","{shift}{unit=5-7}"],timeParse:["{shift}{weekday}","{year}年{month?}月?{date?}{0?}","{month}月{date?}{0?}","{date}[日號]"]})}.call(this),define("sugar",function(){}),define("mtemplate!canjsfm7-plugin/pagebase.mustache",["can/view/mustache"],function(e){var t='<div class="navbar">\n	\n	<div class="navbar-inner">\n		\n	</div>\n</div>\n<div class="pages">\n    <!-- Page, data-page contains page name-->\n    <div data-page="" class="page">\n		\n    </div>\n</div>\n';return can.mustache(t)}),define("mtemplate!canjsfm7-plugin/pagenavbar.mustache",["can/view/mustache"],function(e){var t='{{#if showBackLink}}\n	<div class="left sliding" style="">\n		<a href="#" class="back link">\n			<span>Back</span></a>\n	</div>\n{{/if}}\n\n<div class="center sliding" style="">{{title}}</div>\n\n<div class="right">\n	<a href="#" class="open-login link icon-only"></a>\n</div>';return can.mustache(t)}),define("mtemplate!canjsfm7-plugin/popupnavbar.mustache",["can/view/mustache"],function(e){var t='\n\n<div class="center sliding" style="">{{title}}</div>\n\n<div class="right">\n	<a href="#" class="link close-popup">Close</a>\n</div>';return can.mustache(t)}),define("canjsfm7-plugin/plugin",["framework7","jquery","mtemplate!canjsfm7-plugin/pagebase.mustache","mtemplate!canjsfm7-plugin/pagenavbar.mustache","mtemplate!canjsfm7-plugin/popupnavbar.mustache"],function(e,t,n,i,r){Framework7.prototype.plugins.canjsPlugin=function(e,a){var s={};return e.openPage=function(e,i){var r={animatePages:!0,showBackLink:!0};i=can.extend(r,i),i.options.showBackLink=i.showBackLink,e.pageConfig=i,e.url="",i.content=n.render(),i.element=t('<div class="page-content"></div>');var a=new i.pageController(i.element,i.options);return a._preRenderPhase().done(function(){e.router.load(i)})},s.pageBeforeInit=function(e){var n=t(e.container),r=e.view.pageConfig;n.append(r.element);var s=n.find(".page-content").control(),o=t(e.navbarInnerContainer);if(s.navbar=o,s.renderNavbar)s.renderNavbar(o);else{var u=r.navbarTemplate||a.navbarTemplate||i;o.html(u(s.options))}s._postRenderPhase(),e.view.pageConfig=null},s.pageBeforeRemove=function(e){var n=t(e.container).find(".page-content"),i=n.control();i.destroy()},e.openPopup=function(t,n){var i=this,s={animatePages:!1,showBackLink:!1,navbarTemplate:a.popupNavbarTemplate||r};n=can.extend(s,n),e.openPage(t,n).done(function(){i.popup(".popup")})},t(".popup").on("closed",function(){t(".popup .navbar").html(""),t(".popup .pages").html("")}),{hooks:s}}}),define("mtemplate!app/pages/storypage/storypage.mustache",["can/view/mustache"],function(e){var t='<div>\n\n<div class="content-block">\n	<h1>{{story.title}}</h1>\n	<div class="description">{{story.description}}</div>\n</div>\n\n\n\n		<div id="jp-container" class="jp-audio" state="{{story.state}}">\n			<div class="jp-type-single">\n				<div class="jp-gui jp-interface">\n					<div class="jp-controls" >\n						<a href="javascript:;" class="jp-play jp-mainbutton" tabindex="1"><span class="ss-icon ss-standard">&#x25B6;</span></a>\n						<a href="javascript:;" class="jp-pause jp-mainbutton" tabindex="1"><span class="ss-icon ss-standard">&#xE8A0;</span></a>\n					</div>\n				</div>\n				\n				\n				\n			</div>\n			\n			{{#if story.progress}}\n			\n			<div class="content-block">\n				<div class="input-slider">\n					<input type="range" min="0" max="100" step="1" can-value="story.progressPercent">\n				</div>	\n			</div>\n			{{/if}}\n			\n		</div>\n\n\n\n\n</div>';return can.mustache(t)}),define("basecontroller",["can","canjs-commons/functions","jquery","can/construct/super"],function(e,t,n){return e.Control.extend({},{init:function(e,t){},render:function(){var e=this;return this._preRenderPhase().done(function(){e._postRenderPhase()})},_preRenderPhase:function(){var i=this,r=(i.element,n.Deferred()),a=i.getData(i.options)||{};return n.when(t.dfdMap(a)).done(function(t){return i.element?(e.extend(i.options,t),i.options=new e.Map(i.options),void n.when(i.preRender(i.options)).done(function(){r.resolve()})):void r.fail()}).fail(function(){r.fail()}),r.promise()},_postRenderPhase:function(){var e=this,t=this.element;t.html(e.template(e.options)),e.postRender(e.options),t.addClass("controller"),t.trigger("rendered")},reRender:function(){return this.render()},getData:function(){return{}},preRender:function(e){},postRender:function(e){},destroy:function(){this.element&&this.element.removeClass("controller"),this._super()}})}),function(e,t){"function"==typeof define&&define.amd?define("jplayer",["jquery"],t):t(e.jQuery?e.jQuery:e.Zepto)}(this,function(e,t){e.fn.jPlayer=function(n){var i="jPlayer",r="string"==typeof n,a=Array.prototype.slice.call(arguments,1),s=this;return n=!r&&a.length?e.extend.apply(null,[!0,n].concat(a)):n,r&&"_"===n.charAt(0)?s:(r?this.each(function(){var r=e(this).data(i),o=r&&e.isFunction(r[n])?r[n].apply(r,a):r;return o!==r&&o!==t?(s=o,!1):void 0}):this.each(function(){var t=e(this).data(i);t?t.option(n||{}):e(this).data(i,new e.jPlayer(n,this))}),s)},e.jPlayer=function(t,n){if(arguments.length){this.element=e(n),this.options=e.extend(!0,{},this.options,t);var i=this;this.element.bind("remove.jPlayer",function(){i.destroy()}),this._init()}},"function"!=typeof e.fn.stop&&(e.fn.stop=function(){}),e.jPlayer.emulateMethods="load play pause",e.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",e.jPlayer.emulateOptions="muted volume",e.jPlayer.reservedEvent="ready flashreset resize repeat error warning",e.jPlayer.event={},e.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){e.jPlayer.event[this]="jPlayer_"+this}),e.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough"],e.jPlayer.pause=function(){e.each(e.jPlayer.prototype.instances,function(e,t){t.data("jPlayer").status.srcSet&&t.jPlayer("pause")})},e.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var n=function(){this.init()};n.prototype={init:function(){this.options={timeFormat:e.jPlayer.timeFormat}},time:function(e){e=e&&"number"==typeof e?e:0;var t=new Date(1e3*e),n=t.getUTCHours(),i=this.options.timeFormat.showHour?t.getUTCMinutes():t.getUTCMinutes()+60*n,r=this.options.timeFormat.showMin?t.getUTCSeconds():t.getUTCSeconds()+60*i,a=this.options.timeFormat.padHour&&10>n?"0"+n:n,s=this.options.timeFormat.padMin&&10>i?"0"+i:i,o=this.options.timeFormat.padSec&&10>r?"0"+r:r,u="";return u+=this.options.timeFormat.showHour?a+this.options.timeFormat.sepHour:"",u+=this.options.timeFormat.showMin?s+this.options.timeFormat.sepMin:"",u+=this.options.timeFormat.showSec?o+this.options.timeFormat.sepSec:""}};var i=new n;e.jPlayer.convertTime=function(e){return i.time(e)},e.jPlayer.uaBrowser=function(e){var t=e.toLowerCase(),n=/(webkit)[ \/]([\w.]+)/,i=/(opera)(?:.*version)?[ \/]([\w.]+)/,r=/(msie) ([\w.]+)/,a=/(mozilla)(?:.*? rv:([\w.]+))?/,s=n.exec(t)||i.exec(t)||r.exec(t)||t.indexOf("compatible")<0&&a.exec(t)||[];return{browser:s[1]||"",version:s[2]||"0"}},e.jPlayer.uaPlatform=function(e){var t=e.toLowerCase(),n=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,i=/(ipad|playbook)/,r=/(android)/,a=/(mobile)/,s=n.exec(t)||[],o=i.exec(t)||!a.exec(t)&&r.exec(t)||[];return s[1]&&(s[1]=s[1].replace(/\s/g,"_")),{platform:s[1]||"",tablet:o[1]||""}},e.jPlayer.browser={},e.jPlayer.platform={};var r=e.jPlayer.uaBrowser(navigator.userAgent);r.browser&&(e.jPlayer.browser[r.browser]=!0,e.jPlayer.browser.version=r.version);var a=e.jPlayer.uaPlatform(navigator.userAgent);a.platform&&(e.jPlayer.platform[a.platform]=!0,e.jPlayer.platform.mobile=!a.tablet,e.jPlayer.platform.tablet=!!a.tablet),e.jPlayer.getDocMode=function(){var t;return e.jPlayer.browser.msie&&(document.documentMode?t=document.documentMode:(t=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(t=7))),t},e.jPlayer.browser.documentMode=e.jPlayer.getDocMode(),e.jPlayer.nativeFeatures={init:function(){var e,t,n,i=document,r=i.createElement("video"),a={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""]},s=["w3c","moz","webkit","webkitVideo"];for(this.fullscreen=e={support:{w3c:!!i[a.w3c[0]],moz:!!i[a.moz[0]],webkit:"function"==typeof i[a.webkit[3]],webkitVideo:"function"==typeof r[a.webkitVideo[2]]},used:{}},t=0,n=s.length;n>t;t++){var o=s[t];if(e.support[o]){e.spec=o,e.used[o]=!0;break}}if(e.spec){var u=a[e.spec];e.api={fullscreenEnabled:!0,fullscreenElement:function(e){return e=e?e:i,e[u[1]]},requestFullscreen:function(e){return e[u[2]]()},exitFullscreen:function(e){return e=e?e:i,e[u[3]]()}},e.event={fullscreenchange:u[4],fullscreenerror:u[5]}}else e.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},e.event={}}},e.jPlayer.nativeFeatures.init(),e.jPlayer.focus=null,e.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var s=function(t){var n,i=e.jPlayer.focus,r=document.activeElement;i&&("undefined"!=typeof r?null!==r&&"BODY"!==r.nodeName.toUpperCase()&&(n=!0):e.each(e.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(e,i){return t.target.nodeName.toUpperCase()===i.toUpperCase()?(n=!0,!1):void 0}),n||e.each(i.options.keyBindings,function(n,r){return r&&t.which===r.key&&e.isFunction(r.fn)?(t.preventDefault(),r.fn(i),!1):void 0}))};e.jPlayer.keys=function(t){var n="keydown.jPlayer";e(document.documentElement).unbind(n),t&&e(document.documentElement).bind(n,s)},e.jPlayer.keys(!0),e.jPlayer.prototype={count:0,version:{script:"2.7.0",needFlash:"2.7.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(t){t.jPlayer.options.loop?e(this).unbind(".jPlayerRepeat").bind(e.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){e(this).jPlayer("play")}):e(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:32,fn:function(e){e.status.paused?e.play():e.pause()}},fullScreen:{key:13,fn:function(e){(e.status.video||e.options.audioFullScreen)&&e._setOption("fullScreen",!e.options.fullScreen)}},muted:{key:8,fn:function(e){e._muted(!e.options.muted)}},volumeUp:{key:38,fn:function(e){e.volume(e.options.volume+.1)}},volumeDown:{key:40,fn:function(e){e.volume(e.options.volume-.1)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var n=this;if(this.element.empty(),this.status=e.extend({},this.status),this.internal=e.extend({},this.internal),this.options.timeFormat=e.extend({},e.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=e.jPlayer.platform.ipad||e.jPlayer.platform.iphone||e.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!e.jPlayer.focus&&(e.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},e.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),e.each(this.options.supplied.toLowerCase().split(","),function(t,i){var r=i.replace(/^\s+|\s+$/g,"");if(n.format[r]){var a=!1;e.each(n.formats,function(e,t){return r===t?(a=!0,!1):void 0}),a||n.formats.push(r)}}),e.each(this.options.solution.toLowerCase().split(","),function(t,i){var r=i.replace(/^\s+|\s+$/g,"");if(n.solution[r]){var a=!1;e.each(n.solutions,function(e,t){return r===t?(a=!0,!1):void 0}),a||n.solutions.push(r)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=e.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=e.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:t}),this.internal.video=e.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:t}),this.internal.flash=e.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:t,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"Jplayer.swf":"")}),this.internal.poster=e.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:t}),e.each(e.jPlayer.event,function(e,i){n.options[e]!==t&&(n.element.bind(i+".jPlayer",n.options[e]),n.options[e]=t)}),this.require.audio=!1,this.require.video=!1,e.each(this.formats,function(e,t){n.require[n.format[t].media]=!0}),this.require.video?this.options=e.extend(!0,{},this.optionsVideo,this.options):this.options=e.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),e.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!n.status.video||n.status.waitForPlay)&&n.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=e("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){n._trigger(e.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.flash.canPlay={},e.each(this.formats,function(e,t){n.html.canPlay[t]=n.html[n.format[t].media].available&&""!==n.htmlElement[n.format[t].media].canPlayType(n.format[t].codec),n.flash.canPlay[t]=n.format[t].flashCanPlay&&n.flash.available}),this.html.desired=!1,this.flash.desired=!1,e.each(this.solutions,function(t,i){if(0===t)n[i].desired=!0;else{var r=!1,a=!1;e.each(n.formats,function(e,t){n[n.solutions[0]].canPlay[t]&&("video"===n.format[t].media?a=!0:r=!0)}),n[i].desired=n.require.audio&&!r||n.require.video&&!a}}),this.html.support={},this.flash.support={},e.each(this.formats,function(e,t){n.html.support[t]=n.html.canPlay[t]&&n.html.desired,n.flash.support[t]=n.flash.canPlay[t]&&n.flash.desired}),this.html.used=!1,this.flash.used=!1,e.each(this.solutions,function(t,i){e.each(n.formats,function(e,t){return n[i].support[t]?(n[i].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:e.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SOLUTION,hint:e.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var i,r="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(e.jPlayer.browser.msie&&(Number(e.jPlayer.browser.version)<9||e.jPlayer.browser.documentMode<9)){var a='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',s=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+r+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];i=document.createElement(a);for(var o=0;o<s.length;o++)i.appendChild(document.createElement(s[o]))}else{var u=function(e,t,n){var i=document.createElement("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)};i=document.createElement("object"),i.setAttribute("id",this.internal.flash.id),i.setAttribute("name",this.internal.flash.id),i.setAttribute("data",this.internal.flash.swf),i.setAttribute("type","application/x-shockwave-flash"),i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("tabindex","-1"),u(i,"flashvars",r),u(i,"allowscriptaccess","always"),u(i,"bgcolor",this.options.backgroundColor),u(i,"wmode",this.options.wmode)}this.element.append(i),this.internal.flash.jq=e(i)}this.html.used&&!this.flash.used?this.status.playbackRateEnabled=this._testPlaybackRate("audio"):this.status.playbackRateEnabled=!1,this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=e("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=e("#"+this.internal.video.id),this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){n._trigger(e.jPlayer.event.click)}))),this.options.emulateHtml&&this._emulateHtmlBridge(),this.html.used&&!this.flash.used&&setTimeout(function(){n.internal.ready=!0,n.version.flash="n/a",n._trigger(e.jPlayer.event.repeat),n._trigger(e.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),e.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),e.each(this.css.jq,function(e,t){t.length&&t.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===e.jPlayer.focus&&(e.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},enable:function(){},disable:function(){},_testCanPlayType:function(e){try{return e.canPlayType(this.format.mp3.codec),!0}catch(t){return!1}},_testPlaybackRate:function(e){var t,n=.5;e="string"==typeof e?e:"audio",t=document.createElement(e);try{return"playbackRate"in t?(t.playbackRate=n,t.playbackRate===n):!1}catch(i){return!1}},_uaBlocklist:function(t){var n=navigator.userAgent.toLowerCase(),i=!1;return e.each(t,function(e,t){return t&&t.test(n)?(i=!0,!1):void 0}),i},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",
height:"0px"})))},_addHtmlEventListeners:function(t,n){var i=this;t.preload=this.options.preload,t.muted=this.options.muted,t.volume=this.options.volume,this.status.playbackRateEnabled&&(t.defaultPlaybackRate=this.options.defaultPlaybackRate,t.playbackRate=this.options.playbackRate),t.addEventListener("progress",function(){n.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i.androidFix.setMedia=!1,i.androidFix.play&&(i.androidFix.play=!1,i.play(i.androidFix.time)),i.androidFix.pause&&(i.androidFix.pause=!1,i.pause(i.androidFix.time)),i._getHtmlStatus(t),i._updateInterface(),i._trigger(e.jPlayer.event.progress))},!1),t.addEventListener("timeupdate",function(){n.gate&&(i._getHtmlStatus(t),i._updateInterface(),i._trigger(e.jPlayer.event.timeupdate))},!1),t.addEventListener("durationchange",function(){n.gate&&(i._getHtmlStatus(t),i._updateInterface(),i._trigger(e.jPlayer.event.durationchange))},!1),t.addEventListener("play",function(){n.gate&&(i._updateButtons(!0),i._html_checkWaitForPlay(),i._trigger(e.jPlayer.event.play))},!1),t.addEventListener("playing",function(){n.gate&&(i._updateButtons(!0),i._seeked(),i._trigger(e.jPlayer.event.playing))},!1),t.addEventListener("pause",function(){n.gate&&(i._updateButtons(!1),i._trigger(e.jPlayer.event.pause))},!1),t.addEventListener("waiting",function(){n.gate&&(i._seeking(),i._trigger(e.jPlayer.event.waiting))},!1),t.addEventListener("seeking",function(){n.gate&&(i._seeking(),i._trigger(e.jPlayer.event.seeking))},!1),t.addEventListener("seeked",function(){n.gate&&(i._seeked(),i._trigger(e.jPlayer.event.seeked))},!1),t.addEventListener("volumechange",function(){n.gate&&(i.options.volume=t.volume,i.options.muted=t.muted,i._updateMute(),i._updateVolume(),i._trigger(e.jPlayer.event.volumechange))},!1),t.addEventListener("ratechange",function(){n.gate&&(i.options.defaultPlaybackRate=t.defaultPlaybackRate,i.options.playbackRate=t.playbackRate,i._updatePlaybackRate(),i._trigger(e.jPlayer.event.ratechange))},!1),t.addEventListener("suspend",function(){n.gate&&(i._seeked(),i._trigger(e.jPlayer.event.suspend))},!1),t.addEventListener("ended",function(){n.gate&&(e.jPlayer.browser.webkit||(i.htmlElement.media.currentTime=0),i.htmlElement.media.pause(),i._updateButtons(!1),i._getHtmlStatus(t,!0),i._updateInterface(),i._trigger(e.jPlayer.event.ended))},!1),t.addEventListener("error",function(){n.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(clearTimeout(i.internal.htmlDlyCmdId),i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:e.jPlayer.error.URL,context:i.status.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL})))},!1),e.each(e.jPlayer.htmlEvent,function(r,a){t.addEventListener(this,function(){n.gate&&i._trigger(e.jPlayer.event[a])},!1)})},_getHtmlStatus:function(e,t){var n=0,i=0,r=0,a=0;isFinite(e.duration)&&(this.status.duration=e.duration),n=e.currentTime,i=this.status.duration>0?100*n/this.status.duration:0,"object"==typeof e.seekable&&e.seekable.length>0?(r=this.status.duration>0?100*e.seekable.end(e.seekable.length-1)/this.status.duration:100,a=this.status.duration>0?100*e.currentTime/e.seekable.end(e.seekable.length-1):0):(r=100,a=i),t&&(n=0,a=0,i=0),this.status.seekPercent=r,this.status.currentPercentRelative=a,this.status.currentPercentAbsolute=i,this.status.currentTime=n,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=e.videoWidth,this.status.videoHeight=e.videoHeight,this.status.readyState=e.readyState,this.status.networkState=e.networkState,this.status.playbackRate=e.playbackRate,this.status.ended=e.ended},_resetStatus:function(){this.status=e.extend({},this.status,e.jPlayer.prototype.status)},_trigger:function(t,n,i){var r=e.Event(t);r.jPlayer={},r.jPlayer.version=e.extend({},this.version),r.jPlayer.options=e.extend(!0,{},this.options),r.jPlayer.status=e.extend(!0,{},this.status),r.jPlayer.html=e.extend(!0,{},this.html),r.jPlayer.flash=e.extend(!0,{},this.flash),n&&(r.jPlayer.error=e.extend({},n)),i&&(r.jPlayer.warning=e.extend({},i)),this.element.trigger(r)},jPlayerFlashEvent:function(t,n){if(t===e.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var i=this.status.currentTime,r=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),i>0&&(r?this.pause(i):this.play(i))}this._trigger(e.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=n.version,this.version.needFlash!==this.version.flash&&this._error({type:e.jPlayer.error.VERSION,context:this.version.flash,message:e.jPlayer.errorMsg.VERSION+this.version.flash,hint:e.jPlayer.errorHint.VERSION}),this._trigger(e.jPlayer.event.repeat),this._trigger(t);if(this.flash.gate)switch(t){case e.jPlayer.event.progress:this._getFlashStatus(n),this._updateInterface(),this._trigger(t);break;case e.jPlayer.event.timeupdate:this._getFlashStatus(n),this._updateInterface(),this._trigger(t);break;case e.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(t);break;case e.jPlayer.event.pause:this._updateButtons(!1),this._trigger(t);break;case e.jPlayer.event.ended:this._updateButtons(!1),this._trigger(t);break;case e.jPlayer.event.click:this._trigger(t);break;case e.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:e.jPlayer.error.URL,context:n.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL});break;case e.jPlayer.event.seeking:this._seeking(),this._trigger(t);break;case e.jPlayer.event.seeked:this._seeked(),this._trigger(t);break;case e.jPlayer.event.ready:break;default:this._trigger(t)}return!1},_getFlashStatus:function(e){this.status.seekPercent=e.seekPercent,this.status.currentPercentRelative=e.currentPercentRelative,this.status.currentPercentAbsolute=e.currentPercentAbsolute,this.status.currentTime=e.currentTime,this.status.duration=e.duration,this.status.remaining=e.duration-e.currentTime,this.status.videoWidth=e.videoWidth,this.status.videoHeight=e.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(e){e===t?e=!this.status.paused:this.status.paused=!e,e?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(e?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));var e="";this.css.jq.currentTime.length&&(e=this._convertTime(this.status.currentTime),e!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var t="",n=this.status.duration,i=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?t=this.status.media.duration:("number"==typeof this.status.media.duration&&(n=this.status.media.duration,i=n-this.status.currentTime),t=this.options.remainingDuration?(i>0?"-":"")+this._convertTime(i):this._convertTime(n)),t!==this.css.jq.duration.text()&&this.css.jq.duration.text(t))},_convertTime:n.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.flash.active=!1},_escapeHtml:function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this._escapeHtml(e)+'">x</a>',t.firstChild.href},_absoluteMediaUrls:function(t){var n=this;return e.each(t,function(e,i){i&&n.format[e]&&(t[e]=n._qualifyURL(i))}),t},addStateClass:function(e){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[e])},removeStateClass:function(e){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[e])},setMedia:function(t){var n=this,i=!1,r=this.status.media.poster!==t.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,t=this._absoluteMediaUrls(t),e.each(this.formats,function(r,a){var s="video"===n.format[a].media;return e.each(n.solutions,function(r,o){if(n[o].support[a]&&n._validString(t[a])){var u="html"===o;return s?(u?(n.html.video.gate=!0,n._html_setVideo(t),n.html.active=!0):(n.flash.gate=!0,n._flash_setVideo(t),n.flash.active=!0),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n.status.video=!0):(u?(n.html.audio.gate=!0,n._html_setAudio(t),n.html.active=!0,e.jPlayer.platform.android&&(n.androidFix.setMedia=!0)):(n.flash.gate=!0,n._flash_setAudio(t),n.flash.active=!0),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.hide(),n.status.video=!1),i=!0,!1}}),i?!1:void 0}),i?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(t.poster)&&(r?this.htmlElement.poster.src=t.poster:this.internal.poster.jq.show()),this.css.jq.title.length&&"string"==typeof t.title&&(this.css.jq.title.html(t.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",t.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",t.title)),this.status.srcSet=!0,this.status.media=e.extend({},t),this._updateButtons(!1),this._updateInterface(),this._trigger(e.jPlayer.event.setmedia)):this._error({type:e.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SUPPORT,hint:e.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(e.jPlayer.focus=this)},play:function(e){var t="object"==typeof e;t&&this.options.useStateClassSkin&&!this.status.paused?this.pause(e):(e="number"==typeof e?e:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(e):this.flash.active&&this._flash_play(e)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(e){e="number"==typeof e?e:NaN,this.status.srcSet?this.html.active?this._html_pause(e):this.flash.active&&this._flash_pause(e):this._urlNotSetError("pause")},tellOthers:function(t,n){var i=this,r="function"==typeof n,a=Array.prototype.slice.call(arguments);"string"==typeof t&&(r&&a.splice(1,1),e.each(this.instances,function(){i.element!==this&&(!r||n.call(this.data("jPlayer"),i))&&this.jPlayer.apply(this,a)}))},pauseOthers:function(e){this.tellOthers("pause",function(){return this.status.srcSet},e)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(e){e=this._limitValue(e,0,100),this.status.srcSet?this.html.active?this._html_playHead(e):this.flash.active&&this._flash_playHead(e):this._urlNotSetError("playHead")},_muted:function(e){this.mutedWorker(e),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},e)},mutedWorker:function(t){this.options.muted=t,this.html.used&&this._html_setProperty("muted",t),this.flash.used&&this._flash_mute(t),this.html.video.gate||this.html.audio.gate||(this._updateMute(t),this._updateVolume(this.options.volume),this._trigger(e.jPlayer.event.volumechange))},mute:function(e){var n="object"==typeof e;n&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(e=e===t?!0:!!e,this._muted(e))},unmute:function(e){e=e===t?!0:!!e,this._muted(!e)},_updateMute:function(e){e===t&&(e=this.options.muted),e?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):e?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(e){this.volumeWorker(e),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},e)},volumeWorker:function(t){t=this._limitValue(t,0,1),this.options.volume=t,this.html.used&&this._html_setProperty("volume",t),this.flash.used&&this._flash_volume(t),this.html.video.gate||this.html.audio.gate||(this._updateVolume(t),this._trigger(e.jPlayer.event.volumechange))},volumeBar:function(t){if(this.css.jq.volumeBar.length){var n=e(t.currentTarget),i=n.offset(),r=t.pageX-i.left,a=n.width(),s=n.height()-t.pageY+i.top,o=n.height();this.options.verticalVolume?this.volume(s/o):this.volume(r/a)}this.options.muted&&this._muted(!1)},_updateVolume:function(e){e===t&&(e=this.options.volume),e=this.options.muted?0:e,this.status.noVolume?(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*e+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(t){var n=this;this.options.cssSelectorAncestor=t,this._removeUiClass(),this.ancestorJq=t?e(t):[],t&&1!==this.ancestorJq.length&&this._warning({type:e.jPlayer.warning.CSS_SELECTOR_COUNT,context:t,message:e.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:e.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),e.each(this.options.cssSelector,function(e,t){n._cssSelector(e,t)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(t,n){var i=this;if("string"==typeof n)if(e.jPlayer.prototype.options.cssSelector[t]){if(this.css.jq[t]&&this.css.jq[t].length&&this.css.jq[t].unbind(".jPlayer"),this.options.cssSelector[t]=n,this.css.cs[t]=this.options.cssSelectorAncestor+" "+n,n?this.css.jq[t]=e(this.css.cs[t]):this.css.jq[t]=[],this.css.jq[t].length&&this[t]){var r=function(n){n.preventDefault(),i[t](n),i.options.autoBlur&&e(this).blur()};this.css.jq[t].bind("click.jPlayer",r)}n&&1!==this.css.jq[t].length&&this._warning({type:e.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[t],message:e.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[t].length+" found for "+t+" method.",hint:e.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:e.jPlayer.warning.CSS_SELECTOR_METHOD,context:t,message:e.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:e.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:e.jPlayer.warning.CSS_SELECTOR_STRING,context:n,message:e.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:e.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(e){this.options.toggleDuration&&(this.options.captureDuration&&e.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(t){if(this.css.jq.seekBar.length){var n=e(t.currentTarget),i=n.offset(),r=t.pageX-i.left,a=n.width(),s=100*r/a;this.playHead(s)}},playbackRate:function(e){this._setOption("playbackRate",e)},playbackRateBar:function(t){if(this.css.jq.playbackRateBar.length){var n,i,r=e(t.currentTarget),a=r.offset(),s=t.pageX-a.left,o=r.width(),u=r.height()-t.pageY+a.top,c=r.height();n=this.options.verticalPlaybackRate?u/c:s/o,i=n*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(i)}},_updatePlaybackRate:function(){var e=this.options.playbackRate,t=(e-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*t+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(e){var t="object"==typeof e;t&&this.options.useStateClassSkin&&this.options.loop?this._loop(!1):this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(t){this.options.loop!==t&&(this.options.loop=t,this._updateButtons(),this._trigger(e.jPlayer.event.repeat))},option:function(n,i){var r=n;if(0===arguments.length)return e.extend(!0,{},this.options);if("string"==typeof n){var a=n.split(".");if(i===t){for(var s=e.extend(!0,{},this.options),o=0;o<a.length;o++){if(s[a[o]]===t)return this._warning({type:e.jPlayer.warning.OPTION_KEY,context:n,message:e.jPlayer.warningMsg.OPTION_KEY,hint:e.jPlayer.warningHint.OPTION_KEY}),t;s=s[a[o]]}return s}r={};for(var u=r,c=0;c<a.length;c++)c<a.length-1?(u[a[c]]={},u=u[a[c]]):u[a[c]]=i}return this._setOptions(r),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(t,n){var i=this;switch(t){case"volume":this.volume(n);break;case"muted":this._muted(n);break;case"globalVolume":this.options[t]=n;break;case"cssSelectorAncestor":this._cssSelectorAncestor(n);break;case"cssSelector":e.each(n,function(e,t){i._cssSelector(e,t)});break;case"playbackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",n),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",n),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[t]=n=this._limitValue(n,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[t]=n=this._limitValue(n,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[t]!==n){var r=e.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!r||r&&!this.status.waitForPlay)&&(r||(this.options[t]=n),n?this._requestFullscreen():this._exitFullscreen(),r||this._setOption("fullWindow",n))}break;case"fullWindow":this.options[t]!==n&&(this._removeUiClass(),this.options[t]=n,this._refreshSize());break;case"size":this.options.fullWindow||this.options[t].cssClass===n.cssClass||this._removeUiClass(),this.options[t]=e.extend({},this.options[t],n),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[t].cssClass!==n.cssClass&&this._removeUiClass(),this.options[t]=e.extend({},this.options[t],n),this._refreshSize();break;case"autohide":this.options[t]=e.extend({},this.options[t],n),this._updateAutohide();break;case"loop":this._loop(n);break;case"remainingDuration":this.options[t]=n,this._updateInterface();break;case"toggleDuration":this.options[t]=n;break;case"nativeVideoControls":this.options[t]=e.extend({},this.options[t],n),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[t]=e.extend({},this.options[t],n),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[t]=e.extend({},this.options[t],n),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[t]!==n&&(this.options[t]=n,n?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[t]=e.extend({},this.options[t],n);break;case"keyEnabled":this.options[t]=n,n||this!==e.jPlayer.focus||(e.jPlayer.focus=null);break;case"keyBindings":this.options[t]=e.extend(!0,{},this.options[t],n);break;case"audioFullScreen":this.options[t]=n;break;case"autoBlur":this.options[t]=n}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(e.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var e=this,t="mousemove.jPlayer",n=".jPlayerAutohide",i=t+n,r=function(){e.css.jq.gui.fadeIn(e.options.autohide.fadeIn,function(){clearTimeout(e.internal.autohideId),e.internal.autohideId=setTimeout(function(){e.css.jq.gui.fadeOut(e.options.autohide.fadeOut)},e.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),this.element.unbind(n),this.css.jq.gui.unbind(n),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(i,r),this.css.jq.gui.bind(i,r),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(e){var t="object"==typeof e;t&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var t=this,n=e.jPlayer.nativeFeatures.fullscreen;n.api.fullscreenEnabled&&n.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){t._fullscreenchange()}),document.addEventListener(n.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var t=e.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(t.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!e.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var t=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],n=e.jPlayer.nativeFeatures.fullscreen;n.used.webkitVideo&&(t=this.htmlElement.video),n.api.fullscreenEnabled&&n.api.requestFullscreen(t)},_exitFullscreen:function(){var t,n=e.jPlayer.nativeFeatures.fullscreen;n.used.webkitVideo&&(t=this.htmlElement.video),n.api.fullscreenEnabled&&n.api.exitFullscreen(t)},_html_initMedia:function(t){var n=e(this.htmlElement.media).empty();e.each(t.track||[],function(e,t){var i=document.createElement("track");i.setAttribute("kind",t.kind?t.kind:""),i.setAttribute("src",t.src?t.src:""),i.setAttribute("srclang",t.srclang?t.srclang:""),i.setAttribute("label",t.label?t.label:""),t.def&&i.setAttribute("default",t.def),n.append(i)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(e.jPlayer.event.timeupdate)},_html_setFormat:function(t){var n=this;e.each(this.formats,function(e,i){return n.html.support[i]&&t[i]?(n.status.src=t[i],n.status.format[i]=!0,n.status.formatType=i,!1):void 0})},_html_setAudio:function(e){this._html_setFormat(e),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(e)},_html_setVideo:function(e){this._html_setFormat(e),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(e.poster)?e.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(e)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(e){var t=this,n=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=e;else if(isNaN(e))n.play();else{this.internal.cmdsIgnored&&n.play();try{if(n.seekable&&!("object"==typeof n.seekable&&n.seekable.length>0))throw 1;n.currentTime=e,n.play()}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){t.play(e)},250))}}this._html_checkWaitForPlay()},_html_pause:function(e){var t=this,n=this.htmlElement.media;if(this.androidFix.play=!1,e>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),n.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=e;else if(!isNaN(e))try{if(n.seekable&&!("object"==typeof n.seekable&&n.seekable.length>0))throw 1;n.currentTime=e}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){t.pause(e)},250))}e>0&&this._html_checkWaitForPlay()},_html_playHead:function(e){var t=this,n=this.htmlElement.media;this._html_load();try{if("object"==typeof n.seekable&&n.seekable.length>0)n.currentTime=e*n.seekable.end(n.seekable.length-1)/100;else{if(!(n.duration>0)||isNaN(n.duration))throw"e";n.currentTime=e*n.duration/100}}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){t.playHead(e)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(e,t){this.html.audio.available&&(this.htmlElement.audio[e]=t),this.html.video.available&&(this.htmlElement.video[e]=t)},_flash_setAudio:function(t){var n=this;try{e.each(this.formats,function(e,i){if(n.flash.support[i]&&t[i]){switch(i){case"m4a":case"fla":n._getMovie().fl_setAudio_m4a(t[i]);break;case"mp3":n._getMovie().fl_setAudio_mp3(t[i]);break;case"rtmpa":n._getMovie().fl_setAudio_rtmp(t[i])}return n.status.src=t[i],n.status.format[i]=!0,n.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(i){this._flashError(i)}},_flash_setVideo:function(t){var n=this;try{e.each(this.formats,function(e,i){if(n.flash.support[i]&&t[i]){switch(i){case"m4v":case"flv":n._getMovie().fl_setVideo_m4v(t[i]);break;case"rtmpv":n._getMovie().fl_setVideo_rtmp(t[i])}return n.status.src=t[i],n.status.format[i]=!0,n.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(i){this._flashError(i)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(e){this._flashError(e)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(e){this._flashError(e)}this.status.waitForLoad=!1},_flash_play:function(e){try{this._getMovie().fl_play(e)}catch(t){this._flashError(t)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(e){try{this._getMovie().fl_pause(e)}catch(t){this._flashError(t)}e>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(e){try{this._getMovie().fl_play_head(e)}catch(t){this._flashError(t)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(e){try{this._getMovie().fl_volume(e)}catch(t){this._flashError(t)}},_flash_mute:function(e){try{this._getMovie().fl_mute(e)}catch(t){this._flashError(t)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var e,t=0;if(window.ActiveXObject)try{if(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var n=e.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),t=parseInt(n[0],10)+"."+parseInt(n[1],10))}}catch(i){}else navigator.plugins&&navigator.mimeTypes.length>0&&(e=navigator.plugins["Shockwave Flash"],e&&(t=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*t},_checkForFlash:function(e){var t=!1;return this._getFlashPluginVersion()>=e&&(t=!0),t},_validString:function(e){return e&&"string"==typeof e},_limitValue:function(e,t,n){return t>e?t:e>n?n:e},_urlNotSetError:function(t){this._error({type:e.jPlayer.error.URL_NOT_SET,context:t,message:e.jPlayer.errorMsg.URL_NOT_SET,hint:e.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(t){var n;n=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({
type:e.jPlayer.error[n],context:this.internal.flash.swf,message:e.jPlayer.errorMsg[n]+t.message,hint:e.jPlayer.errorHint[n]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(t){this._trigger(e.jPlayer.event.error,t),this.options.errorAlerts&&this._alert("Error!"+(t.message?"\n"+t.message:"")+(t.hint?"\n"+t.hint:"")+"\nContext: "+t.context)},_warning:function(n){this._trigger(e.jPlayer.event.warning,t,n),this.options.warningAlerts&&this._alert("Warning!"+(n.message?"\n"+n.message:"")+(n.hint?"\n"+n.hint:"")+"\nContext: "+n.context)},_alert:function(e){var t="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+e;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(t):alert(t)},_emulateHtmlBridge:function(){var t=this;e.each(e.jPlayer.emulateMethods.split(/\s+/g),function(e,n){t.internal.domNode[n]=function(e){t[n](e)}}),e.each(e.jPlayer.event,function(n,i){var r=!0;e.each(e.jPlayer.reservedEvent.split(/\s+/g),function(e,t){return t===n?(r=!1,!1):void 0}),r&&t.element.bind(i+".jPlayer.jPlayerHtml",function(){t._emulateHtmlUpdate();var e=document.createEvent("Event");e.initEvent(n,!1,!0),t.internal.domNode.dispatchEvent(e)})})},_emulateHtmlUpdate:function(){var t=this;e.each(e.jPlayer.emulateStatus.split(/\s+/g),function(e,n){t.internal.domNode[n]=t.status[n]}),e.each(e.jPlayer.emulateOptions.split(/\s+/g),function(e,n){t.internal.domNode[n]=t.options[n]})},_destroyHtmlBridge:function(){var t=this;this.element.unbind(".jPlayerHtml");var n=e.jPlayer.emulateMethods+" "+e.jPlayer.emulateStatus+" "+e.jPlayer.emulateOptions;e.each(n.split(/\s+/g),function(e,n){delete t.internal.domNode[n]})}},e.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},e.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+e.jPlayer.prototype.version.script+" needs Jplayer.swf version "+e.jPlayer.prototype.version.needFlash+" but found "},e.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},e.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},e.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},e.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}),define("app/pages/storypage/storypage",["mtemplate!app/pages/storypage/storypage.mustache","basecontroller","jplayer"],function(e,t){t.extend("Page.Storypage",{},{html:null,template:e,navbarOptions:{},init:function(e,t){this._super(e,t)},getData:function(){return{}},preRender:function(e){},postRender:function(){var e=this.options.story;return e.hasAccess?void 0:void console.log("no access")},".jp-play click":function(e,t){t.stop();var n=this.options.story;if(n.hasAccess)App.player.playStory(this.options.story);else{var i={callback:function(){FM7App.closeModal(".popup")},message:"Denna kräver att du är inloggad"};App.openPopup(Page.Login,i)}},".jp-pause click":function(e,t){t.stop(),App.player.pause()},".input-slider input change":function(e,t){var n=e.val();console.log("input change "+n),App.player.setTime(Number(n))}})}),define("mtemplate!app/pages/storiespage/storiespage.mustache",["can/view/mustache"],function(e){var t='<div class="content-block">\n	<h1>{{title}}</h1>\n</div>\n\n\n<div class="list-block media-list issue-list story-list">\n	<ul>\n		{{#each stories}}\n		{{{partial \'item\'}}}\n		\n		{{/each}}\n		\n	</ul>\n	\n	\n</div>';return can.mustache(t)}),define("app/pages/storiespage/storiespage",["mtemplate!app/pages/storiespage/storiespage.mustache","basecontroller"],function(e,t){t.extend("Page.Storiespage",{defaults:{request:{}}},{html:null,template:e,init:function(e,t){this._super(e,t)},getData:function(){return{stories:Story.getAll(this.options.request)}},preRender:function(e){e.request},".story click":function(e,t){t.stop();var n=e.data("model");App.openStoryPage(n)}})}),define("mtemplate!app/pages/storypage/storypagevideo.mustache",["can/view/mustache"],function(e){var t='<div>\n\n<div class="content-block">\n	<h3>{{story.title}}</h3>\n</div>\n\n<video controls=""  name="media">\n<source src="{{story.mp3url}}" type="audio/mpeg">\n</video>\n\n\n</div>';return can.mustache(t)}),define("app/pages/storypage/storypagevideo",["mtemplate!app/pages/storypage/storypagevideo.mustache","basecontroller"],function(e,t){t.extend("Page.Storypagevideo",{},{html:null,template:e,navbarOptions:{},init:function(e,t){this._super(e,t)},getData:function(){return{}},preRender:function(e){},postRender:function(){var e=this.options.story._id;$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:"Bubble",mp3:"/mp3/"+e})},swfPath:"js",supplied:"mp3",wmode:"window",smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!0,toggleDuration:!0})}})}),define("mtemplate!app/pages/adminstart/adminstart.mustache",["can/view/mustache"],function(e){var t='\n\n\n<div class="list-block issue-list story-list">\n	<ul>\n		<li class="" >\n			<a href="adminstories" class="navigate">\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title-row">\n						<div class="item-title title">Historier</div>\n					</div>\n				</div>\n			</div>\n			</a>\n		</li>\n		<li class="" >\n			<a href="adminusers" class="navigate">\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title-row">\n						<div class="item-title title">Användare</div>\n					</div>\n				</div>\n			</div>\n			</a>\n		</li>\n		\n	</ul>\n	\n	\n</div>';return can.mustache(t)}),define("app/pages/adminstart/adminstart",["mtemplate!app/pages/adminstart/adminstart.mustache","basecontroller"],function(e,t){t.extend("Page.Adminstart",{requiresLogin:!0},{html:null,template:e,getData:function(){return{}}})}),define("mtemplate!app/pages/adminstories/adminstories.mustache",["can/view/mustache"],function(e){var t='\n\n<div class="locate-right">\n		<a class="button small right button-fill" id="create-new">Skapa ny</a>\n	</div>\n\n\n<div class="list-block media-list issue-list story-list">\n	<ul>\n		{{#each stories}}\n		{{{partial \'item\'}}}\n		\n		{{/each}}\n		\n	</ul>\n	\n	\n</div>';return can.mustache(t)}),define("app/pages/adminstories/adminstories",["mtemplate!app/pages/adminstories/adminstories.mustache","basecontroller"],function(e,t){t.extend("Page.Adminstories",{requiresLogin:!0},{html:null,template:e,init:function(e,t){this._super(e,t)},getData:function(){return{stories:Story.findAdminStories()}},".story click":function(e,t){t.stop(),App.openPage(Page.Adminstory,{story:e.data("model")})},"#create-new click":function(e,t){t.stop(),App.openPage(Page.Adminstory,{story:Story.createNew()})},"{Story} created":function(e,t,n){this.options.stories.push(n)}})}),define("mtemplate!app/pages/adminusers/adminusers.mustache",["can/view/mustache"],function(e){var t='\n\n<h2>Användare</h2>\n\n\n<div class="content-block">\n	<table>\n		<thead>\n	<tr>\n		<th>Email</th>\n		<th>Signup Datum</th>\n	</tr>\n	</thead>\n	<tbody>\n	{{#each users}}\n	<tr>\n		\n		<td>\n			{{email}}\n		</td>\n		<td>\n			{{date createdDate}}\n		</td>\n		\n	</tr>\n	{{/each}}\n	</tbody>\n	</table>\n	\n	\n</div>';return can.mustache(t)}),define("app/pages/adminusers/adminusers",["mtemplate!app/pages/adminusers/adminusers.mustache","basecontroller"],function(e,t){t.extend("Page.Adminusers",{requiresLogin:!0},{template:e,getData:function(){return{users:Model.User.getAll()}},preRender:function(e){e.users.each(function(e){console.log(e.email),console.log(e.created)})}})}),define("mtemplate!app/pages/adminstory/adminstory.mustache",["can/view/mustache"],function(e){var t='\n<div class="locate-right">\n	<a class="button small right" id="delete">Radera</a>\n</div>\n\n	\n\n<div class="list-block">\n\n	<ul>\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Skapad av</div>\n					<div class="item-input">{{story.createdByEmail}}\n					</div>\n				</div>\n			</div>\n		</li>\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Titel</div>\n					<div class="item-input">\n						<input type="text" can-value="story.title" placeholder="Titel">\n					</div>\n				</div>\n			</div>\n		</li>\n		<li class="align-top">\n	      <div class="item-content">\n	        <div class="item-inner">\n	          <div class="item-title label">Beskrivning</div>\n	          <div class="item-input">\n	            <textarea can-value="story.description"></textarea>\n	          </div>\n	        </div>\n	      </div>\n	    </li>\n		\n		<li class="align-top">\n	      <div class="item-content">\n	        <div class="item-inner">\n	          <div class="item-title label">Text</div>\n	          <div class="item-input">\n	            <textarea can-value="story.text"></textarea>\n	          </div>\n	        </div>\n	      </div>\n	    </li>\n		{{#if profile.admin}}\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">MP3</div>\n					<div class="item-input">\n						<input type="text" id="mp3-filename" can-value="story.mp3file" placeholder="MP3-fil">\n						<input type="file" id="fileinput" style="display: none;">\n					</div>\n				</div>\n			</div>\n		</li>\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Publicerad</div>\n					<div class="item-input">\n						<input type="date" placeholder="Datum" can-value="story.publishedString" >\n					</div>\n				</div>\n			</div>\n		</li>\n		\n		\n		 \n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Aktiv</div>\n					<div class="item-input">\n						<label class="label-switch"> <input type="checkbox" can-value="story.active">\n							<div class="checkbox"></div>\n						</label>\n					</div>\n				</div>\n			</div>\n		</li>\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Gratis</div>\n					<div class="item-input">\n						<label class="label-switch"> <input type="checkbox" can-value="story.free">\n							<div class="checkbox"></div>\n						</label>\n					</div>\n				</div>\n			</div>\n		</li>\n		<li>\n            <div class="item-content">\n              <div class="item-inner">\n                <div class="item-title label">Kategori</div>\n                <div class="item-input">\n                  \n                  <select can-value="story.categoryId">\n					{{#each categories}}\n					<option value="{{id}}">{{name}}</option>\n					{{/each}}\n					\n					</select>\n                </div>\n              </div>\n            </div>\n          </li>\n          {{/if}}\n	</ul>\n	<div class="content-block">\n		<div class="row">\n			<div class="col-50"><a href="#" id="cancel" class="button button-big">Avbryt</a></div>\n			<div class="col-50"><a href="#" id="save" class="button button-big button-fill">Spara</a></div>\n\n		</div>\n		<div class="row">\n		\n			<div class="col-50"></div>\n\n		</div>\n	</div>\n</div>\n';return can.mustache(t)}),define("app/pages/adminstory/adminstory",["mtemplate!app/pages/adminstory/adminstory.mustache","basecontroller"],function(e,t){t.extend("Page.Adminstory",{},{html:null,template:e,navbarOptions:{},init:function(e,t){this._super(e,t)},getData:function(){return{categories:Category.getAll()}},preRender:function(e){this.options.story.backup()},postRender:function(){var e=this.element[0];FM7App.initPage(e)},"#save click":function(e,t){t.stop();var n=this;this.options.story.save().done(function(){n.uploadFile().done(function(){n.file=null,App.mainView.back()})})},"#delete click":function(e,t){t.stop();var n=this;FM7App.modal({text:"Är du säker att du vill radera?",title:"Radera",buttons:[{text:"Avbryt"},{text:"OK",bold:!0,onClick:function(){n.options.story.destroy().done(function(){App.mainView.back()})}}]})},"#cancel click":function(e,t){t.stop(),this.options.story.restore(),App.mainView.back()},uploadFile:function(){if(null==this.file)return can.Deferred().resolve();var e=new FormData,t=this.file,n=this.options.story._id;return e.append(n,t),$.ajax({url:"/mp3upload",type:"POST",data:e,cache:!1,dataType:"json",processData:!1,contentType:!1,success:function(e,t,n){"undefined"==typeof e.error?console.log("success"):console.log("ERRORS: "+e.error)},error:function(e,t,n){console.log("ERRORS: "+t)}})},"#fileinput change":function(e,t){console.log("fileinput change"),this.file=event.target.files[0],this.options.story.attr("mp3file",this.file.name)},"#mp3-filename click":function(e,t){t.stop(),this.element.find("#fileinput").click()}})}),define("mtemplate!app/pages/login/login.mustache",["can/view/mustache"],function(e){var t='\n\n\n\n{{#if profile.loggedIn}}\n<div class="content-block-title">Inloggad</div>\n<div class="list-block">\n	\n	<div class="content-block">\n	<div class="row">\n		<div class="col-50"><a href="#" id="cancel" class="button cancel button-big">Avbryt</a></div>\n		<div class="col-50"><a href="#" id="logout" class="button save button-big active">Logout</a></div>\n	</div>\n	</div>\n</div>\n{{else}}\n<div class="content-block-title">{{message}}</div>\n<div class="list-block">\n	<ul>\n\n\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Email</div>\n					<div class="item-input">\n						\n						<input type="email" can-value="profile.email" autocapitalize="off">\n			\n					</div>\n				</div>\n			</div>\n		</li>\n		\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Lösenord</div>\n					<div class="item-input">\n						\n						<input type="password" can-value="profile.password">\n			\n					</div>\n				</div>\n			</div>\n		</li>\n	</ul>\n	<div class="content-block">\n		<div class="row">\n			<div class="col-50"><a href="#" id="cancel" class="button cancel button-big">Avbryt</a></div>\n			<div class="col-50"><a href="#" id="login" class="button save button-big active">Login</a></div>\n		</div>\n		\n	</div>\n	<div class="content-block">\n		<a href="#" id="to-signup" style="float: right;">Signup</a>\n	</div>\n</div>\n{{/if}}\n\n\n\n';return can.mustache(t)}),define("app/pages/login/login",["mtemplate!app/pages/login/login.mustache","basecontroller"],function(e,t){t.extend("Page.Login",{},{html:null,template:e,navbarOptions:{},init:function(e,t){this._super(e,t),this.options.request=new can.Map({email:"test",password:"test"})},getData:function(){},preRender:function(e){this.options.message=this.options.message||"Logga in"},postRender:function(){},"a#login click":function(e,t){t.stop();var n=this;this.element.find("input").blur(),this.options.profile.login().done(function(){n.options.callback?n.options.callback():FM7App.closeModal(".popup")})},"a#to-signup click":function(e,t){t.stop(),FM7App.openPage(App.popupView,{pageController:Page.Signup,options:{}})},"a#cancel click":function(e,t){t.stop(),FM7App.closeModal(".popup")},"a#signup click":function(e,t){t.stop();var n=this.options.request.serialize();C.jsonajax({url:"/users/signup",data:n}).done(function(e){console.log("signup")})},"a#restricted click":function(e,t){t.stop(),C.jsonajax({url:"/testrestrict",type:"GET"}).done(function(e){alert(e)})},"a#logout click":function(e,t){t.stop(),this.options.profile.logout()},"a.navigate click":function(e,t){t.stop();var n=e.attr("href");FM7App.loadPage(FM7App.mainView,n,!1),FM7App.closeModal(".popup")}})}),define("mtemplate!app/pages/signup/signup.mustache",["can/view/mustache"],function(e){var t='\n<div class="content-block-title">Signup</div>\n<div class="list-block">\n	<ul>\n\n\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Email</div>\n					<div class="item-input">\n						\n						<input type="email" can-value="profile.email" autocapitalize="off">\n			\n					</div>\n				</div>\n			</div>\n		</li>\n		\n		<li>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title label">Lösenord</div>\n					<div class="item-input">\n						\n						<input type="password" can-value="profile.password">\n			\n					</div>\n				</div>\n			</div>\n		</li>\n	</ul>\n	<div class="content-block">\n	<div class="row">\n		<div class="col-50"><a href="#" id="cancel" class="button cancel button-big">Avbryt</a></div>\n		<div class="col-50"><a href="#" id="signup" class="button save button-big active">Signup</a></div>\n	</div>\n	</div>\n</div>\n\n\n\n\n';return can.mustache(t)}),define("app/pages/signup/signup",["mtemplate!app/pages/signup/signup.mustache","basecontroller"],function(e,t){t.extend("Page.Signup",{},{html:null,template:e,navbarOptions:{},init:function(e,t){this._super(e,t)},getData:function(){return{profile:App.profile}},preRender:function(e){},postRender:function(){},"a#login click":function(e,t){t.stop(),this.options.profile.login().done(function(){FM7App.closeModal(".popup")})},"a#cancel click":function(e,t){t.stop(),FM7App.closeModal(".popup")},"a#signup click":function(e,t){t.stop(),this.options.profile.signup().done(function(){FM7App.closeModal(".popup")})},"a#restricted click":function(e,t){t.stop(),C.jsonajax({url:"/testrestrict",type:"GET"}).done(function(e){alert(e)})},"a#logout click":function(e,t){t.stop(),this.options.profile.logout()}})}),define("mtemplate!app/pages/homepage/homepage.mustache",["can/view/mustache"],function(e){var t='\n\n\n<h2>Senaste</h2>\n\n<div class="list-block media-list issue-list story-list" storytype="latest">\n	\n	<ul>\n	{{#each model.latest}}\n		{{{partial "item"}}}\n	{{/each}}\n	</ul>\n\n	<div class="locate-right">\n		<a class="button small right button-fill" id="navigate-to-more">Se fler</a>\n	</div>\n</div>\n\n\n<h2>Gratis</h2>\n\n<div class="list-block media-list issue-list story-list" storytype="free">\n	\n	<ul>\n	{{#each model.free}}\n		{{{partial "item"}}}\n	{{/each}}\n	</ul>\n\n	<div class="locate-right">\n		<a class="button small right button-fill" id="navigate-to-more">Se fler</a>\n	</div>\n</div>\n\n\n<h2>Kategorier</h2>\n<div class="list-block media-list issue-list story-list">\n\n	<ul>\n		\n		{{#each categories}}\n		\n		<li class="category" {{data \'model\'}}>\n			<div class="item-content">\n				<div class="item-inner">\n					<div class="item-title-row">\n						<div class="item-title title">{{name}}</div>\n					</div>\n				</div>\n			</div>\n		</li>\n		\n		{{/each}}\n	</ul>\n</div>\n\n\n\n<div class="content-block inset" id="my-material-box">\n	<div class="content-block-inner">\n		<p class="title">Mitt material</p>\n		<p class="">Ladda upp din egen berättelse och få den publicerad!</p>\n	</div>\n</div>\n';return can.mustache(t)}),define("common/basemodel",["can/model"],function(){return can.Model.extend("BaseModel",{get:function(){return this.findOne(-1)},getAll:function(e){return this.findAll(e)},loadModels:function(e){var t=can.Deferred(),n=this;return C.jsonajax(e).done(function(e){var i=n.models(e);t.resolve(i)}),t.promise()},getOne:function(e){var t=new $.Deferred;return this.getAll().done(function(n){t.resolve(n.getOne(e))}),t.promise()}},{changedAttributes:function(){var e={},t=this.serialize();for(var n in t){var i=t[n],r=this._backupStore[n];can.Object.same(i,r)||(e[n]=i)}return e}})}),define("app/models/story",["common/basemodel"],function(){BaseModel.extend("Story",{id:"_id",findAll:function(e){return C.jsonajax({url:"/story/all",dataType:"json",data:e,type:"POST"})},findAdminStories:function(){var e=can.Deferred(),t=this;return C.jsonajax({url:"/story/adminstories",type:"GET"}).done(function(n){var i=t.models(n);e.resolve(i)}),e.promise()},create:function(e){return console.log("create"),C.jsonajax({url:"/story",data:e})},destroy:function(e){return C.jsonajax({url:"/story",data:{_id:e},type:"DELETE"})},update:function(e,t){return console.log("update"),C.jsonajax({url:"/story",data:t,type:"PUT"})},createNew:function(){var e=new Story({published:new Date});return e}},{playing:!1,progress:null,progressPercent:0,mp3url:function(){return"/mp3/"+this._id},state:function(){return this.attr("playing")?"play":"pause"},clearPlaying:function(){this.attr("playing",!1),this.attr("time",null)},setTime:function(e,t){var n=100*e/t,i=new Date(2e3,0,0,0,0,e,0);this.attr("progress",i.format("{m}:{ss}")),n&&this.attr("progressPercent",Math.round(n))},define:{published:{type:"date"},publishedString:{type:"string",get:function(){var e=this.attr("published");if(null==e)return null;var t=C.formatDate(e);return t},set:function(e){return console.log("set publishedDate"),this.attr("published",C.parseDate(e)),e}},categoryId:{type:"string",set:function(e){return"none"==e?null:e}}}})}),define("app/pages/homepage/homepagemodel",["app/models/story"],function(){BaseModel.extend("HomePageModel",{_findOne:function(){return C.jsonajax({url:"/homepage",dataType:"json",type:"POST"})},findOne:function(){return this._findOne()}},{sync:function(){var e=this;HomePageModel._findOne().done(function(t){e.attr(t,!0)})},define:{free:{Type:Story.List},latest:{Type:Story.List}}})}),define("app/pages/homepage/homepage",["mtemplate!app/pages/homepage/homepage.mustache","basecontroller","app/pages/homepage/homepagemodel"],function(e,t){t.extend("Page.Homepage",{},{html:null,template:e,init:function(e,t){this._super(e,t)},getData:function(){return{model:HomePageModel.get(),categories:Category.getAll()}},preRender:function(e){e.attr("categories",e.categories.getActive())},postRender:function(){FM7App.slider(".slider-container",{spaceBetween:10,slidesPerView:3})},".story click":function(e,t){t.stop();var n=e.data("model");App.openStoryPage(n)},".category click":function(e,t){t.stop();var n=e.model();App.openPage(Page.Storiespage,{request:{type:"category",categoryId:n.id},title:n.name})},"a#navigate-to-more click":function(e,t){t.stop();var n=e.closest(".story-list"),i=n.attr("storytype");App.openPage(Page.Storiespage,{request:{type:i},title:App.typeName(i)})},"#my-material-box click":function(e,t){t.stop(),App.openPage(Page.Adminstories,{})},"{Profile} update":function(e,t,n){console.log("login triggered"),this.options.model.sync()}})}),define("app/pages",["app/pages/storypage/storypage","app/pages/storiespage/storiespage","app/pages/storypage/storypagevideo","app/pages/adminstart/adminstart","app/pages/adminstories/adminstories","app/pages/adminusers/adminusers","app/pages/adminstory/adminstory","app/pages/login/login","app/pages/signup/signup","app/pages/homepage/homepage"],function(){console.log("loaded pages")}),define("app/models/profile",["common/basemodel"],function(){BaseModel.extend("Profile",{findOne:function(){return C.jsonajax({url:"/users/get",dataType:"json",type:"GET"})}},{authAction:function(){return this.attr("loggedIn")?"Logout":"Login"},login:function(){var e=this,t=this.serialize();return C.jsonajax({url:"/users/login",data:t}).done(function(t){e.attr(t),can.trigger(Profile,"update")}).fail(function(){console.error("failed log in")})},signup:function(){var e=this,t=this.serialize();return C.jsonajax({url:"/users/signup",data:t}).done(function(t){e.attr(t),can.trigger(Profile,"update")}).fail(function(){console.error("failed signup")})},logout:function(){var e=this;return C.jsonajax({url:"/users/logout",type:"GET"}).done(function(t){e.attr(t),can.trigger(Profile,"update")}).fail(function(){console.error("failed log out")})}})}),define("app/models/category",["common/basemodel"],function(){BaseModel.extend("Category",{json:[{name:"ingen",id:"none"},{name:"Kategori 1",id:"kategori1"},{name:"Kategori 2",id:"kategori2"},{name:"Kategori 3",id:"kategori3"}],findAll:function(){var e=can.Deferred(),t=this.models(this.json);return e.resolve(t)}},{}),Category.List=Category.List.extend({findById:function(e){return this.filter(function(t){return t.id==e})[0]},getActive:function(){return this.filter(function(e){return"none"!=e.id})}})}),define("app/models/user",["common/basemodel"],function(){BaseModel.extend("Model.User",{findAll:function(){return C.jsonajax({url:"/adminusers/all",type:"POST",dataType:"json"}).done(function(){console.log("got users")})}},{define:{createdDate:{type:"date"}}})}),define("app/models",["app/models/story","app/models/profile","app/models/category","app/models/user"],function(){}),define("can/util/fixture",["can/util/library","can/util/string","can/util/object"],function(e){if(!e.Object)throw new Error("can.fixture depends on can.Object. Please include it before can.fixture.");var t=function(t){return"undefined"!=typeof steal?e.isFunction(steal.config)?steal.config().root.mapJoin(t).toString():steal.root.join(t).toString():(e.fixture.rootUrl||"")+t},n=function(n,i){if(e.fixture.on){var r=function(){};n.type=n.type||n.method||"GET";var a=u(n);if(!n.fixture)return void("file:"===window.location.protocol&&r("ajax request to "+n.url+", no fixture found"));if("string"==typeof n.fixture&&e.fixture[n.fixture]&&(n.fixture=e.fixture[n.fixture]),"string"==typeof n.fixture){var s=n.fixture;/^\/\//.test(s)&&(s=t(n.fixture.substr(2))),a&&(s=e.sub(s,a)),delete n.fixture,n.url=s,n.data=null,n.type="GET",n.error||(n.error=function(e,t,n){throw"fixtures.js Error "+t+" "+n})}else n.dataTypes&&n.dataTypes.splice(0,0,"fixture"),a&&i&&(i.data=i.data||{},e.extend(i.data,a))}},i=function(e,t,n,i){return"number"!=typeof e&&(i=t,n=e,t="success",e=200),"string"!=typeof t&&(i=n,n=t,t="success"),e>=400&&599>=e&&(this.dataType="text"),[e,t,r(this,n),i]},r=function(e,t){var n=e.dataTypes?e.dataTypes[0]:e.dataType||"json";if(!t||!t[n]){var i={};i[n]=t,t=i}return t};if(e.ajaxPrefilter&&e.ajaxTransport)e.ajaxPrefilter(n),e.ajaxTransport("fixture",function(t,n){t.dataTypes.shift();var a,s=!1;return{send:function(o,u){a=setTimeout(function(){var e=function(){s===!1&&u.apply(null,i.apply(t,arguments))},a=t.fixture(n,e,o,t);void 0!==a&&u(200,"success",r(t,a),{})},e.fixture.delay)},abort:function(){s=!0,clearTimeout(a)}}});else{var a=e.ajax;e.ajax=function(t){if(n(t,t),t.fixture){var r,s=new e.Deferred,o=!1;return s.getResponseHeader=function(){},s.then(t.success,t.fail),s.abort=function(){clearTimeout(r),o=!0,s.reject(s)},r=setTimeout(function(){var e=function(){var e=i.apply(t,arguments),n=e[0];(n>=200&&300>n||304===n)&&o===!1?s.resolve(e[2][t.dataType]):s.reject(s,"error",e[1])},n=t.fixture(t,e,t.headers,t);void 0!==n&&s.resolve(n)},e.fixture.delay),s}return a(t)}}var s=[],o=function(e,t){for(var n=0;n<s.length;n++)if(l._similar(e,s[n],t))return n;return-1},u=function(e){var t=o(e);return t>-1?(e.fixture=s[t].fixture,l._getData(s[t].url,e.url)):void 0},c=function(e){var t=e.data.id;return void 0===t&&"number"==typeof e.data&&(t=e.data),void 0===t&&e.url.replace(/\/(\d+)(\/|$|\.)/g,function(e,n){t=n}),void 0===t&&(t=e.url.replace(/\/(\w+)(\/|$|\.)/g,function(e,n){"update"!==n&&(t=n)})),void 0===t&&(t=Math.round(1e3*Math.random())),t},l=e.fixture=function(t,n){if(void 0!==n){if("string"==typeof t){var i=t.match(/(GET|POST|PUT|DELETE) (.+)/i);t=i?{url:i[2],type:i[1]}:{url:t}}var r=o(t,!!n);if(r>-1&&s.splice(r,1),null==n)return;t.fixture=n,s.push(t)}else e.each(t,function(e,t){l(t,e)})},d=e.replacer;return e.extend(e.fixture,{_similar:function(t,n,i){return i?e.Object.same(t,n,{fixture:null}):e.Object.subset(t,n,e.fixture._compare)},_compare:{url:function(e,t){return!!l._getData(t,e)},fixture:null,type:"i"},_getData:function(t,n){var i=[],r=t.replace(".","\\.").replace("?","\\?"),a=new RegExp(r.replace(d,function(e,t){return i.push(t),"([^/]+)"})+"$").exec(n),s={};return a?(a.shift(),e.each(i,function(e){s[e]=a.shift()}),s):null},store:function(t,n,i){var r,a,s,o=0,u=function(e){for(var t=0;t<a.length;t++)if(e==a[t].id)return a[t]},l={};if(e.isArray(t)&&"string"==typeof t[0]?(r=t,t=n,n=i,i=arguments[3]):"string"==typeof t&&(r=[t+"s",t],t=n,n=i,i=arguments[3]),"number"==typeof t)a=[],s=function(){a=[];for(var i=0;t>i;i++){var s=n(i,a);s.id||(s.id=i),o=Math.max(s.id+1,o+1)||a.length,a.push(s)}e.isArray(r)&&(e.fixture["~"+r[0]]=a,e.fixture["-"+r[0]]=l.findAll,e.fixture["-"+r[1]]=l.findOne,e.fixture["-"+r[1]+"Update"]=l.update,e.fixture["-"+r[1]+"Destroy"]=l.destroy,e.fixture["-"+r[1]+"Create"]=l.create)};else{i=n;var d=t;s=function(){a=d.slice(0)}}return e.extend(l,{findAll:function(t){t=t||{};var n=a.slice(0);t.data=t.data||{},e.each((t.data.order||[]).slice(0).reverse(),function(e){var t=e.split(" ");n=n.sort(function(e,n){return"ASC"!==t[1].toUpperCase()?e[t[0]]<n[t[0]]?1:e[t[0]]===n[t[0]]?0:-1:e[t[0]]<n[t[0]]?-1:e[t[0]]===n[t[0]]?0:1})}),e.each((t.data.group||[]).slice(0).reverse(),function(e){var t=e.split(" ");n=n.sort(function(e,n){return e[t[0]]>n[t[0]]})});var r=parseInt(t.data.offset,10)||0,s=parseInt(t.data.limit,10)||a.length-r,o=0;for(var u in t.data)if(o=0,void 0!==t.data[u]&&(-1!==u.indexOf("Id")||-1!==u.indexOf("_id")))for(;o<n.length;)t.data[u]!=n[o][u]?n.splice(o,1):o++;if("function"==typeof i)for(o=0;o<n.length;)i(n[o],t)?o++:n.splice(o,1);else if("object"==typeof i)for(o=0;o<n.length;)e.Object.subset(n[o],t.data,i)?o++:n.splice(o,1);return{count:n.length,limit:t.data.limit,offset:t.data.offset,data:n.slice(r,r+s)}},findOne:function(e,t){var n=u(c(e));return"undefined"==typeof n?t(404,"Requested resource not found"):void t(n)},update:function(t,n){var i=c(t),r=u(i);return"undefined"==typeof r?n(404,"Requested resource not found"):(e.extend(r,t.data),void n({id:i},{location:t.url||"/"+c(t)}))},destroy:function(e,t){var n=c(e),i=u(n);if("undefined"==typeof i)return t(404,"Requested resource not found");for(var r=0;r<a.length;r++)if(a[r].id==n){a.splice(r,1);break}return{}},create:function(t,i){var r=n(a.length,a);e.extend(r,t.data),r.id||(r.id=o++),a.push(r),i({id:r.id},{location:t.url+"/"+r.id})}}),s(),e.extend({getId:c,find:function(e){return u(c(e))},reset:s},l)},rand:function h(e,t,n){if("number"==typeof e)return"number"==typeof t?e+Math.floor(Math.random()*(t-e)):Math.floor(Math.random()*e);var i=h;if(void 0===t)return i(e,i(e.length+1));var r=[];e=e.slice(0),n||(n=t),n=t+Math.round(i(n-t));for(var a=0;n>a;a++)r.push(e.splice(i(e.length),1)[0]);return r},xhr:function(t){return e.extend({},{abort:e.noop,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:e.noop,overrideMimeType:e.noop,readyState:4,responseText:"",responseXML:null,send:e.noop,setRequestHeader:e.noop,status:200,statusText:"OK"},t)},on:!0}),e.fixture.delay=200,e.fixture.rootUrl=t(""),e.fixture["-handleFunction"]=function(t){return"string"==typeof t.fixture&&e.fixture[t.fixture]&&(t.fixture=e.fixture[t.fixture]),"function"==typeof t.fixture?(setTimeout(function(){
t.success&&t.success.apply(null,t.fixture(t,"success")),t.complete&&t.complete.apply(null,t.fixture(t,"complete"))},e.fixture.delay),!0):!1},e.fixture.overwrites=s,e.fixture.make=e.fixture.store,e.fixture}),define("app/models/fixtures",["can/util/fixture"],function(){can.fixture.delay=0;var e=function(e){var t=can.fixture.store(e.length,function(t){var n=e[t];return null==n.id&&(n.id=t),n});return t},t=e([{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"},{message:"Allright!"},{message:"New model arrived!"}]);can.fixture({"GET /mevent":t.findAll})}),define("mtemplate!app/partials/item.html",["can/view/mustache"],function(e){var t='<li class="story" {{data \'model\'}}>\n	<div class="item-content">\n		<div class="item-inner">\n			<div class="item-title-row">\n				<div class="item-title title">{{title}}</div>\n			</div>\n			<div class="description">{{description}}</div>\n		</div>\n	</div>\n</li>';return can.mustache(t)}),define("app/mustachehelpers",["can/view/mustache","mtemplate!app/partials/item.html"],function(e,t){var n={item:t};Mustache.registerHelper("categoryname",function(e){Category.getAll().done(function(t){return t.getOne(e).name})}),Mustache.registerHelper("date",function(e){return e=C.compute(e),C.formatDate(e)}),Mustache.registerHelper("partial",function(e,t){var i=n[e];return i.render(t.context)})}),define("app/appcommon",["canjs-commons/functions","can/view/mustache","canjs-commons/extensions","can/util/library","can/control/route","can/model","can/component","can/control","can/route","can/map/delegate","can/construct/super","can/construct/proxy","can/control/plugin","can/list","can/map/backup","can/map/define","can/map/validations"],function(e){C=e,can.extend(C,{formatDate:function(e){if(null==e)return console.error("could not format "+e),null;if("string"==typeof e)return e;var t=e.format("{yyyy}-{MM}-{dd}");return t},compute:function(e){return can.isFunction(e)?e():e},parseDate:function(e){var t=e.split("-"),n=new Date(t[0],t[1]-1,t[2],12,0,0,0);return console.log("parseDate "+n),n}})}),define("app/player",["can/model"],function(){can.Model("Player",{},{progress:"",setStory:function(e){if(this.story){if(this.story._id==e._id)return;this.story.clearPlaying()}this.attr("story",e);var t=this.audio;t.pause(),t.setAttribute("src","/mp3/"+e._id),t.load()},setTime:function(e){var t=this.audio,n=t.duration*e/100;this.audio.currentTime=n},playStory:function(e){this.setStory(e),this.play()},play:function(){this.story.attr("playing",!0),this.audio.play()},pause:function(){this.story.attr("playing",!1),this.audio.pause()},initPlayer:function(){var e=this,t=$(".audioplayer").get(0);this.audio=t,t.addEventListener("timeupdate",function(n){e.story.setTime(t.currentTime,t.duration)})}})}),define("app/appcontrol",["mtemplate!app/sitecontainer.html","mtemplate!app/pagenavbar.html","mtemplate!app/popupnavbar.html","canjs-commons/functions","jquery","can/view/mustache","canjs-commons/extensions","can/util/library","can/control/route","can/model","can/component","can/control","can/route","can/map/delegate","can/construct/super","can/construct/proxy","can/control/plugin","can/list","can/map/backup","can/map/define","can/map/validations","framework7","sugar","canjs-commons/extensions","canjsfm7-plugin/plugin","app/pages","app/models","app/models/fixtures","app/mustachehelpers","app/appcommon","app/player"],function(e,t,n,i){can.Control.extend("AppControl",{},{init:function(){var i=this;Profile.get().done(function(r){var a=new Player;i.element.find("body").append(e({player:a})),a.initPlayer(),FM7App=new Framework7({ajaxLinks:".link",swipeBackPage:!0,debug:!0,canjsPlugin:{navbarTemplate:t,popupNavbarTemplate:n}}),App={player:a,profile:r,openPage:function(e,t){var n;if("object"==typeof e)var n=e;else n={pageController:e,options:t};return n.options.profile=App.profile,e.requiresLogin&&!App.profile.loggedIn?void App.openPopup(Page.Login,{message:"Sidan kräver att du är inloggad",callback:function(){FM7App.openPage(App.mainView,n),FM7App.closeModal(".popup")}}):void FM7App.openPage(App.mainView,n)},openPopup:function(e,t){var n;if("object"==typeof e)var n=e;else n={pageController:e,options:t};n.options.profile=App.profile,FM7App.openPopup(App.popupView,n)},openStoryPage:function(e){App.openPage(Page.Storypage,{story:e})},mainView:FM7App.addView(".view-main",{dynamicNavbar:!0,domCache:!0}),popupView:FM7App.addView(".popup > .view",{dynamicNavbar:!0,domCache:!0}),typeName:function(e){switch(e){case"free":return"Gratis";case"latest":return"Senaste"}}},App.mainView.history=[];var s=Page.Homepage;"undefined"!=typeof defaultPage&&(s=Page[can.capitalize(defaultPage)]),App.openPage({pageController:s,options:{},animatePages:!1,showBackLink:!1})})},"{window} ajaxerror":function(e,t,n){var i=n.responseJSON;i&&i.message&&(console.log(i.message),FM7App.addNotification({title:i.message}))},".popup .controller close":function(e,t){FM7App.closeModal(".popup")},".view-main .controller close":function(e,t){App.mainView.back()},".navbar .open-login click":function(e,t){t.stop(),App.openPopup(Page.Login,{})},".navbar .playerinfo .box click":function(e,t){t.stop(),App.openPopup(Page.Storypage,{story:App.player.story})},"a.navigate click":function(e,t){t.stop();var n=Page[can.capitalize(e.attr("href"))];App.openPage(n,{})}}),new AppControl(document,{})}),requirejs.config({paths:{jquery:"../bower_components/jquery/dist/jquery",can:"../bower_components/canjs/amd/can",framework7:"../bower_components/framework7/dist/js/framework7",text:"../bower_components/text/text","canjs-commons":"resources/canjs-commons",mtemplate:"resources/canjs-commons/mustachetemplate",basecontroller:"resources/canjs-commons/basecontroller","canjsfm7-plugin":"resources/canjs-commons/canjsfm7-plugin",jplayer:"resources/jquery.jplayer.2.7.0",sugar:"../bower_components/sugar/release/sugar-full.development"},shim:{can:["jquery"],mtemplate:["jquery","can"]}}),define("app",["app/appcontrol"],function(){});