define(["jquery","can"],function(n,a){var e={jsonajax:function(e){return n.ajax({url:e.url,processData:!1,data:JSON.stringify(e.data),dataType:e.dataType||"json",contentType:"application/json",type:e.type||"POST"}).fail(function(n,e,r){a.trigger(window,"ajaxerror",n)})},dfdMap:function(a){var e=n.Deferred(),r=[],t=[];return n.map(a,function(n,a){r.push(n),t.push(a)}),n.when.apply(null,r).done(function(){var a=arguments,r={};n.each(a,function(n,a){var e=t[n];e&&(r[e]=a)}),e.resolve(r)}).fail(function(n,a,r){e.reject()}),e}};return e});